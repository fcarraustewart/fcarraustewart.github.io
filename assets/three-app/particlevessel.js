function jO(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(i,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},zu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function WO(){if(Qb)return zu;Qb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,s){var u=null;if(s!==void 0&&(u=""+s),o.key!==void 0&&(u=""+o.key),"key"in o){s={};for(var c in o)c!=="key"&&(s[c]=o[c])}else s=o;return o=s.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:s}}return zu.Fragment=e,zu.jsx=n,zu.jsxs=n,zu}var Jb;function XO(){return Jb||(Jb=1,Wm.exports=WO()),Wm.exports}var Tt=XO(),Xm={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM;function qO(){if(eM)return pt;eM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(z){return z===null||typeof z!="object"?null:(z=m&&z[m]||z["@@iterator"],typeof z=="function"?z:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,M={};function S(z,J,se){this.props=z,this.context=J,this.refs=M,this.updater=se||_}S.prototype.isReactComponent={},S.prototype.setState=function(z,J){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,J,"setState")},S.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function x(){}x.prototype=S.prototype;function w(z,J,se){this.props=z,this.context=J,this.refs=M,this.updater=se||_}var E=w.prototype=new x;E.constructor=w,b(E,S.prototype),E.isPureReactComponent=!0;var A=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},N=Object.prototype.hasOwnProperty;function L(z,J,se,Ee,Ne,ie){return se=ie.ref,{$$typeof:t,type:z,key:J,ref:se!==void 0?se:null,props:ie}}function H(z,J){return L(z.type,J,void 0,void 0,void 0,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function U(z){var J={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return J[se]})}var I=/\/+/g;function Y(z,J){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):J.toString(36)}function te(){}function ce(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(te,te):(z.status="pending",z.then(function(J){z.status==="pending"&&(z.status="fulfilled",z.value=J)},function(J){z.status==="pending"&&(z.status="rejected",z.reason=J)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function oe(z,J,se,Ee,Ne){var ie=typeof z;(ie==="undefined"||ie==="boolean")&&(z=null);var _e=!1;if(z===null)_e=!0;else switch(ie){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(z.$$typeof){case t:case e:_e=!0;break;case p:return _e=z._init,oe(_e(z._payload),J,se,Ee,Ne)}}if(_e)return Ne=Ne(z),_e=Ee===""?"."+Y(z,0):Ee,A(Ne)?(se="",_e!=null&&(se=_e.replace(I,"$&/")+"/"),oe(Ne,J,se,"",function(ge){return ge})):Ne!=null&&(P(Ne)&&(Ne=H(Ne,se+(Ne.key==null||z&&z.key===Ne.key?"":(""+Ne.key).replace(I,"$&/")+"/")+_e)),J.push(Ne)),1;_e=0;var Te=Ee===""?".":Ee+":";if(A(z))for(var Ie=0;Ie<z.length;Ie++)Ee=z[Ie],ie=Te+Y(Ee,Ie),_e+=oe(Ee,J,se,ie,Ne);else if(Ie=g(z),typeof Ie=="function")for(z=Ie.call(z),Ie=0;!(Ee=z.next()).done;)Ee=Ee.value,ie=Te+Y(Ee,Ie++),_e+=oe(Ee,J,se,ie,Ne);else if(ie==="object"){if(typeof z.then=="function")return oe(ce(z),J,se,Ee,Ne);throw J=String(z),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function B(z,J,se){if(z==null)return z;var Ee=[],Ne=0;return oe(z,Ee,"","",function(ie){return J.call(se,ie,Ne++)}),Ee}function q(z){if(z._status===-1){var J=z._result;J=J(),J.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=J)}if(z._status===1)return z._result.default;throw z._result}var X=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function ye(){}return pt.Children={map:B,forEach:function(z,J,se){B(z,function(){J.apply(this,arguments)},se)},count:function(z){var J=0;return B(z,function(){J++}),J},toArray:function(z){return B(z,function(J){return J})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},pt.Component=S,pt.Fragment=n,pt.Profiler=o,pt.PureComponent=w,pt.StrictMode=i,pt.Suspense=d,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,pt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return C.H.useMemoCache(z)}},pt.cache=function(z){return function(){return z.apply(null,arguments)}},pt.cloneElement=function(z,J,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var Ee=b({},z.props),Ne=z.key,ie=void 0;if(J!=null)for(_e in J.ref!==void 0&&(ie=void 0),J.key!==void 0&&(Ne=""+J.key),J)!N.call(J,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&J.ref===void 0||(Ee[_e]=J[_e]);var _e=arguments.length-2;if(_e===1)Ee.children=se;else if(1<_e){for(var Te=Array(_e),Ie=0;Ie<_e;Ie++)Te[Ie]=arguments[Ie+2];Ee.children=Te}return L(z.type,Ne,void 0,void 0,ie,Ee)},pt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:s,_context:z},z},pt.createElement=function(z,J,se){var Ee,Ne={},ie=null;if(J!=null)for(Ee in J.key!==void 0&&(ie=""+J.key),J)N.call(J,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(Ne[Ee]=J[Ee]);var _e=arguments.length-2;if(_e===1)Ne.children=se;else if(1<_e){for(var Te=Array(_e),Ie=0;Ie<_e;Ie++)Te[Ie]=arguments[Ie+2];Ne.children=Te}if(z&&z.defaultProps)for(Ee in _e=z.defaultProps,_e)Ne[Ee]===void 0&&(Ne[Ee]=_e[Ee]);return L(z,ie,void 0,void 0,null,Ne)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(z){return{$$typeof:c,render:z}},pt.isValidElement=P,pt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:q}},pt.memo=function(z,J){return{$$typeof:h,type:z,compare:J===void 0?null:J}},pt.startTransition=function(z){var J=C.T,se={};C.T=se;try{var Ee=z(),Ne=C.S;Ne!==null&&Ne(se,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(ye,X)}catch(ie){X(ie)}finally{C.T=J}},pt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},pt.use=function(z){return C.H.use(z)},pt.useActionState=function(z,J,se){return C.H.useActionState(z,J,se)},pt.useCallback=function(z,J){return C.H.useCallback(z,J)},pt.useContext=function(z){return C.H.useContext(z)},pt.useDebugValue=function(){},pt.useDeferredValue=function(z,J){return C.H.useDeferredValue(z,J)},pt.useEffect=function(z,J,se){var Ee=C.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(z,J)},pt.useId=function(){return C.H.useId()},pt.useImperativeHandle=function(z,J,se){return C.H.useImperativeHandle(z,J,se)},pt.useInsertionEffect=function(z,J){return C.H.useInsertionEffect(z,J)},pt.useLayoutEffect=function(z,J){return C.H.useLayoutEffect(z,J)},pt.useMemo=function(z,J){return C.H.useMemo(z,J)},pt.useOptimistic=function(z,J){return C.H.useOptimistic(z,J)},pt.useReducer=function(z,J,se){return C.H.useReducer(z,J,se)},pt.useRef=function(z){return C.H.useRef(z)},pt.useState=function(z){return C.H.useState(z)},pt.useSyncExternalStore=function(z,J,se){return C.H.useSyncExternalStore(z,J,se)},pt.useTransition=function(){return C.H.useTransition()},pt.version="19.1.1",pt}var tM;function Nl(){return tM||(tM=1,Xm.exports=qO()),Xm.exports}var F=Nl();const aA=lo(F),YO=jO({__proto__:null,default:aA},[F]);var qm={exports:{}},Bu={},Ym={exports:{}},Km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nM;function KO(){return nM||(nM=1,(function(t){function e(B,q){var X=B.length;B.push(q);e:for(;0<X;){var ye=X-1>>>1,z=B[ye];if(0<o(z,q))B[ye]=q,B[X]=z,X=ye;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var q=B[0],X=B.pop();if(X!==q){B[0]=X;e:for(var ye=0,z=B.length,J=z>>>1;ye<J;){var se=2*(ye+1)-1,Ee=B[se],Ne=se+1,ie=B[Ne];if(0>o(Ee,X))Ne<z&&0>o(ie,Ee)?(B[ye]=ie,B[Ne]=X,ye=Ne):(B[ye]=Ee,B[se]=X,ye=se);else if(Ne<z&&0>o(ie,X))B[ye]=ie,B[Ne]=X,ye=Ne;else break e}}return q}function o(B,q){var X=B.sortIndex-q.sortIndex;return X!==0?X:B.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var d=[],h=[],p=1,m=null,g=3,_=!1,b=!1,M=!1,S=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(B){for(var q=n(h);q!==null;){if(q.callback===null)i(h);else if(q.startTime<=B)i(h),q.sortIndex=q.expirationTime,e(d,q);else break;q=n(h)}}function C(B){if(M=!1,A(B),!b)if(n(d)!==null)b=!0,N||(N=!0,Y());else{var q=n(h);q!==null&&oe(C,q.startTime-B)}}var N=!1,L=-1,H=5,P=-1;function U(){return S?!0:!(t.unstable_now()-P<H)}function I(){if(S=!1,N){var B=t.unstable_now();P=B;var q=!0;try{e:{b=!1,M&&(M=!1,w(L),L=-1),_=!0;var X=g;try{t:{for(A(B),m=n(d);m!==null&&!(m.expirationTime>B&&U());){var ye=m.callback;if(typeof ye=="function"){m.callback=null,g=m.priorityLevel;var z=ye(m.expirationTime<=B);if(B=t.unstable_now(),typeof z=="function"){m.callback=z,A(B),q=!0;break t}m===n(d)&&i(d),A(B)}else i(d);m=n(d)}if(m!==null)q=!0;else{var J=n(h);J!==null&&oe(C,J.startTime-B),q=!1}}break e}finally{m=null,g=X,_=!1}q=void 0}}finally{q?Y():N=!1}}}var Y;if(typeof E=="function")Y=function(){E(I)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ce=te.port2;te.port1.onmessage=I,Y=function(){ce.postMessage(null)}}else Y=function(){x(I,0)};function oe(B,q){L=x(function(){B(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var q=3;break;default:q=g}var X=g;g=q;try{return B()}finally{g=X}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(B,q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=g;g=B;try{return q()}finally{g=X}},t.unstable_scheduleCallback=function(B,q,X){var ye=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ye+X:ye):X=ye,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=X+z,B={id:p++,callback:q,priorityLevel:B,startTime:X,expirationTime:z,sortIndex:-1},X>ye?(B.sortIndex=X,e(h,B),n(d)===null&&B===n(h)&&(M?(w(L),L=-1):M=!0,oe(C,X-ye))):(B.sortIndex=z,e(d,B),b||_||(b=!0,N||(N=!0,Y()))),B},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(B){var q=g;return function(){var X=g;g=q;try{return B.apply(this,arguments)}finally{g=X}}}})(Km)),Km}var iM;function $O(){return iM||(iM=1,Ym.exports=KO()),Ym.exports}var $m={exports:{}},Qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rM;function ZO(){if(rM)return Qn;rM=1;var t=Nl();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(d,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:d,containerInfo:h,implementation:p}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Qn.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(d,h,null,p)},Qn.flushSync=function(d){var h=u.T,p=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=p,i.d.f()}},Qn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Qn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Qn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:_}):p==="script"&&i.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Qn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);i.d.L(d,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qn.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Qn.requestFormReset=function(d){i.d.r(d)},Qn.unstable_batchedUpdates=function(d,h){return d(h)},Qn.useFormState=function(d,h,p){return u.H.useFormState(d,h,p)},Qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Qn.version="19.1.1",Qn}var aM;function QO(){if(aM)return $m.exports;aM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$m.exports=ZO(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oM;function JO(){if(oM)return Bu;oM=1;var t=$O(),e=Nl(),n=QO();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function c(r){if(s(r)!==r)throw Error(i(188))}function d(r){var a=r.alternate;if(!a){if(a=s(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,f=a;;){var v=l.return;if(v===null)break;var y=v.alternate;if(y===null){if(f=v.return,f!==null){l=f;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===l)return c(v),r;if(y===f)return c(v),a;y=y.sibling}throw Error(i(188))}if(l.return!==f.return)l=v,f=y;else{for(var T=!1,D=v.child;D;){if(D===l){T=!0,l=v,f=y;break}if(D===f){T=!0,f=v,l=y;break}D=D.sibling}if(!T){for(D=y.child;D;){if(D===l){T=!0,l=y,f=v;break}if(D===f){T=!0,f=y,l=v;break}D=D.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==f)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function h(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=h(r),a!==null)return a;r=r.sibling}return null}var p=Object.assign,m=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=I&&r[I]||r["@@iterator"],typeof r=="function"?r:null)}var te=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===te?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case b:return"Fragment";case S:return"Profiler";case M:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList";case P:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case E:return(r.displayName||"Context")+".Provider";case w:return(r._context.displayName||"Context")+".Consumer";case A:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case L:return a=r.displayName||null,a!==null?a:ce(r.type)||"Memo";case H:a=r._payload,r=r._init;try{return ce(r(a))}catch{}}return null}var oe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ye=[],z=-1;function J(r){return{current:r}}function se(r){0>z||(r.current=ye[z],ye[z]=null,z--)}function Ee(r,a){z++,ye[z]=r.current,r.current=a}var Ne=J(null),ie=J(null),_e=J(null),Te=J(null);function Ie(r,a){switch(Ee(_e,a),Ee(ie,r),Ee(Ne,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Ab(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Ab(a),r=wb(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(Ne),Ee(Ne,r)}function ge(){se(Ne),se(ie),se(_e)}function De(r){r.memoizedState!==null&&Ee(Te,r);var a=Ne.current,l=wb(a,r.type);a!==l&&(Ee(ie,r),Ee(Ne,l))}function Qe(r){ie.current===r&&(se(Ne),se(ie)),Te.current===r&&(se(Te),Pu._currentValue=X)}var he=Object.prototype.hasOwnProperty,V=t.unstable_scheduleCallback,et=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,ut=t.unstable_requestPaint,ke=t.unstable_now,It=t.unstable_getCurrentPriorityLevel,Xe=t.unstable_ImmediatePriority,dt=t.unstable_UserBlockingPriority,rn=t.unstable_NormalPriority,an=t.unstable_LowPriority,k=t.unstable_IdlePriority,R=t.log,ne=t.unstable_setDisableYieldValue,me=null,Me=null;function de(r){if(typeof R=="function"&&ne(r),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(me,r)}catch{}}var He=Math.clz32?Math.clz32:Je,Oe=Math.log,$e=Math.LN2;function Je(r){return r>>>=0,r===0?32:31-(Oe(r)/$e|0)|0}var Ae=256,ze=4194304;function nt(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ke(r,a,l){var f=r.pendingLanes;if(f===0)return 0;var v=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var D=f&134217727;return D!==0?(f=D&~y,f!==0?v=nt(f):(T&=D,T!==0?v=nt(T):l||(l=D&~r,l!==0&&(v=nt(l))))):(D=f&~y,D!==0?v=nt(D):T!==0?v=nt(T):l||(l=f&~r,l!==0&&(v=nt(l)))),v===0?0:a!==0&&a!==v&&(a&y)===0&&(y=v&-v,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:v}function Ue(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ft(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W(){var r=Ae;return Ae<<=1,(Ae&4194048)===0&&(Ae=256),r}function Re(){var r=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),r}function Pe(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Ge(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function we(r,a,l,f,v,y){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var D=r.entanglements,G=r.expirationTimes,ee=r.hiddenUpdates;for(l=T&~l;0<l;){var ve=31-He(l),Se=1<<ve;D[ve]=0,G[ve]=-1;var re=ee[ve];if(re!==null)for(ee[ve]=null,ve=0;ve<re.length;ve++){var ae=re[ve];ae!==null&&(ae.lane&=-536870913)}l&=~Se}f!==0&&be(r,f,0),y!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~a))}function be(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-He(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|l&4194090}function Ye(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var f=31-He(l),v=1<<f;v&a|r[f]&a&&(r[f]|=a),l&=~v}}function ct(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ut(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ct(){var r=q.p;return r!==0?r:(r=window.event,r===void 0?32:Xb(r.type))}function ar(r,a){var l=q.p;try{return q.p=r,a()}finally{q.p=l}}var Mn=Math.random().toString(36).slice(2),En="__reactFiber$"+Mn,sn="__reactProps$"+Mn,xr="__reactContainer$"+Mn,vs="__reactEvents$"+Mn,Ic="__reactListeners$"+Mn,gs="__reactHandles$"+Mn,jl="__reactResources$"+Mn,Sr="__reactMarker$"+Mn;function ys(r){delete r[En],delete r[sn],delete r[vs],delete r[Ic],delete r[gs]}function Lr(r){var a=r[En];if(a)return a;for(var l=r.parentNode;l;){if(a=l[xr]||l[En]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=Ob(r);r!==null;){if(l=r[En])return l;r=Ob(r)}return a}r=l,l=r.parentNode}return null}function Ma(r){if(r=r[En]||r[xr]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function go(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Ea(r){var a=r[jl];return a||(a=r[jl]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function vn(r){r[Sr]=!0}var zc=new Set,Bc={};function O(r,a){K(r,a),K(r+"Capture",a)}function K(r,a){for(Bc[r]=a,r=0;r<a.length;r++)zc.add(a[r])}var le=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ue={},Z={};function Ce(r){return he.call(Z,r)?!0:he.call(ue,r)?!1:le.test(r)?Z[r]=!0:(ue[r]=!0,!1)}function Le(r,a,l){if(Ce(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function je(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Be(r,a,l,f){if(f===null)r.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+f)}}var rt,ot;function Ze(r){if(rt===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);rt=a&&a[1]||"",ot=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+r+ot}var vt=!1;function Rt(r,a){if(!r||vt)return"";vt=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ae){var re=ae}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(ae){re=ae}r.call(Se.prototype)}}else{try{throw Error()}catch(ae){re=ae}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),T=y[0],D=y[1];if(T&&D){var G=T.split(`
`),ee=D.split(`
`);for(v=f=0;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;for(;v<ee.length&&!ee[v].includes("DetermineComponentFrameRoot");)v++;if(f===G.length||v===ee.length)for(f=G.length-1,v=ee.length-1;1<=f&&0<=v&&G[f]!==ee[v];)v--;for(;1<=f&&0<=v;f--,v--)if(G[f]!==ee[v]){if(f!==1||v!==1)do if(f--,v--,0>v||G[f]!==ee[v]){var ve=`
`+G[f].replace(" at new "," at ");return r.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",r.displayName)),ve}while(1<=f&&0<=v);break}}}finally{vt=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Ze(l):""}function en(r){switch(r.tag){case 26:case 27:case 5:return Ze(r.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 15:return Rt(r.type,!1);case 11:return Rt(r.type.render,!1);case 1:return Rt(r.type,!0);case 31:return Ze("Activity");default:return""}}function kt(r){try{var a="";do a+=en(r),r=r.return;while(r);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function gt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function it(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zt(r){var a=it(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),f=""+r[a];if(!r.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var v=l.get,y=l.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return v.call(this)},set:function(T){f=""+T,y.call(this,T)}}),Object.defineProperty(r,a,{enumerable:l.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function St(r){r._valueTracker||(r._valueTracker=Zt(r))}function Kn(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),f="";return r&&(f=it(r)?r.checked?"true":"false":r.value),r=f,r!==l?(a.setValue(r),!0):!1}function or(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ii=/[\n"\\]/g;function Nn(r){return r.replace(ii,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function qt(r,a,l,f,v,y,T,D){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),a!=null?T==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+gt(a)):r.value!==""+gt(a)&&(r.value=""+gt(a)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),a!=null?$n(r,T,gt(a)):l!=null?$n(r,T,gt(l)):f!=null&&r.removeAttribute("value"),v==null&&y!=null&&(r.defaultChecked=!!y),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.name=""+gt(D):r.removeAttribute("name")}function ri(r,a,l,f,v,y,T,D){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+gt(l):"",a=a!=null?""+gt(a):l,D||a===r.value||(r.value=a),r.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=D?r.checked:!!f,r.defaultChecked=!!f,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function $n(r,a,l){a==="number"&&or(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ln(r,a,l,f){if(r=r.options,a){a={};for(var v=0;v<l.length;v++)a["$"+l[v]]=!0;for(l=0;l<r.length;l++)v=a.hasOwnProperty("$"+r[l].value),r[l].selected!==v&&(r[l].selected=v),v&&f&&(r[l].defaultSelected=!0)}else{for(l=""+gt(l),a=null,v=0;v<r.length;v++){if(r[v].value===l){r[v].selected=!0,f&&(r[v].defaultSelected=!0);return}a!==null||r[v].disabled||(a=r[v])}a!==null&&(a.selected=!0)}}function Gn(r,a,l){if(a!=null&&(a=""+gt(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+gt(l):""}function _s(r,a,l,f){if(a==null){if(f!=null){if(l!=null)throw Error(i(92));if(oe(f)){if(1<f.length)throw Error(i(93));f=f[0]}l=f}l==null&&(l=""),a=l}l=gt(a),r.defaultValue=l,f=r.textContent,f===l&&f!==""&&f!==null&&(r.value=f)}function ui(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var H2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function A_(r,a,l){var f=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,l):typeof l!="number"||l===0||H2.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function w_(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var f in l)!l.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&l[v]!==f&&A_(r,v,f)}else for(var y in a)a.hasOwnProperty(y)&&A_(r,y,a[y])}function jh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(r){return V2.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Wh=null;function Xh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var xs=null,Ss=null;function C_(r){var a=Ma(r);if(a&&(r=a.stateNode)){var l=r[sn]||null;e:switch(r=a.stateNode,a.type){case"input":if(qt(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var f=l[a];if(f!==r&&f.form===r.form){var v=f[sn]||null;if(!v)throw Error(i(90));qt(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<l.length;a++)f=l[a],f.form===r.form&&Kn(f)}break e;case"textarea":Gn(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ln(r,!!l.multiple,a,!1)}}}var qh=!1;function R_(r,a,l){if(qh)return r(a,l);qh=!0;try{var f=r(a);return f}finally{if(qh=!1,(xs!==null||Ss!==null)&&(Tf(),xs&&(a=xs,r=Ss,Ss=xs=null,C_(a),r)))for(a=0;a<r.length;a++)C_(r[a])}}function Wl(r,a){var l=r.stateNode;if(l===null)return null;var f=l[sn]||null;if(f===null)return null;l=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=!1;if(Ir)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Yh=!1}var Ta=null,Kh=null,kc=null;function D_(){if(kc)return kc;var r,a=Kh,l=a.length,f,v="value"in Ta?Ta.value:Ta.textContent,y=v.length;for(r=0;r<l&&a[r]===v[r];r++);var T=l-r;for(f=1;f<=T&&a[l-f]===v[y-f];f++);return kc=v.slice(r,1<f?1-f:void 0)}function Hc(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Gc(){return!0}function O_(){return!1}function ci(r){function a(l,f,v,y,T){this._reactName=l,this._targetInst=v,this.type=f,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var D in r)r.hasOwnProperty(D)&&(l=r[D],this[D]=l?l(y):y[D]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Gc:O_,this.isPropagationStopped=O_,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),a}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=ci(yo),ql=p({},yo,{view:0,detail:0}),j2=ci(ql),$h,Zh,Yl,jc=p({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jh,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yl&&(Yl&&r.type==="mousemove"?($h=r.screenX-Yl.screenX,Zh=r.screenY-Yl.screenY):Zh=$h=0,Yl=r),$h)},movementY:function(r){return"movementY"in r?r.movementY:Zh}}),P_=ci(jc),W2=p({},jc,{dataTransfer:0}),X2=ci(W2),q2=p({},ql,{relatedTarget:0}),Qh=ci(q2),Y2=p({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),K2=ci(Y2),$2=p({},yo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Z2=ci($2),Q2=p({},yo,{data:0}),N_=ci(Q2),J2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nD(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=tD[r])?!!a[r]:!1}function Jh(){return nD}var iD=p({},ql,{key:function(r){if(r.key){var a=J2[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Hc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?eD[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jh,charCode:function(r){return r.type==="keypress"?Hc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Hc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rD=ci(iD),aD=p({},jc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U_=ci(aD),oD=p({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jh}),sD=ci(oD),lD=p({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),uD=ci(lD),cD=p({},jc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fD=ci(cD),dD=p({},yo,{newState:0,oldState:0}),hD=ci(dD),pD=[9,13,27,32],ep=Ir&&"CompositionEvent"in window,Kl=null;Ir&&"documentMode"in document&&(Kl=document.documentMode);var mD=Ir&&"TextEvent"in window&&!Kl,L_=Ir&&(!ep||Kl&&8<Kl&&11>=Kl),I_=" ",z_=!1;function B_(r,a){switch(r){case"keyup":return pD.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var bs=!1;function vD(r,a){switch(r){case"compositionend":return F_(a);case"keypress":return a.which!==32?null:(z_=!0,I_);case"textInput":return r=a.data,r===I_&&z_?null:r;default:return null}}function gD(r,a){if(bs)return r==="compositionend"||!ep&&B_(r,a)?(r=D_(),kc=Kh=Ta=null,bs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L_&&a.locale!=="ko"?null:a.data;default:return null}}var yD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k_(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!yD[r.type]:a==="textarea"}function H_(r,a,l,f){xs?Ss?Ss.push(f):Ss=[f]:xs=f,a=Of(a,"onChange"),0<a.length&&(l=new Vc("onChange","change",null,l,f),r.push({event:l,listeners:a}))}var $l=null,Zl=null;function _D(r){Sb(r,0)}function Wc(r){var a=go(r);if(Kn(a))return r}function G_(r,a){if(r==="change")return a}var V_=!1;if(Ir){var tp;if(Ir){var np="oninput"in document;if(!np){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),np=typeof j_.oninput=="function"}tp=np}else tp=!1;V_=tp&&(!document.documentMode||9<document.documentMode)}function W_(){$l&&($l.detachEvent("onpropertychange",X_),Zl=$l=null)}function X_(r){if(r.propertyName==="value"&&Wc(Zl)){var a=[];H_(a,Zl,r,Xh(r)),R_(_D,a)}}function xD(r,a,l){r==="focusin"?(W_(),$l=a,Zl=l,$l.attachEvent("onpropertychange",X_)):r==="focusout"&&W_()}function SD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Wc(Zl)}function bD(r,a){if(r==="click")return Wc(a)}function MD(r,a){if(r==="input"||r==="change")return Wc(a)}function ED(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var bi=typeof Object.is=="function"?Object.is:ED;function Ql(r,a){if(bi(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),f=Object.keys(a);if(l.length!==f.length)return!1;for(f=0;f<l.length;f++){var v=l[f];if(!he.call(a,v)||!bi(r[v],a[v]))return!1}return!0}function q_(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Y_(r,a){var l=q_(r);r=0;for(var f;l;){if(l.nodeType===3){if(f=r+l.textContent.length,r<=a&&f>=a)return{node:l,offset:a-r};r=f}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=q_(l)}}function K_(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?K_(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function $_(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=or(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=or(r.document)}return a}function ip(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var TD=Ir&&"documentMode"in document&&11>=document.documentMode,Ms=null,rp=null,Jl=null,ap=!1;function Z_(r,a,l){var f=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ap||Ms==null||Ms!==or(f)||(f=Ms,"selectionStart"in f&&ip(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Jl&&Ql(Jl,f)||(Jl=f,f=Of(rp,"onSelect"),0<f.length&&(a=new Vc("onSelect","select",null,a,l),r.push({event:a,listeners:f}),a.target=Ms)))}function _o(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Es={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},op={},Q_={};Ir&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function xo(r){if(op[r])return op[r];if(!Es[r])return r;var a=Es[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in Q_)return op[r]=a[l];return r}var J_=xo("animationend"),ex=xo("animationiteration"),tx=xo("animationstart"),AD=xo("transitionrun"),wD=xo("transitionstart"),CD=xo("transitioncancel"),nx=xo("transitionend"),ix=new Map,sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sp.push("scrollEnd");function sr(r,a){ix.set(r,a),O(a,[r])}var rx=new WeakMap;function Hi(r,a){if(typeof r=="object"&&r!==null){var l=rx.get(r);return l!==void 0?l:(a={value:r,source:a,stack:kt(a)},rx.set(r,a),a)}return{value:r,source:a,stack:kt(a)}}var Gi=[],Ts=0,lp=0;function Xc(){for(var r=Ts,a=lp=Ts=0;a<r;){var l=Gi[a];Gi[a++]=null;var f=Gi[a];Gi[a++]=null;var v=Gi[a];Gi[a++]=null;var y=Gi[a];if(Gi[a++]=null,f!==null&&v!==null){var T=f.pending;T===null?v.next=v:(v.next=T.next,T.next=v),f.pending=v}y!==0&&ax(l,v,y)}}function qc(r,a,l,f){Gi[Ts++]=r,Gi[Ts++]=a,Gi[Ts++]=l,Gi[Ts++]=f,lp|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function up(r,a,l,f){return qc(r,a,l,f),Yc(r)}function As(r,a){return qc(r,null,null,a),Yc(r)}function ax(r,a,l){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l);for(var v=!1,y=r.return;y!==null;)y.childLanes|=l,f=y.alternate,f!==null&&(f.childLanes|=l),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(v=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,v&&a!==null&&(v=31-He(l),r=y.hiddenUpdates,f=r[v],f===null?r[v]=[a]:f.push(a),a.lane=l|536870912),y):null}function Yc(r){if(50<Eu)throw Eu=0,mm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ws={};function RD(r,a,l,f){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(r,a,l,f){return new RD(r,a,l,f)}function cp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function zr(r,a){var l=r.alternate;return l===null?(l=Mi(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ox(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Kc(r,a,l,f,v,y){var T=0;if(f=r,typeof r=="function")cp(r)&&(T=1);else if(typeof r=="string")T=OO(r,l,Ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case P:return r=Mi(31,l,a,v),r.elementType=P,r.lanes=y,r;case b:return So(l.children,v,y,a);case M:T=8,v|=24;break;case S:return r=Mi(12,l,a,v|2),r.elementType=S,r.lanes=y,r;case C:return r=Mi(13,l,a,v),r.elementType=C,r.lanes=y,r;case N:return r=Mi(19,l,a,v),r.elementType=N,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:case E:T=10;break e;case w:T=9;break e;case A:T=11;break e;case L:T=14;break e;case H:T=16,f=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),f=null}return a=Mi(T,l,a,v),a.elementType=r,a.type=f,a.lanes=y,a}function So(r,a,l,f){return r=Mi(7,r,f,a),r.lanes=l,r}function fp(r,a,l){return r=Mi(6,r,null,a),r.lanes=l,r}function dp(r,a,l){return a=Mi(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Cs=[],Rs=0,$c=null,Zc=0,Vi=[],ji=0,bo=null,Br=1,Fr="";function Mo(r,a){Cs[Rs++]=Zc,Cs[Rs++]=$c,$c=r,Zc=a}function sx(r,a,l){Vi[ji++]=Br,Vi[ji++]=Fr,Vi[ji++]=bo,bo=r;var f=Br;r=Fr;var v=32-He(f)-1;f&=~(1<<v),l+=1;var y=32-He(a)+v;if(30<y){var T=v-v%5;y=(f&(1<<T)-1).toString(32),f>>=T,v-=T,Br=1<<32-He(a)+v|l<<v|f,Fr=y+r}else Br=1<<y|l<<v|f,Fr=r}function hp(r){r.return!==null&&(Mo(r,1),sx(r,1,0))}function pp(r){for(;r===$c;)$c=Cs[--Rs],Cs[Rs]=null,Zc=Cs[--Rs],Cs[Rs]=null;for(;r===bo;)bo=Vi[--ji],Vi[ji]=null,Fr=Vi[--ji],Vi[ji]=null,Br=Vi[--ji],Vi[ji]=null}var ai=null,un=null,Nt=!1,Eo=null,br=!1,mp=Error(i(519));function To(r){var a=Error(i(418,""));throw nu(Hi(a,r)),mp}function lx(r){var a=r.stateNode,l=r.type,f=r.memoizedProps;switch(a[En]=r,a[sn]=f,l){case"dialog":Mt("cancel",a),Mt("close",a);break;case"iframe":case"object":case"embed":Mt("load",a);break;case"video":case"audio":for(l=0;l<Au.length;l++)Mt(Au[l],a);break;case"source":Mt("error",a);break;case"img":case"image":case"link":Mt("error",a),Mt("load",a);break;case"details":Mt("toggle",a);break;case"input":Mt("invalid",a),ri(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),St(a);break;case"select":Mt("invalid",a);break;case"textarea":Mt("invalid",a),_s(a,f.value,f.defaultValue,f.children),St(a)}l=f.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||f.suppressHydrationWarning===!0||Tb(a.textContent,l)?(f.popover!=null&&(Mt("beforetoggle",a),Mt("toggle",a)),f.onScroll!=null&&Mt("scroll",a),f.onScrollEnd!=null&&Mt("scrollend",a),f.onClick!=null&&(a.onclick=Pf),a=!0):a=!1,a||To(r)}function ux(r){for(ai=r.return;ai;)switch(ai.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:ai=ai.return}}function eu(r){if(r!==ai)return!1;if(!Nt)return ux(r),Nt=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Om(r.type,r.memoizedProps)),l=!l),l&&un&&To(r),ux(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(a===0){un=ur(r.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;r=r.nextSibling}un=null}}else a===27?(a=un,Ha(r.type)?(r=Lm,Lm=null,un=r):un=a):un=ai?ur(r.stateNode.nextSibling):null;return!0}function tu(){un=ai=null,Nt=!1}function cx(){var r=Eo;return r!==null&&(hi===null?hi=r:hi.push.apply(hi,r),Eo=null),r}function nu(r){Eo===null?Eo=[r]:Eo.push(r)}var vp=J(null),Ao=null,kr=null;function Aa(r,a,l){Ee(vp,a._currentValue),a._currentValue=l}function Hr(r){r._currentValue=vp.current,se(vp)}function gp(r,a,l){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===l)break;r=r.return}}function yp(r,a,l,f){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var y=v.dependencies;if(y!==null){var T=v.child;y=y.firstContext;e:for(;y!==null;){var D=y;y=v;for(var G=0;G<a.length;G++)if(D.context===a[G]){y.lanes|=l,D=y.alternate,D!==null&&(D.lanes|=l),gp(y.return,l,r),f||(T=null);break e}y=D.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(i(341));T.lanes|=l,y=T.alternate,y!==null&&(y.lanes|=l),gp(T,l,r),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===r){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function iu(r,a,l,f){r=null;for(var v=a,y=!1;v!==null;){if(!y){if((v.flags&524288)!==0)y=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var D=v.type;bi(v.pendingProps.value,T.value)||(r!==null?r.push(D):r=[D])}}else if(v===Te.current){if(T=v.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Pu):r=[Pu])}v=v.return}r!==null&&yp(a,r,l,f),a.flags|=262144}function Qc(r){for(r=r.firstContext;r!==null;){if(!bi(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function wo(r){Ao=r,kr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Zn(r){return fx(Ao,r)}function Jc(r,a){return Ao===null&&wo(r),fx(r,a)}function fx(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},kr===null){if(r===null)throw Error(i(308));kr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else kr=kr.next=a;return l}var DD=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},OD=t.unstable_scheduleCallback,PD=t.unstable_NormalPriority,Tn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new DD,data:new Map,refCount:0}}function ru(r){r.refCount--,r.refCount===0&&OD(PD,function(){r.controller.abort()})}var au=null,xp=0,Ds=0,Os=null;function ND(r,a){if(au===null){var l=au=[];xp=0,Ds=bm(),Os={status:"pending",value:void 0,then:function(f){l.push(f)}}}return xp++,a.then(dx,dx),a}function dx(){if(--xp===0&&au!==null){Os!==null&&(Os.status="fulfilled");var r=au;au=null,Ds=0,Os=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function UD(r,a){var l=[],f={status:"pending",value:null,reason:null,then:function(v){l.push(v)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<l.length;v++)(0,l[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<l.length;v++)(0,l[v])(void 0)}),f}var hx=B.S;B.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&ND(r,a),hx!==null&&hx(r,a)};var Co=J(null);function Sp(){var r=Co.current;return r!==null?r:$t.pooledCache}function ef(r,a){a===null?Ee(Co,Co.current):Ee(Co,a.pool)}function px(){var r=Sp();return r===null?null:{parent:Tn._currentValue,pool:r}}var ou=Error(i(460)),mx=Error(i(474)),tf=Error(i(542)),bp={then:function(){}};function vx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function nf(){}function gx(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(nf,nf),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,_x(r),r;default:if(typeof a.status=="string")a.then(nf,nf);else{if(r=$t,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,_x(r),r}throw su=a,ou}}var su=null;function yx(){if(su===null)throw Error(i(459));var r=su;return su=null,r}function _x(r){if(r===ou||r===tf)throw Error(i(483))}var wa=!1;function Mp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ep(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ca(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ra(r,a,l){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(zt&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=Yc(r),ax(r,null,l),a}return qc(r,f,a,l),Yc(r)}function lu(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,l|=f,a.lanes=l,Ye(r,l)}}function Tp(r,a){var l=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,l===f)){var v=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?v=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?v=y=a:y=y.next=a}else v=y=a;l={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Ap=!1;function uu(){if(Ap){var r=Os;if(r!==null)throw r}}function cu(r,a,l,f){Ap=!1;var v=r.updateQueue;wa=!1;var y=v.firstBaseUpdate,T=v.lastBaseUpdate,D=v.shared.pending;if(D!==null){v.shared.pending=null;var G=D,ee=G.next;G.next=null,T===null?y=ee:T.next=ee,T=G;var ve=r.alternate;ve!==null&&(ve=ve.updateQueue,D=ve.lastBaseUpdate,D!==T&&(D===null?ve.firstBaseUpdate=ee:D.next=ee,ve.lastBaseUpdate=G))}if(y!==null){var Se=v.baseState;T=0,ve=ee=G=null,D=y;do{var re=D.lane&-536870913,ae=re!==D.lane;if(ae?(wt&re)===re:(f&re)===re){re!==0&&re===Ds&&(Ap=!0),ve!==null&&(ve=ve.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var lt=r,at=D;re=a;var Vt=l;switch(at.tag){case 1:if(lt=at.payload,typeof lt=="function"){Se=lt.call(Vt,Se,re);break e}Se=lt;break e;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=at.payload,re=typeof lt=="function"?lt.call(Vt,Se,re):lt,re==null)break e;Se=p({},Se,re);break e;case 2:wa=!0}}re=D.callback,re!==null&&(r.flags|=64,ae&&(r.flags|=8192),ae=v.callbacks,ae===null?v.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ve===null?(ee=ve=ae,G=Se):ve=ve.next=ae,T|=re;if(D=D.next,D===null){if(D=v.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,v.lastBaseUpdate=ae,v.shared.pending=null}}while(!0);ve===null&&(G=Se),v.baseState=G,v.firstBaseUpdate=ee,v.lastBaseUpdate=ve,y===null&&(v.shared.lanes=0),za|=T,r.lanes=T,r.memoizedState=Se}}function xx(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Sx(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)xx(l[r],a)}var Ps=J(null),rf=J(0);function bx(r,a){r=Yr,Ee(rf,r),Ee(Ps,a),Yr=r|a.baseLanes}function wp(){Ee(rf,Yr),Ee(Ps,Ps.current)}function Cp(){Yr=rf.current,se(Ps),se(rf)}var Da=0,_t=null,Ht=null,gn=null,af=!1,Ns=!1,Ro=!1,of=0,fu=0,Us=null,LD=0;function hn(){throw Error(i(321))}function Rp(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!bi(r[l],a[l]))return!1;return!0}function Dp(r,a,l,f,v,y){return Da=y,_t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=r===null||r.memoizedState===null?aS:oS,Ro=!1,y=l(f,v),Ro=!1,Ns&&(y=Ex(a,l,f,v)),Mx(r),y}function Mx(r){B.H=df;var a=Ht!==null&&Ht.next!==null;if(Da=0,gn=Ht=_t=null,af=!1,fu=0,Us=null,a)throw Error(i(300));r===null||Un||(r=r.dependencies,r!==null&&Qc(r)&&(Un=!0))}function Ex(r,a,l,f){_t=r;var v=0;do{if(Ns&&(Us=null),fu=0,Ns=!1,25<=v)throw Error(i(301));if(v+=1,gn=Ht=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}B.H=GD,y=a(l,f)}while(Ns);return y}function ID(){var r=B.H,a=r.useState()[0];return a=typeof a.then=="function"?du(a):a,r=r.useState()[0],(Ht!==null?Ht.memoizedState:null)!==r&&(_t.flags|=1024),a}function Op(){var r=of!==0;return of=0,r}function Pp(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Np(r){if(af){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}af=!1}Da=0,gn=Ht=_t=null,Ns=!1,fu=of=0,Us=null}function fi(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?_t.memoizedState=gn=r:gn=gn.next=r,gn}function yn(){if(Ht===null){var r=_t.alternate;r=r!==null?r.memoizedState:null}else r=Ht.next;var a=gn===null?_t.memoizedState:gn.next;if(a!==null)gn=a,Ht=r;else{if(r===null)throw _t.alternate===null?Error(i(467)):Error(i(310));Ht=r,r={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},gn===null?_t.memoizedState=gn=r:gn=gn.next=r}return gn}function Up(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function du(r){var a=fu;return fu+=1,Us===null&&(Us=[]),r=gx(Us,r,a),a=_t,(gn===null?a.memoizedState:gn.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?aS:oS),r}function sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return du(r);if(r.$$typeof===E)return Zn(r)}throw Error(i(438,String(r)))}function Lp(r){var a=null,l=_t.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var f=_t.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Up(),_t.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),f=0;f<r;f++)l[f]=U;return a.index++,l}function Gr(r,a){return typeof a=="function"?a(r):a}function lf(r){var a=yn();return Ip(a,Ht,r)}function Ip(r,a,l){var f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=l;var v=r.baseQueue,y=f.pending;if(y!==null){if(v!==null){var T=v.next;v.next=y.next,y.next=T}a.baseQueue=v=y,f.pending=null}if(y=r.baseState,v===null)r.memoizedState=y;else{a=v.next;var D=T=null,G=null,ee=a,ve=!1;do{var Se=ee.lane&-536870913;if(Se!==ee.lane?(wt&Se)===Se:(Da&Se)===Se){var re=ee.revertLane;if(re===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),Se===Ds&&(ve=!0);else if((Da&re)===re){ee=ee.next,re===Ds&&(ve=!0);continue}else Se={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(D=G=Se,T=y):G=G.next=Se,_t.lanes|=re,za|=re;Se=ee.action,Ro&&l(y,Se),y=ee.hasEagerState?ee.eagerState:l(y,Se)}else re={lane:Se,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},G===null?(D=G=re,T=y):G=G.next=re,_t.lanes|=Se,za|=Se;ee=ee.next}while(ee!==null&&ee!==a);if(G===null?T=y:G.next=D,!bi(y,r.memoizedState)&&(Un=!0,ve&&(l=Os,l!==null)))throw l;r.memoizedState=y,r.baseState=T,r.baseQueue=G,f.lastRenderedState=y}return v===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function zp(r){var a=yn(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var f=l.dispatch,v=l.pending,y=a.memoizedState;if(v!==null){l.pending=null;var T=v=v.next;do y=r(y,T.action),T=T.next;while(T!==v);bi(y,a.memoizedState)||(Un=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,f]}function Tx(r,a,l){var f=_t,v=yn(),y=Nt;if(y){if(l===void 0)throw Error(i(407));l=l()}else l=a();var T=!bi((Ht||v).memoizedState,l);T&&(v.memoizedState=l,Un=!0),v=v.queue;var D=Cx.bind(null,f,v,r);if(hu(2048,8,D,[r]),v.getSnapshot!==a||T||gn!==null&&gn.memoizedState.tag&1){if(f.flags|=2048,Ls(9,uf(),wx.bind(null,f,v,l,a),null),$t===null)throw Error(i(349));y||(Da&124)!==0||Ax(f,a,l)}return l}function Ax(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=_t.updateQueue,a===null?(a=Up(),_t.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function wx(r,a,l,f){a.value=l,a.getSnapshot=f,Rx(a)&&Dx(r)}function Cx(r,a,l){return l(function(){Rx(a)&&Dx(r)})}function Rx(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!bi(r,l)}catch{return!0}}function Dx(r){var a=As(r,2);a!==null&&Ci(a,r,2)}function Bp(r){var a=fi();if(typeof r=="function"){var l=r;if(r=l(),Ro){de(!0);try{l()}finally{de(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:r},a}function Ox(r,a,l,f){return r.baseState=l,Ip(r,Ht,typeof f=="function"?f:Gr)}function zD(r,a,l,f,v){if(ff(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};B.T!==null?l(!0):y.isTransition=!1,f(y),l=a.pending,l===null?(y.next=a.pending=y,Px(a,y)):(y.next=l.next,a.pending=l.next=y)}}function Px(r,a){var l=a.action,f=a.payload,v=r.state;if(a.isTransition){var y=B.T,T={};B.T=T;try{var D=l(v,f),G=B.S;G!==null&&G(T,D),Nx(r,a,D)}catch(ee){Fp(r,a,ee)}finally{B.T=y}}else try{y=l(v,f),Nx(r,a,y)}catch(ee){Fp(r,a,ee)}}function Nx(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(f){Ux(r,a,f)},function(f){return Fp(r,a,f)}):Ux(r,a,l)}function Ux(r,a,l){a.status="fulfilled",a.value=l,Lx(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,Px(r,l)))}function Fp(r,a,l){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=l,Lx(a),a=a.next;while(a!==f)}r.action=null}function Lx(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Ix(r,a){return a}function zx(r,a){if(Nt){var l=$t.formState;if(l!==null){e:{var f=_t;if(Nt){if(un){t:{for(var v=un,y=br;v.nodeType!==8;){if(!y){v=null;break t}if(v=ur(v.nextSibling),v===null){v=null;break t}}y=v.data,v=y==="F!"||y==="F"?v:null}if(v){un=ur(v.nextSibling),f=v.data==="F!";break e}}To(f)}f=!1}f&&(a=l[0])}}return l=fi(),l.memoizedState=l.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ix,lastRenderedState:a},l.queue=f,l=nS.bind(null,_t,f),f.dispatch=l,f=Bp(!1),y=jp.bind(null,_t,!1,f.queue),f=fi(),v={state:a,dispatch:null,action:r,pending:null},f.queue=v,l=zD.bind(null,_t,v,y,l),v.dispatch=l,f.memoizedState=r,[a,l,!1]}function Bx(r){var a=yn();return Fx(a,Ht,r)}function Fx(r,a,l){if(a=Ip(r,a,Ix)[0],r=lf(Gr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=du(a)}catch(T){throw T===ou?tf:T}else f=a;a=yn();var v=a.queue,y=v.dispatch;return l!==a.memoizedState&&(_t.flags|=2048,Ls(9,uf(),BD.bind(null,v,l),null)),[f,y,r]}function BD(r,a){r.action=a}function kx(r){var a=yn(),l=Ht;if(l!==null)return Fx(a,l,r);yn(),a=a.memoizedState,l=yn();var f=l.queue.dispatch;return l.memoizedState=r,[a,f,!1]}function Ls(r,a,l,f){return r={tag:r,create:l,deps:f,inst:a,next:null},a=_t.updateQueue,a===null&&(a=Up(),_t.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(f=l.next,l.next=r,r.next=f,a.lastEffect=r),r}function uf(){return{destroy:void 0,resource:void 0}}function Hx(){return yn().memoizedState}function cf(r,a,l,f){var v=fi();f=f===void 0?null:f,_t.flags|=r,v.memoizedState=Ls(1|a,uf(),l,f)}function hu(r,a,l,f){var v=yn();f=f===void 0?null:f;var y=v.memoizedState.inst;Ht!==null&&f!==null&&Rp(f,Ht.memoizedState.deps)?v.memoizedState=Ls(a,y,l,f):(_t.flags|=r,v.memoizedState=Ls(1|a,y,l,f))}function Gx(r,a){cf(8390656,8,r,a)}function Vx(r,a){hu(2048,8,r,a)}function jx(r,a){return hu(4,2,r,a)}function Wx(r,a){return hu(4,4,r,a)}function Xx(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function qx(r,a,l){l=l!=null?l.concat([r]):null,hu(4,4,Xx.bind(null,a,r),l)}function kp(){}function Yx(r,a){var l=yn();a=a===void 0?null:a;var f=l.memoizedState;return a!==null&&Rp(a,f[1])?f[0]:(l.memoizedState=[r,a],r)}function Kx(r,a){var l=yn();a=a===void 0?null:a;var f=l.memoizedState;if(a!==null&&Rp(a,f[1]))return f[0];if(f=r(),Ro){de(!0);try{r()}finally{de(!1)}}return l.memoizedState=[f,a],f}function Hp(r,a,l){return l===void 0||(Da&1073741824)!==0?r.memoizedState=a:(r.memoizedState=l,r=QS(),_t.lanes|=r,za|=r,l)}function $x(r,a,l,f){return bi(l,a)?l:Ps.current!==null?(r=Hp(r,l,f),bi(r,a)||(Un=!0),r):(Da&42)===0?(Un=!0,r.memoizedState=l):(r=QS(),_t.lanes|=r,za|=r,a)}function Zx(r,a,l,f,v){var y=q.p;q.p=y!==0&&8>y?y:8;var T=B.T,D={};B.T=D,jp(r,!1,a,l);try{var G=v(),ee=B.S;if(ee!==null&&ee(D,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ve=UD(G,f);pu(r,a,ve,wi(r))}else pu(r,a,f,wi(r))}catch(Se){pu(r,a,{then:function(){},status:"rejected",reason:Se},wi())}finally{q.p=y,B.T=T}}function FD(){}function Gp(r,a,l,f){if(r.tag!==5)throw Error(i(476));var v=Qx(r).queue;Zx(r,v,a,X,l===null?FD:function(){return Jx(r),l(f)})}function Qx(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:X},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function Jx(r){var a=Qx(r).next.queue;pu(r,a,{},wi())}function Vp(){return Zn(Pu)}function eS(){return yn().memoizedState}function tS(){return yn().memoizedState}function kD(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=wi();r=Ca(l);var f=Ra(a,r,l);f!==null&&(Ci(f,a,l),lu(f,a,l)),a={cache:_p()},r.payload=a;return}a=a.return}}function HD(r,a,l){var f=wi();l={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},ff(r)?iS(a,l):(l=up(r,a,l,f),l!==null&&(Ci(l,r,f),rS(l,a,f)))}function nS(r,a,l){var f=wi();pu(r,a,l,f)}function pu(r,a,l,f){var v={lane:f,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(ff(r))iS(a,v);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var T=a.lastRenderedState,D=y(T,l);if(v.hasEagerState=!0,v.eagerState=D,bi(D,T))return qc(r,a,v,0),$t===null&&Xc(),!1}catch{}finally{}if(l=up(r,a,v,f),l!==null)return Ci(l,r,f),rS(l,a,f),!0}return!1}function jp(r,a,l,f){if(f={lane:2,revertLane:bm(),action:f,hasEagerState:!1,eagerState:null,next:null},ff(r)){if(a)throw Error(i(479))}else a=up(r,l,f,2),a!==null&&Ci(a,r,2)}function ff(r){var a=r.alternate;return r===_t||a!==null&&a===_t}function iS(r,a){Ns=af=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function rS(r,a,l){if((l&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,l|=f,a.lanes=l,Ye(r,l)}}var df={readContext:Zn,use:sf,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useLayoutEffect:hn,useInsertionEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useSyncExternalStore:hn,useId:hn,useHostTransitionStatus:hn,useFormState:hn,useActionState:hn,useOptimistic:hn,useMemoCache:hn,useCacheRefresh:hn},aS={readContext:Zn,use:sf,useCallback:function(r,a){return fi().memoizedState=[r,a===void 0?null:a],r},useContext:Zn,useEffect:Gx,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,cf(4194308,4,Xx.bind(null,a,r),l)},useLayoutEffect:function(r,a){return cf(4194308,4,r,a)},useInsertionEffect:function(r,a){cf(4,2,r,a)},useMemo:function(r,a){var l=fi();a=a===void 0?null:a;var f=r();if(Ro){de(!0);try{r()}finally{de(!1)}}return l.memoizedState=[f,a],f},useReducer:function(r,a,l){var f=fi();if(l!==void 0){var v=l(a);if(Ro){de(!0);try{l(a)}finally{de(!1)}}}else v=a;return f.memoizedState=f.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},f.queue=r,r=r.dispatch=HD.bind(null,_t,r),[f.memoizedState,r]},useRef:function(r){var a=fi();return r={current:r},a.memoizedState=r},useState:function(r){r=Bp(r);var a=r.queue,l=nS.bind(null,_t,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:kp,useDeferredValue:function(r,a){var l=fi();return Hp(l,r,a)},useTransition:function(){var r=Bp(!1);return r=Zx.bind(null,_t,r.queue,!0,!1),fi().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var f=_t,v=fi();if(Nt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),$t===null)throw Error(i(349));(wt&124)!==0||Ax(f,a,l)}v.memoizedState=l;var y={value:l,getSnapshot:a};return v.queue=y,Gx(Cx.bind(null,f,y,r),[r]),f.flags|=2048,Ls(9,uf(),wx.bind(null,f,y,l,a),null),l},useId:function(){var r=fi(),a=$t.identifierPrefix;if(Nt){var l=Fr,f=Br;l=(f&~(1<<32-He(f)-1)).toString(32)+l,a=""+a+"R"+l,l=of++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=LD++,a=""+a+"r"+l.toString(32)+"";return r.memoizedState=a},useHostTransitionStatus:Vp,useFormState:zx,useActionState:zx,useOptimistic:function(r){var a=fi();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=jp.bind(null,_t,!0,l),l.dispatch=a,[r,a]},useMemoCache:Lp,useCacheRefresh:function(){return fi().memoizedState=kD.bind(null,_t)}},oS={readContext:Zn,use:sf,useCallback:Yx,useContext:Zn,useEffect:Vx,useImperativeHandle:qx,useInsertionEffect:jx,useLayoutEffect:Wx,useMemo:Kx,useReducer:lf,useRef:Hx,useState:function(){return lf(Gr)},useDebugValue:kp,useDeferredValue:function(r,a){var l=yn();return $x(l,Ht.memoizedState,r,a)},useTransition:function(){var r=lf(Gr)[0],a=yn().memoizedState;return[typeof r=="boolean"?r:du(r),a]},useSyncExternalStore:Tx,useId:eS,useHostTransitionStatus:Vp,useFormState:Bx,useActionState:Bx,useOptimistic:function(r,a){var l=yn();return Ox(l,Ht,r,a)},useMemoCache:Lp,useCacheRefresh:tS},GD={readContext:Zn,use:sf,useCallback:Yx,useContext:Zn,useEffect:Vx,useImperativeHandle:qx,useInsertionEffect:jx,useLayoutEffect:Wx,useMemo:Kx,useReducer:zp,useRef:Hx,useState:function(){return zp(Gr)},useDebugValue:kp,useDeferredValue:function(r,a){var l=yn();return Ht===null?Hp(l,r,a):$x(l,Ht.memoizedState,r,a)},useTransition:function(){var r=zp(Gr)[0],a=yn().memoizedState;return[typeof r=="boolean"?r:du(r),a]},useSyncExternalStore:Tx,useId:eS,useHostTransitionStatus:Vp,useFormState:kx,useActionState:kx,useOptimistic:function(r,a){var l=yn();return Ht!==null?Ox(l,Ht,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Lp,useCacheRefresh:tS},Is=null,mu=0;function hf(r){var a=mu;return mu+=1,Is===null&&(Is=[]),gx(Is,r,a)}function vu(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function pf(r,a){throw a.$$typeof===m?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function sS(r){var a=r._init;return a(r._payload)}function lS(r){function a($,j){if(r){var Q=$.deletions;Q===null?($.deletions=[j],$.flags|=16):Q.push(j)}}function l($,j){if(!r)return null;for(;j!==null;)a($,j),j=j.sibling;return null}function f($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function v($,j){return $=zr($,j),$.index=0,$.sibling=null,$}function y($,j,Q){return $.index=Q,r?(Q=$.alternate,Q!==null?(Q=Q.index,Q<j?($.flags|=67108866,j):Q):($.flags|=67108866,j)):($.flags|=1048576,j)}function T($){return r&&$.alternate===null&&($.flags|=67108866),$}function D($,j,Q,xe){return j===null||j.tag!==6?(j=fp(Q,$.mode,xe),j.return=$,j):(j=v(j,Q),j.return=$,j)}function G($,j,Q,xe){var qe=Q.type;return qe===b?ve($,j,Q.props.children,xe,Q.key):j!==null&&(j.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===H&&sS(qe)===j.type)?(j=v(j,Q.props),vu(j,Q),j.return=$,j):(j=Kc(Q.type,Q.key,Q.props,null,$.mode,xe),vu(j,Q),j.return=$,j)}function ee($,j,Q,xe){return j===null||j.tag!==4||j.stateNode.containerInfo!==Q.containerInfo||j.stateNode.implementation!==Q.implementation?(j=dp(Q,$.mode,xe),j.return=$,j):(j=v(j,Q.children||[]),j.return=$,j)}function ve($,j,Q,xe,qe){return j===null||j.tag!==7?(j=So(Q,$.mode,xe,qe),j.return=$,j):(j=v(j,Q),j.return=$,j)}function Se($,j,Q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=fp(""+j,$.mode,Q),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case g:return Q=Kc(j.type,j.key,j.props,null,$.mode,Q),vu(Q,j),Q.return=$,Q;case _:return j=dp(j,$.mode,Q),j.return=$,j;case H:var xe=j._init;return j=xe(j._payload),Se($,j,Q)}if(oe(j)||Y(j))return j=So(j,$.mode,Q,null),j.return=$,j;if(typeof j.then=="function")return Se($,hf(j),Q);if(j.$$typeof===E)return Se($,Jc($,j),Q);pf($,j)}return null}function re($,j,Q,xe){var qe=j!==null?j.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return qe!==null?null:D($,j,""+Q,xe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:return Q.key===qe?G($,j,Q,xe):null;case _:return Q.key===qe?ee($,j,Q,xe):null;case H:return qe=Q._init,Q=qe(Q._payload),re($,j,Q,xe)}if(oe(Q)||Y(Q))return qe!==null?null:ve($,j,Q,xe,null);if(typeof Q.then=="function")return re($,j,hf(Q),xe);if(Q.$$typeof===E)return re($,j,Jc($,Q),xe);pf($,Q)}return null}function ae($,j,Q,xe,qe){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return $=$.get(Q)||null,D(j,$,""+xe,qe);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return $=$.get(xe.key===null?Q:xe.key)||null,G(j,$,xe,qe);case _:return $=$.get(xe.key===null?Q:xe.key)||null,ee(j,$,xe,qe);case H:var xt=xe._init;return xe=xt(xe._payload),ae($,j,Q,xe,qe)}if(oe(xe)||Y(xe))return $=$.get(Q)||null,ve(j,$,xe,qe,null);if(typeof xe.then=="function")return ae($,j,Q,hf(xe),qe);if(xe.$$typeof===E)return ae($,j,Q,Jc(j,xe),qe);pf(j,xe)}return null}function lt($,j,Q,xe){for(var qe=null,xt=null,tt=j,st=j=0,In=null;tt!==null&&st<Q.length;st++){tt.index>st?(In=tt,tt=null):In=tt.sibling;var Dt=re($,tt,Q[st],xe);if(Dt===null){tt===null&&(tt=In);break}r&&tt&&Dt.alternate===null&&a($,tt),j=y(Dt,j,st),xt===null?qe=Dt:xt.sibling=Dt,xt=Dt,tt=In}if(st===Q.length)return l($,tt),Nt&&Mo($,st),qe;if(tt===null){for(;st<Q.length;st++)tt=Se($,Q[st],xe),tt!==null&&(j=y(tt,j,st),xt===null?qe=tt:xt.sibling=tt,xt=tt);return Nt&&Mo($,st),qe}for(tt=f(tt);st<Q.length;st++)In=ae(tt,$,st,Q[st],xe),In!==null&&(r&&In.alternate!==null&&tt.delete(In.key===null?st:In.key),j=y(In,j,st),xt===null?qe=In:xt.sibling=In,xt=In);return r&&tt.forEach(function(Xa){return a($,Xa)}),Nt&&Mo($,st),qe}function at($,j,Q,xe){if(Q==null)throw Error(i(151));for(var qe=null,xt=null,tt=j,st=j=0,In=null,Dt=Q.next();tt!==null&&!Dt.done;st++,Dt=Q.next()){tt.index>st?(In=tt,tt=null):In=tt.sibling;var Xa=re($,tt,Dt.value,xe);if(Xa===null){tt===null&&(tt=In);break}r&&tt&&Xa.alternate===null&&a($,tt),j=y(Xa,j,st),xt===null?qe=Xa:xt.sibling=Xa,xt=Xa,tt=In}if(Dt.done)return l($,tt),Nt&&Mo($,st),qe;if(tt===null){for(;!Dt.done;st++,Dt=Q.next())Dt=Se($,Dt.value,xe),Dt!==null&&(j=y(Dt,j,st),xt===null?qe=Dt:xt.sibling=Dt,xt=Dt);return Nt&&Mo($,st),qe}for(tt=f(tt);!Dt.done;st++,Dt=Q.next())Dt=ae(tt,$,st,Dt.value,xe),Dt!==null&&(r&&Dt.alternate!==null&&tt.delete(Dt.key===null?st:Dt.key),j=y(Dt,j,st),xt===null?qe=Dt:xt.sibling=Dt,xt=Dt);return r&&tt.forEach(function(VO){return a($,VO)}),Nt&&Mo($,st),qe}function Vt($,j,Q,xe){if(typeof Q=="object"&&Q!==null&&Q.type===b&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case g:e:{for(var qe=Q.key;j!==null;){if(j.key===qe){if(qe=Q.type,qe===b){if(j.tag===7){l($,j.sibling),xe=v(j,Q.props.children),xe.return=$,$=xe;break e}}else if(j.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===H&&sS(qe)===j.type){l($,j.sibling),xe=v(j,Q.props),vu(xe,Q),xe.return=$,$=xe;break e}l($,j);break}else a($,j);j=j.sibling}Q.type===b?(xe=So(Q.props.children,$.mode,xe,Q.key),xe.return=$,$=xe):(xe=Kc(Q.type,Q.key,Q.props,null,$.mode,xe),vu(xe,Q),xe.return=$,$=xe)}return T($);case _:e:{for(qe=Q.key;j!==null;){if(j.key===qe)if(j.tag===4&&j.stateNode.containerInfo===Q.containerInfo&&j.stateNode.implementation===Q.implementation){l($,j.sibling),xe=v(j,Q.children||[]),xe.return=$,$=xe;break e}else{l($,j);break}else a($,j);j=j.sibling}xe=dp(Q,$.mode,xe),xe.return=$,$=xe}return T($);case H:return qe=Q._init,Q=qe(Q._payload),Vt($,j,Q,xe)}if(oe(Q))return lt($,j,Q,xe);if(Y(Q)){if(qe=Y(Q),typeof qe!="function")throw Error(i(150));return Q=qe.call(Q),at($,j,Q,xe)}if(typeof Q.then=="function")return Vt($,j,hf(Q),xe);if(Q.$$typeof===E)return Vt($,j,Jc($,Q),xe);pf($,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,j!==null&&j.tag===6?(l($,j.sibling),xe=v(j,Q),xe.return=$,$=xe):(l($,j),xe=fp(Q,$.mode,xe),xe.return=$,$=xe),T($)):l($,j)}return function($,j,Q,xe){try{mu=0;var qe=Vt($,j,Q,xe);return Is=null,qe}catch(tt){if(tt===ou||tt===tf)throw tt;var xt=Mi(29,tt,null,$.mode);return xt.lanes=xe,xt.return=$,xt}finally{}}}var zs=lS(!0),uS=lS(!1),Wi=J(null),Mr=null;function Oa(r){var a=r.alternate;Ee(An,An.current&1),Ee(Wi,r),Mr===null&&(a===null||Ps.current!==null||a.memoizedState!==null)&&(Mr=r)}function cS(r){if(r.tag===22){if(Ee(An,An.current),Ee(Wi,r),Mr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(Mr=r)}}else Pa()}function Pa(){Ee(An,An.current),Ee(Wi,Wi.current)}function Vr(r){se(Wi),Mr===r&&(Mr=null),se(An)}var An=J(0);function mf(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Um(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Wp(r,a,l,f){a=r.memoizedState,l=l(f,a),l=l==null?a:p({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xp={enqueueSetState:function(r,a,l){r=r._reactInternals;var f=wi(),v=Ca(f);v.payload=a,l!=null&&(v.callback=l),a=Ra(r,v,f),a!==null&&(Ci(a,r,f),lu(a,r,f))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var f=wi(),v=Ca(f);v.tag=1,v.payload=a,l!=null&&(v.callback=l),a=Ra(r,v,f),a!==null&&(Ci(a,r,f),lu(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=wi(),f=Ca(l);f.tag=2,a!=null&&(f.callback=a),a=Ra(r,f,l),a!==null&&(Ci(a,r,l),lu(a,r,l))}};function fS(r,a,l,f,v,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,y,T):a.prototype&&a.prototype.isPureReactComponent?!Ql(l,f)||!Ql(v,y):!0}function dS(r,a,l,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,f),a.state!==r&&Xp.enqueueReplaceState(a,a.state,null)}function Do(r,a){var l=a;if("ref"in a){l={};for(var f in a)f!=="ref"&&(l[f]=a[f])}if(r=r.defaultProps){l===a&&(l=p({},l));for(var v in r)l[v]===void 0&&(l[v]=r[v])}return l}var vf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function hS(r){vf(r)}function pS(r){console.error(r)}function mS(r){vf(r)}function gf(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function vS(r,a,l){try{var f=r.onCaughtError;f(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function qp(r,a,l){return l=Ca(l),l.tag=3,l.payload={element:null},l.callback=function(){gf(r,a)},l}function gS(r){return r=Ca(r),r.tag=3,r}function yS(r,a,l,f){var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var y=f.value;r.payload=function(){return v(y)},r.callback=function(){vS(a,l,f)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){vS(a,l,f),typeof v!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var D=f.stack;this.componentDidCatch(f.value,{componentStack:D!==null?D:""})})}function VD(r,a,l,f,v){if(l.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=l.alternate,a!==null&&iu(a,l,v,!0),l=Wi.current,l!==null){switch(l.tag){case 13:return Mr===null?gm():l.alternate===null&&cn===0&&(cn=3),l.flags&=-257,l.flags|=65536,l.lanes=v,f===bp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([f]):a.add(f),_m(r,f,v)),!1;case 22:return l.flags|=65536,f===bp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([f]):l.add(f)),_m(r,f,v)),!1}throw Error(i(435,l.tag))}return _m(r,f,v),gm(),!1}if(Nt)return a=Wi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==mp&&(r=Error(i(422),{cause:f}),nu(Hi(r,l)))):(f!==mp&&(a=Error(i(423),{cause:f}),nu(Hi(a,l))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,f=Hi(f,l),v=qp(r.stateNode,f,v),Tp(r,v),cn!==4&&(cn=2)),!1;var y=Error(i(520),{cause:f});if(y=Hi(y,l),Mu===null?Mu=[y]:Mu.push(y),cn!==4&&(cn=2),a===null)return!0;f=Hi(f,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=v&-v,l.lanes|=r,r=qp(l.stateNode,f,r),Tp(l,r),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ba===null||!Ba.has(y))))return l.flags|=65536,v&=-v,l.lanes|=v,v=gS(v),yS(v,r,l,f),Tp(l,v),!1}l=l.return}while(l!==null);return!1}var _S=Error(i(461)),Un=!1;function Vn(r,a,l,f){a.child=r===null?uS(a,null,l,f):zs(a,r.child,l,f)}function xS(r,a,l,f,v){l=l.render;var y=a.ref;if("ref"in f){var T={};for(var D in f)D!=="ref"&&(T[D]=f[D])}else T=f;return wo(a),f=Dp(r,a,l,T,y,v),D=Op(),r!==null&&!Un?(Pp(r,a,v),jr(r,a,v)):(Nt&&D&&hp(a),a.flags|=1,Vn(r,a,f,v),a.child)}function SS(r,a,l,f,v){if(r===null){var y=l.type;return typeof y=="function"&&!cp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,bS(r,a,y,f,v)):(r=Kc(l.type,null,f,a,a.mode,v),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!tm(r,v)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ql,l(T,f)&&r.ref===a.ref)return jr(r,a,v)}return a.flags|=1,r=zr(y,f),r.ref=a.ref,r.return=a,a.child=r}function bS(r,a,l,f,v){if(r!==null){var y=r.memoizedProps;if(Ql(y,f)&&r.ref===a.ref)if(Un=!1,a.pendingProps=f=y,tm(r,v))(r.flags&131072)!==0&&(Un=!0);else return a.lanes=r.lanes,jr(r,a,v)}return Yp(r,a,l,f,v)}function MS(r,a,l){var f=a.pendingProps,v=f.children,y=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=y!==null?y.baseLanes|l:l,r!==null){for(v=a.child=r.child,y=0;v!==null;)y=y|v.lanes|v.childLanes,v=v.sibling;a.childLanes=y&~f}else a.childLanes=0,a.child=null;return ES(r,a,f,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&ef(a,y!==null?y.cachePool:null),y!==null?bx(a,y):wp(),cS(a);else return a.lanes=a.childLanes=536870912,ES(r,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(ef(a,y.cachePool),bx(a,y),Pa(),a.memoizedState=null):(r!==null&&ef(a,null),wp(),Pa());return Vn(r,a,v,l),a.child}function ES(r,a,l,f){var v=Sp();return v=v===null?null:{parent:Tn._currentValue,pool:v},a.memoizedState={baseLanes:l,cachePool:v},r!==null&&ef(a,null),wp(),cS(a),r!==null&&iu(r,a,f,!0),null}function yf(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function Yp(r,a,l,f,v){return wo(a),l=Dp(r,a,l,f,void 0,v),f=Op(),r!==null&&!Un?(Pp(r,a,v),jr(r,a,v)):(Nt&&f&&hp(a),a.flags|=1,Vn(r,a,l,v),a.child)}function TS(r,a,l,f,v,y){return wo(a),a.updateQueue=null,l=Ex(a,f,l,v),Mx(r),f=Op(),r!==null&&!Un?(Pp(r,a,y),jr(r,a,y)):(Nt&&f&&hp(a),a.flags|=1,Vn(r,a,l,y),a.child)}function AS(r,a,l,f,v){if(wo(a),a.stateNode===null){var y=ws,T=l.contextType;typeof T=="object"&&T!==null&&(y=Zn(T)),y=new l(f,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Xp,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=f,y.state=a.memoizedState,y.refs={},Mp(a),T=l.contextType,y.context=typeof T=="object"&&T!==null?Zn(T):ws,y.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(Wp(a,l,T,f),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&Xp.enqueueReplaceState(y,y.state,null),cu(a,f,y,v),uu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){y=a.stateNode;var D=a.memoizedProps,G=Do(l,D);y.props=G;var ee=y.context,ve=l.contextType;T=ws,typeof ve=="object"&&ve!==null&&(T=Zn(ve));var Se=l.getDerivedStateFromProps;ve=typeof Se=="function"||typeof y.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,ve||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(D||ee!==T)&&dS(a,y,f,T),wa=!1;var re=a.memoizedState;y.state=re,cu(a,f,y,v),uu(),ee=a.memoizedState,D||re!==ee||wa?(typeof Se=="function"&&(Wp(a,l,Se,f),ee=a.memoizedState),(G=wa||fS(a,l,G,f,re,ee,T))?(ve||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=ee),y.props=f,y.state=ee,y.context=T,f=G):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{y=a.stateNode,Ep(r,a),T=a.memoizedProps,ve=Do(l,T),y.props=ve,Se=a.pendingProps,re=y.context,ee=l.contextType,G=ws,typeof ee=="object"&&ee!==null&&(G=Zn(ee)),D=l.getDerivedStateFromProps,(ee=typeof D=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==Se||re!==G)&&dS(a,y,f,G),wa=!1,re=a.memoizedState,y.state=re,cu(a,f,y,v),uu();var ae=a.memoizedState;T!==Se||re!==ae||wa||r!==null&&r.dependencies!==null&&Qc(r.dependencies)?(typeof D=="function"&&(Wp(a,l,D,f),ae=a.memoizedState),(ve=wa||fS(a,l,ve,f,re,ae,G)||r!==null&&r.dependencies!==null&&Qc(r.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ae,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ae,G)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=ae),y.props=f,y.state=ae,y.context=G,f=ve):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&re===r.memoizedState||(a.flags|=1024),f=!1)}return y=f,yf(r,a),f=(a.flags&128)!==0,y||f?(y=a.stateNode,l=f&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&f?(a.child=zs(a,r.child,null,v),a.child=zs(a,null,l,v)):Vn(r,a,l,v),a.memoizedState=y.state,r=a.child):r=jr(r,a,v),r}function wS(r,a,l,f){return tu(),a.flags|=256,Vn(r,a,l,f),a.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $p(r){return{baseLanes:r,cachePool:px()}}function Zp(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=Xi),r}function CS(r,a,l){var f=a.pendingProps,v=!1,y=(a.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(An.current&2)!==0),T&&(v=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,r===null){if(Nt){if(v?Oa(a):Pa(),Nt){var D=un,G;if(G=D){e:{for(G=D,D=br;G.nodeType!==8;){if(!D){D=null;break e}if(G=ur(G.nextSibling),G===null){D=null;break e}}D=G}D!==null?(a.memoizedState={dehydrated:D,treeContext:bo!==null?{id:Br,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},G=Mi(18,null,null,0),G.stateNode=D,G.return=a,a.child=G,ai=a,un=null,G=!0):G=!1}G||To(a)}if(D=a.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return Um(D)?a.lanes=32:a.lanes=536870912,null;Vr(a)}return D=f.children,f=f.fallback,v?(Pa(),v=a.mode,D=_f({mode:"hidden",children:D},v),f=So(f,v,l,null),D.return=a,f.return=a,D.sibling=f,a.child=D,v=a.child,v.memoizedState=$p(l),v.childLanes=Zp(r,T,l),a.memoizedState=Kp,f):(Oa(a),Qp(a,D))}if(G=r.memoizedState,G!==null&&(D=G.dehydrated,D!==null)){if(y)a.flags&256?(Oa(a),a.flags&=-257,a=Jp(r,a,l)):a.memoizedState!==null?(Pa(),a.child=r.child,a.flags|=128,a=null):(Pa(),v=f.fallback,D=a.mode,f=_f({mode:"visible",children:f.children},D),v=So(v,D,l,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,zs(a,r.child,null,l),f=a.child,f.memoizedState=$p(l),f.childLanes=Zp(r,T,l),a.memoizedState=Kp,a=v);else if(Oa(a),Um(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var ee=T.dgst;T=ee,f=Error(i(419)),f.stack="",f.digest=T,nu({value:f,source:null,stack:null}),a=Jp(r,a,l)}else if(Un||iu(r,a,l,!1),T=(l&r.childLanes)!==0,Un||T){if(T=$t,T!==null&&(f=l&-l,f=(f&42)!==0?1:ct(f),f=(f&(T.suspendedLanes|l))!==0?0:f,f!==0&&f!==G.retryLane))throw G.retryLane=f,As(r,f),Ci(T,r,f),_S;D.data==="$?"||gm(),a=Jp(r,a,l)}else D.data==="$?"?(a.flags|=192,a.child=r.child,a=null):(r=G.treeContext,un=ur(D.nextSibling),ai=a,Nt=!0,Eo=null,br=!1,r!==null&&(Vi[ji++]=Br,Vi[ji++]=Fr,Vi[ji++]=bo,Br=r.id,Fr=r.overflow,bo=a),a=Qp(a,f.children),a.flags|=4096);return a}return v?(Pa(),v=f.fallback,D=a.mode,G=r.child,ee=G.sibling,f=zr(G,{mode:"hidden",children:f.children}),f.subtreeFlags=G.subtreeFlags&65011712,ee!==null?v=zr(ee,v):(v=So(v,D,l,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,D=r.child.memoizedState,D===null?D=$p(l):(G=D.cachePool,G!==null?(ee=Tn._currentValue,G=G.parent!==ee?{parent:ee,pool:ee}:G):G=px(),D={baseLanes:D.baseLanes|l,cachePool:G}),v.memoizedState=D,v.childLanes=Zp(r,T,l),a.memoizedState=Kp,f):(Oa(a),l=r.child,r=l.sibling,l=zr(l,{mode:"visible",children:f.children}),l.return=a,l.sibling=null,r!==null&&(T=a.deletions,T===null?(a.deletions=[r],a.flags|=16):T.push(r)),a.child=l,a.memoizedState=null,l)}function Qp(r,a){return a=_f({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function _f(r,a){return r=Mi(22,r,null,a),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Jp(r,a,l){return zs(a,r.child,null,l),r=Qp(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function RS(r,a,l){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),gp(r.return,a,l)}function em(r,a,l,f,v){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:l,tailMode:v}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=l,y.tailMode=v)}function DS(r,a,l){var f=a.pendingProps,v=f.revealOrder,y=f.tail;if(Vn(r,a,f.children,l),f=An.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&RS(r,l,a);else if(r.tag===19)RS(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(Ee(An,f),v){case"forwards":for(l=a.child,v=null;l!==null;)r=l.alternate,r!==null&&mf(r)===null&&(v=l),l=l.sibling;l=v,l===null?(v=a.child,a.child=null):(v=l.sibling,l.sibling=null),em(a,!1,v,l,y);break;case"backwards":for(l=null,v=a.child,a.child=null;v!==null;){if(r=v.alternate,r!==null&&mf(r)===null){a.child=v;break}r=v.sibling,v.sibling=l,l=v,v=r}em(a,!0,l,null,y);break;case"together":em(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function jr(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),za|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(iu(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=zr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=zr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function tm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Qc(r)))}function jD(r,a,l){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),Aa(a,Tn,r.memoizedState.cache),tu();break;case 27:case 5:De(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:Aa(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Oa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?CS(r,a,l):(Oa(a),r=jr(r,a,l),r!==null?r.sibling:null);Oa(a);break;case 19:var v=(r.flags&128)!==0;if(f=(l&a.childLanes)!==0,f||(iu(r,a,l,!1),f=(l&a.childLanes)!==0),v){if(f)return DS(r,a,l);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Ee(An,An.current),f)break;return null;case 22:case 23:return a.lanes=0,MS(r,a,l);case 24:Aa(a,Tn,r.memoizedState.cache)}return jr(r,a,l)}function OS(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Un=!0;else{if(!tm(r,l)&&(a.flags&128)===0)return Un=!1,jD(r,a,l);Un=(r.flags&131072)!==0}else Un=!1,Nt&&(a.flags&1048576)!==0&&sx(a,Zc,a.index);switch(a.lanes=0,a.tag){case 16:e:{r=a.pendingProps;var f=a.elementType,v=f._init;if(f=v(f._payload),a.type=f,typeof f=="function")cp(f)?(r=Do(f,r),a.tag=1,a=AS(null,a,f,r,l)):(a.tag=0,a=Yp(null,a,f,r,l));else{if(f!=null){if(v=f.$$typeof,v===A){a.tag=11,a=xS(null,a,f,r,l);break e}else if(v===L){a.tag=14,a=SS(null,a,f,r,l);break e}}throw a=ce(f)||f,Error(i(306,a,""))}}return a;case 0:return Yp(r,a,a.type,a.pendingProps,l);case 1:return f=a.type,v=Do(f,a.pendingProps),AS(r,a,f,v,l);case 3:e:{if(Ie(a,a.stateNode.containerInfo),r===null)throw Error(i(387));f=a.pendingProps;var y=a.memoizedState;v=y.element,Ep(r,a),cu(a,f,null,l);var T=a.memoizedState;if(f=T.cache,Aa(a,Tn,f),f!==y.cache&&yp(a,[Tn],l,!0),uu(),f=T.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=wS(r,a,f,l);break e}else if(f!==v){v=Hi(Error(i(424)),a),nu(v),a=wS(r,a,f,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(un=ur(r.firstChild),ai=a,Nt=!0,Eo=null,br=!0,l=uS(a,null,f,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(tu(),f===v){a=jr(r,a,l);break e}Vn(r,a,f,l)}a=a.child}return a;case 26:return yf(r,a),r===null?(l=Lb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Nt||(l=a.type,r=a.pendingProps,f=Nf(_e.current).createElement(l),f[En]=a,f[sn]=r,Wn(f,l,r),vn(f),a.stateNode=f):a.memoizedState=Lb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return De(a),r===null&&Nt&&(f=a.stateNode=Pb(a.type,a.pendingProps,_e.current),ai=a,br=!0,v=un,Ha(a.type)?(Lm=v,un=ur(f.firstChild)):un=v),Vn(r,a,a.pendingProps.children,l),yf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Nt&&((v=f=un)&&(f=yO(f,a.type,a.pendingProps,br),f!==null?(a.stateNode=f,ai=a,un=ur(f.firstChild),br=!1,v=!0):v=!1),v||To(a)),De(a),v=a.type,y=a.pendingProps,T=r!==null?r.memoizedProps:null,f=y.children,Om(v,y)?f=null:T!==null&&Om(v,T)&&(a.flags|=32),a.memoizedState!==null&&(v=Dp(r,a,ID,null,null,l),Pu._currentValue=v),yf(r,a),Vn(r,a,f,l),a.child;case 6:return r===null&&Nt&&((r=l=un)&&(l=_O(l,a.pendingProps,br),l!==null?(a.stateNode=l,ai=a,un=null,r=!0):r=!1),r||To(a)),null;case 13:return CS(r,a,l);case 4:return Ie(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=zs(a,null,f,l):Vn(r,a,f,l),a.child;case 11:return xS(r,a,a.type,a.pendingProps,l);case 7:return Vn(r,a,a.pendingProps,l),a.child;case 8:return Vn(r,a,a.pendingProps.children,l),a.child;case 12:return Vn(r,a,a.pendingProps.children,l),a.child;case 10:return f=a.pendingProps,Aa(a,a.type,f.value),Vn(r,a,f.children,l),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,wo(a),v=Zn(v),f=f(v),a.flags|=1,Vn(r,a,f,l),a.child;case 14:return SS(r,a,a.type,a.pendingProps,l);case 15:return bS(r,a,a.type,a.pendingProps,l);case 19:return DS(r,a,l);case 31:return f=a.pendingProps,l=a.mode,f={mode:f.mode,children:f.children},r===null?(l=_f(f,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=zr(r.child,f),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return MS(r,a,l);case 24:return wo(a),f=Zn(Tn),r===null?(v=Sp(),v===null&&(v=$t,y=_p(),v.pooledCache=y,y.refCount++,y!==null&&(v.pooledCacheLanes|=l),v=y),a.memoizedState={parent:f,cache:v},Mp(a),Aa(a,Tn,v)):((r.lanes&l)!==0&&(Ep(r,a),cu(a,null,null,l),uu()),v=r.memoizedState,y=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Aa(a,Tn,f)):(f=y.cache,Aa(a,Tn,f),f!==v.cache&&yp(a,[Tn],l,!0))),Vn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Wr(r){r.flags|=4}function PS(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kb(a)){if(a=Wi.current,a!==null&&((wt&4194048)===wt?Mr!==null:(wt&62914560)!==wt&&(wt&536870912)===0||a!==Mr))throw su=bp,mx;r.flags|=8192}}function xf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?Re():536870912,r.lanes|=a,Hs|=a)}function gu(r,a){if(!Nt)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function on(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,f=0;if(a)for(var v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)l|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=f,r.childLanes=l,a}function WD(r,a,l){var f=a.pendingProps;switch(pp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return on(a),null;case 3:return l=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Hr(Tn),ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(eu(a)?Wr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,cx())),on(a),null;case 26:return l=a.memoizedState,r===null?(Wr(a),l!==null?(on(a),PS(a,l)):(on(a),a.flags&=-16777217)):l?l!==r.memoizedState?(Wr(a),on(a),PS(a,l)):(on(a),a.flags&=-16777217):(r.memoizedProps!==f&&Wr(a),on(a),a.flags&=-16777217),null;case 27:Qe(a),l=_e.current;var v=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Wr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return on(a),null}r=Ne.current,eu(a)?lx(a):(r=Pb(v,f,l),a.stateNode=r,Wr(a))}return on(a),null;case 5:if(Qe(a),l=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&Wr(a);else{if(!f){if(a.stateNode===null)throw Error(i(166));return on(a),null}if(r=Ne.current,eu(a))lx(a);else{switch(v=Nf(_e.current),r){case 1:r=v.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=v.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=v.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?v.createElement(l,{is:f.is}):v.createElement(l)}}r[En]=a,r[sn]=f;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)r.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=r;e:switch(Wn(r,l,f),l){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Wr(a)}}return on(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&Wr(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(i(166));if(r=_e.current,eu(a)){if(r=a.stateNode,l=a.memoizedProps,f=null,v=ai,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}r[En]=a,r=!!(r.nodeValue===l||f!==null&&f.suppressHydrationWarning===!0||Tb(r.nodeValue,l)),r||To(a)}else r=Nf(r).createTextNode(f),r[En]=a,a.stateNode=r}return on(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=eu(a),f!==null&&f.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[En]=a}else tu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;on(a),v=!1}else v=cx(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Vr(a),a):(Vr(a),null)}if(Vr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=f!==null,r=r!==null&&r.memoizedState!==null,l){f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==v&&(f.flags|=2048)}return l!==r&&l&&(a.child.flags|=8192),xf(a,a.updateQueue),on(a),null;case 4:return ge(),r===null&&Am(a.stateNode.containerInfo),on(a),null;case 10:return Hr(a.type),on(a),null;case 19:if(se(An),v=a.memoizedState,v===null)return on(a),null;if(f=(a.flags&128)!==0,y=v.rendering,y===null)if(f)gu(v,!1);else{if(cn!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=mf(r),y!==null){for(a.flags|=128,gu(v,!1),r=y.updateQueue,a.updateQueue=r,xf(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)ox(l,r),l=l.sibling;return Ee(An,An.current&1|2),a.child}r=r.sibling}v.tail!==null&&ke()>Mf&&(a.flags|=128,f=!0,gu(v,!1),a.lanes=4194304)}else{if(!f)if(r=mf(y),r!==null){if(a.flags|=128,f=!0,r=r.updateQueue,a.updateQueue=r,xf(a,r),gu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!y.alternate&&!Nt)return on(a),null}else 2*ke()-v.renderingStartTime>Mf&&l!==536870912&&(a.flags|=128,f=!0,gu(v,!1),a.lanes=4194304);v.isBackwards?(y.sibling=a.child,a.child=y):(r=v.last,r!==null?r.sibling=y:a.child=y,v.last=y)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=ke(),a.sibling=null,r=An.current,Ee(An,f?r&1|2:r&1),a):(on(a),null);case 22:case 23:return Vr(a),Cp(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(l&536870912)!==0&&(a.flags&128)===0&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),l=a.updateQueue,l!==null&&xf(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==l&&(a.flags|=2048),r!==null&&se(Co),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Hr(Tn),on(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function XD(r,a){switch(pp(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Hr(Tn),ge(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Qe(a),null;case 13:if(Vr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));tu()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return se(An),null;case 4:return ge(),null;case 10:return Hr(a.type),null;case 22:case 23:return Vr(a),Cp(),r!==null&&se(Co),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Hr(Tn),null;case 25:return null;default:return null}}function NS(r,a){switch(pp(a),a.tag){case 3:Hr(Tn),ge();break;case 26:case 27:case 5:Qe(a);break;case 4:ge();break;case 13:Vr(a);break;case 19:se(An);break;case 10:Hr(a.type);break;case 22:case 23:Vr(a),Cp(),r!==null&&se(Co);break;case 24:Hr(Tn)}}function yu(r,a){try{var l=a.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var v=f.next;l=v;do{if((l.tag&r)===r){f=void 0;var y=l.create,T=l.inst;f=y(),T.destroy=f}l=l.next}while(l!==v)}}catch(D){Yt(a,a.return,D)}}function Na(r,a,l){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var y=v.next;f=y;do{if((f.tag&r)===r){var T=f.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,v=a;var G=l,ee=D;try{ee()}catch(ve){Yt(v,G,ve)}}}f=f.next}while(f!==y)}}catch(ve){Yt(a,a.return,ve)}}function US(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{Sx(a,l)}catch(f){Yt(r,r.return,f)}}}function LS(r,a,l){l.props=Do(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(f){Yt(r,a,f)}}function _u(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof l=="function"?r.refCleanup=l(f):l.current=f}}catch(v){Yt(r,a,v)}}function Er(r,a){var l=r.ref,f=r.refCleanup;if(l!==null)if(typeof f=="function")try{f()}catch(v){Yt(r,a,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(v){Yt(r,a,v)}else l.current=null}function IS(r){var a=r.type,l=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&f.focus();break e;case"img":l.src?f.src=l.src:l.srcSet&&(f.srcset=l.srcSet)}}catch(v){Yt(r,r.return,v)}}function nm(r,a,l){try{var f=r.stateNode;hO(f,r.type,l,a),f[sn]=a}catch(v){Yt(r,r.return,v)}}function zS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ha(r.type)||r.tag===4}function im(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ha(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rm(r,a,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Pf));else if(f!==4&&(f===27&&Ha(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(rm(r,a,l),r=r.sibling;r!==null;)rm(r,a,l),r=r.sibling}function Sf(r,a,l){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(f!==4&&(f===27&&Ha(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(Sf(r,a,l),r=r.sibling;r!==null;)Sf(r,a,l),r=r.sibling}function BS(r){var a=r.stateNode,l=r.memoizedProps;try{for(var f=r.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);Wn(a,f,l),a[En]=r,a[sn]=l}catch(y){Yt(r,r.return,y)}}var Xr=!1,pn=!1,am=!1,FS=typeof WeakSet=="function"?WeakSet:Set,Ln=null;function qD(r,a){if(r=r.containerInfo,Rm=Ff,r=$_(r),ip(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var f=l.getSelection&&l.getSelection();if(f&&f.rangeCount!==0){l=f.anchorNode;var v=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,D=-1,G=-1,ee=0,ve=0,Se=r,re=null;t:for(;;){for(var ae;Se!==l||v!==0&&Se.nodeType!==3||(D=T+v),Se!==y||f!==0&&Se.nodeType!==3||(G=T+f),Se.nodeType===3&&(T+=Se.nodeValue.length),(ae=Se.firstChild)!==null;)re=Se,Se=ae;for(;;){if(Se===r)break t;if(re===l&&++ee===v&&(D=T),re===y&&++ve===f&&(G=T),(ae=Se.nextSibling)!==null)break;Se=re,re=Se.parentNode}Se=ae}l=D===-1||G===-1?null:{start:D,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(Dm={focusedElem:r,selectionRange:l},Ff=!1,Ln=a;Ln!==null;)if(a=Ln,r=a.child,(a.subtreeFlags&1024)!==0&&r!==null)r.return=a,Ln=r;else for(;Ln!==null;){switch(a=Ln,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,l=a,v=y.memoizedProps,y=y.memoizedState,f=l.stateNode;try{var lt=Do(l.type,v,l.elementType===l.type);r=f.getSnapshotBeforeUpdate(lt,y),f.__reactInternalSnapshotBeforeUpdate=r}catch(at){Yt(l,l.return,at)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)Nm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Nm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Ln=r;break}Ln=a.return}}function kS(r,a,l){var f=l.flags;switch(l.tag){case 0:case 11:case 15:Ua(r,l),f&4&&yu(5,l);break;case 1:if(Ua(r,l),f&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(T){Yt(l,l.return,T)}else{var v=Do(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(v,a,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(l,l.return,T)}}f&64&&US(l),f&512&&_u(l,l.return);break;case 3:if(Ua(r,l),f&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Sx(r,a)}catch(T){Yt(l,l.return,T)}}break;case 27:a===null&&f&4&&BS(l);case 26:case 5:Ua(r,l),a===null&&f&4&&IS(l),f&512&&_u(l,l.return);break;case 12:Ua(r,l);break;case 13:Ua(r,l),f&4&&VS(r,l),f&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=nO.bind(null,l),xO(r,l))));break;case 22:if(f=l.memoizedState!==null||Xr,!f){a=a!==null&&a.memoizedState!==null||pn,v=Xr;var y=pn;Xr=f,(pn=a)&&!y?La(r,l,(l.subtreeFlags&8772)!==0):Ua(r,l),Xr=v,pn=y}break;case 30:break;default:Ua(r,l)}}function HS(r){var a=r.alternate;a!==null&&(r.alternate=null,HS(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&ys(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var tn=null,di=!1;function qr(r,a,l){for(l=l.child;l!==null;)GS(r,a,l),l=l.sibling}function GS(r,a,l){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(me,l)}catch{}switch(l.tag){case 26:pn||Er(l,a),qr(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:pn||Er(l,a);var f=tn,v=di;Ha(l.type)&&(tn=l.stateNode,di=!1),qr(r,a,l),Cu(l.stateNode),tn=f,di=v;break;case 5:pn||Er(l,a);case 6:if(f=tn,v=di,tn=null,qr(r,a,l),tn=f,di=v,tn!==null)if(di)try{(tn.nodeType===9?tn.body:tn.nodeName==="HTML"?tn.ownerDocument.body:tn).removeChild(l.stateNode)}catch(y){Yt(l,a,y)}else try{tn.removeChild(l.stateNode)}catch(y){Yt(l,a,y)}break;case 18:tn!==null&&(di?(r=tn,Db(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Iu(r)):Db(tn,l.stateNode));break;case 4:f=tn,v=di,tn=l.stateNode.containerInfo,di=!0,qr(r,a,l),tn=f,di=v;break;case 0:case 11:case 14:case 15:pn||Na(2,l,a),pn||Na(4,l,a),qr(r,a,l);break;case 1:pn||(Er(l,a),f=l.stateNode,typeof f.componentWillUnmount=="function"&&LS(l,a,f)),qr(r,a,l);break;case 21:qr(r,a,l);break;case 22:pn=(f=pn)||l.memoizedState!==null,qr(r,a,l),pn=f;break;default:qr(r,a,l)}}function VS(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Iu(r)}catch(l){Yt(a,a.return,l)}}function YD(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new FS),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new FS),a;default:throw Error(i(435,r.tag))}}function om(r,a){var l=YD(r);a.forEach(function(f){var v=iO.bind(null,r,f);l.has(f)||(l.add(f),f.then(v,v))})}function Ei(r,a){var l=a.deletions;if(l!==null)for(var f=0;f<l.length;f++){var v=l[f],y=r,T=a,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Ha(D.type)){tn=D.stateNode,di=!1;break e}break;case 5:tn=D.stateNode,di=!1;break e;case 3:case 4:tn=D.stateNode.containerInfo,di=!0;break e}D=D.return}if(tn===null)throw Error(i(160));GS(y,T,v),tn=null,di=!1,y=v.alternate,y!==null&&(y.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jS(a,r),a=a.sibling}var lr=null;function jS(r,a){var l=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ei(a,r),Ti(r),f&4&&(Na(3,r,r.return),yu(3,r),Na(5,r,r.return));break;case 1:Ei(a,r),Ti(r),f&512&&(pn||l===null||Er(l,l.return)),f&64&&Xr&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?f:l.concat(f))));break;case 26:var v=lr;if(Ei(a,r),Ti(r),f&512&&(pn||l===null||Er(l,l.return)),f&4){var y=l!==null?l.memoizedState:null;if(f=r.memoizedState,l===null)if(f===null)if(r.stateNode===null){e:{f=r.type,l=r.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":y=v.getElementsByTagName("title")[0],(!y||y[Sr]||y[En]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=v.createElement(f),v.head.insertBefore(y,v.querySelector("head > title"))),Wn(y,f,l),y[En]=r,vn(y),f=y;break e;case"link":var T=Bb("link","href",v).get(f+(l.href||""));if(T){for(var D=0;D<T.length;D++)if(y=T[D],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(D,1);break t}}y=v.createElement(f),Wn(y,f,l),v.head.appendChild(y);break;case"meta":if(T=Bb("meta","content",v).get(f+(l.content||""))){for(D=0;D<T.length;D++)if(y=T[D],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(D,1);break t}}y=v.createElement(f),Wn(y,f,l),v.head.appendChild(y);break;default:throw Error(i(468,f))}y[En]=r,vn(y),f=y}r.stateNode=f}else Fb(v,r.type,r.stateNode);else r.stateNode=zb(v,f,r.memoizedProps);else y!==f?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,f===null?Fb(v,r.type,r.stateNode):zb(v,f,r.memoizedProps)):f===null&&r.stateNode!==null&&nm(r,r.memoizedProps,l.memoizedProps)}break;case 27:Ei(a,r),Ti(r),f&512&&(pn||l===null||Er(l,l.return)),l!==null&&f&4&&nm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Ei(a,r),Ti(r),f&512&&(pn||l===null||Er(l,l.return)),r.flags&32){v=r.stateNode;try{ui(v,"")}catch(ae){Yt(r,r.return,ae)}}f&4&&r.stateNode!=null&&(v=r.memoizedProps,nm(r,v,l!==null?l.memoizedProps:v)),f&1024&&(am=!0);break;case 6:if(Ei(a,r),Ti(r),f&4){if(r.stateNode===null)throw Error(i(162));f=r.memoizedProps,l=r.stateNode;try{l.nodeValue=f}catch(ae){Yt(r,r.return,ae)}}break;case 3:if(If=null,v=lr,lr=Uf(a.containerInfo),Ei(a,r),lr=v,Ti(r),f&4&&l!==null&&l.memoizedState.isDehydrated)try{Iu(a.containerInfo)}catch(ae){Yt(r,r.return,ae)}am&&(am=!1,WS(r));break;case 4:f=lr,lr=Uf(r.stateNode.containerInfo),Ei(a,r),Ti(r),lr=f;break;case 12:Ei(a,r),Ti(r);break;case 13:Ei(a,r),Ti(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(dm=ke()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,om(r,f)));break;case 22:v=r.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ee=Xr,ve=pn;if(Xr=ee||v,pn=ve||G,Ei(a,r),pn=ve,Xr=ee,Ti(r),f&8192)e:for(a=r.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(l===null||G||Xr||pn||Oo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){G=l=a;try{if(y=G.stateNode,v)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=G.stateNode;var Se=G.memoizedProps.style,re=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;D.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){Yt(G,G.return,ae)}}}else if(a.tag===6){if(l===null){G=a;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(ae){Yt(G,G.return,ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(l=f.retryQueue,l!==null&&(f.retryQueue=null,om(r,l))));break;case 19:Ei(a,r),Ti(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,om(r,f)));break;case 30:break;case 21:break;default:Ei(a,r),Ti(r)}}function Ti(r){var a=r.flags;if(a&2){try{for(var l,f=r.return;f!==null;){if(zS(f)){l=f;break}f=f.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var v=l.stateNode,y=im(r);Sf(r,y,v);break;case 5:var T=l.stateNode;l.flags&32&&(ui(T,""),l.flags&=-33);var D=im(r);Sf(r,D,T);break;case 3:case 4:var G=l.stateNode.containerInfo,ee=im(r);rm(r,ee,G);break;default:throw Error(i(161))}}catch(ve){Yt(r,r.return,ve)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function WS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;WS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ua(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)kS(r,a.alternate,a),a=a.sibling}function Oo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Na(4,a,a.return),Oo(a);break;case 1:Er(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&LS(a,a.return,l),Oo(a);break;case 27:Cu(a.stateNode);case 26:case 5:Er(a,a.return),Oo(a);break;case 22:a.memoizedState===null&&Oo(a);break;case 30:Oo(a);break;default:Oo(a)}r=r.sibling}}function La(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=r,y=a,T=y.flags;switch(y.tag){case 0:case 11:case 15:La(v,y,l),yu(4,y);break;case 1:if(La(v,y,l),f=y,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ee){Yt(f,f.return,ee)}if(f=y,v=f.updateQueue,v!==null){var D=f.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)xx(G[v],D)}catch(ee){Yt(f,f.return,ee)}}l&&T&64&&US(y),_u(y,y.return);break;case 27:BS(y);case 26:case 5:La(v,y,l),l&&f===null&&T&4&&IS(y),_u(y,y.return);break;case 12:La(v,y,l);break;case 13:La(v,y,l),l&&T&4&&VS(v,y);break;case 22:y.memoizedState===null&&La(v,y,l),_u(y,y.return);break;case 30:break;default:La(v,y,l)}a=a.sibling}}function sm(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&ru(l))}function lm(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ru(r))}function Tr(r,a,l,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)XS(r,a,l,f),a=a.sibling}function XS(r,a,l,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(r,a,l,f),v&2048&&yu(9,a);break;case 1:Tr(r,a,l,f);break;case 3:Tr(r,a,l,f),v&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&ru(r)));break;case 12:if(v&2048){Tr(r,a,l,f),r=a.stateNode;try{var y=a.memoizedProps,T=y.id,D=y.onPostCommit;typeof D=="function"&&D(T,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){Yt(a,a.return,G)}}else Tr(r,a,l,f);break;case 13:Tr(r,a,l,f);break;case 23:break;case 22:y=a.stateNode,T=a.alternate,a.memoizedState!==null?y._visibility&2?Tr(r,a,l,f):xu(r,a):y._visibility&2?Tr(r,a,l,f):(y._visibility|=2,Bs(r,a,l,f,(a.subtreeFlags&10256)!==0)),v&2048&&sm(T,a);break;case 24:Tr(r,a,l,f),v&2048&&lm(a.alternate,a);break;default:Tr(r,a,l,f)}}function Bs(r,a,l,f,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,T=a,D=l,G=f,ee=T.flags;switch(T.tag){case 0:case 11:case 15:Bs(y,T,D,G,v),yu(8,T);break;case 23:break;case 22:var ve=T.stateNode;T.memoizedState!==null?ve._visibility&2?Bs(y,T,D,G,v):xu(y,T):(ve._visibility|=2,Bs(y,T,D,G,v)),v&&ee&2048&&sm(T.alternate,T);break;case 24:Bs(y,T,D,G,v),v&&ee&2048&&lm(T.alternate,T);break;default:Bs(y,T,D,G,v)}a=a.sibling}}function xu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,f=a,v=f.flags;switch(f.tag){case 22:xu(l,f),v&2048&&sm(f.alternate,f);break;case 24:xu(l,f),v&2048&&lm(f.alternate,f);break;default:xu(l,f)}a=a.sibling}}var Su=8192;function Fs(r){if(r.subtreeFlags&Su)for(r=r.child;r!==null;)qS(r),r=r.sibling}function qS(r){switch(r.tag){case 26:Fs(r),r.flags&Su&&r.memoizedState!==null&&NO(lr,r.memoizedState,r.memoizedProps);break;case 5:Fs(r);break;case 3:case 4:var a=lr;lr=Uf(r.stateNode.containerInfo),Fs(r),lr=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Su,Su=16777216,Fs(r),Su=a):Fs(r));break;default:Fs(r)}}function YS(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function bu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];Ln=f,$S(f,r)}YS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)KS(r),r=r.sibling}function KS(r){switch(r.tag){case 0:case 11:case 15:bu(r),r.flags&2048&&Na(9,r,r.return);break;case 3:bu(r);break;case 12:bu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,bf(r)):bu(r);break;default:bu(r)}}function bf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var f=a[l];Ln=f,$S(f,r)}YS(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Na(8,a,a.return),bf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,bf(a));break;default:bf(a)}r=r.sibling}}function $S(r,a){for(;Ln!==null;){var l=Ln;switch(l.tag){case 0:case 11:case 15:Na(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var f=l.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:ru(l.memoizedState.cache)}if(f=l.child,f!==null)f.return=l,Ln=f;else e:for(l=r;Ln!==null;){f=Ln;var v=f.sibling,y=f.return;if(HS(f),f===l){Ln=null;break e}if(v!==null){v.return=y,Ln=v;break e}Ln=y}}}var KD={getCacheForType:function(r){var a=Zn(Tn),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l}},$D=typeof WeakMap=="function"?WeakMap:Map,zt=0,$t=null,bt=null,wt=0,Bt=0,Ai=null,Ia=!1,ks=!1,um=!1,Yr=0,cn=0,za=0,Po=0,cm=0,Xi=0,Hs=0,Mu=null,hi=null,fm=!1,dm=0,Mf=1/0,Ef=null,Ba=null,jn=0,Fa=null,Gs=null,Vs=0,hm=0,pm=null,ZS=null,Eu=0,mm=null;function wi(){if((zt&2)!==0&&wt!==0)return wt&-wt;if(B.T!==null){var r=Ds;return r!==0?r:bm()}return Ct()}function QS(){Xi===0&&(Xi=(wt&536870912)===0||Nt?W():536870912);var r=Wi.current;return r!==null&&(r.flags|=32),Xi}function Ci(r,a,l){(r===$t&&(Bt===2||Bt===9)||r.cancelPendingCommit!==null)&&(js(r,0),ka(r,wt,Xi,!1)),Ge(r,l),((zt&2)===0||r!==$t)&&(r===$t&&((zt&2)===0&&(Po|=l),cn===4&&ka(r,wt,Xi,!1)),Ar(r))}function JS(r,a,l){if((zt&6)!==0)throw Error(i(327));var f=!l&&(a&124)===0&&(a&r.expiredLanes)===0||Ue(r,a),v=f?JD(r,a):ym(r,a,!0),y=f;do{if(v===0){ks&&!f&&ka(r,a,0,!1);break}else{if(l=r.current.alternate,y&&!ZD(l)){v=ym(r,a,!1),y=!1;continue}if(v===2){if(y=a,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var D=r;v=Mu;var G=D.current.memoizedState.isDehydrated;if(G&&(js(D,T).flags|=256),T=ym(D,T,!1),T!==2){if(um&&!G){D.errorRecoveryDisabledLanes|=y,Po|=y,v=4;break e}y=hi,hi=v,y!==null&&(hi===null?hi=y:hi.push.apply(hi,y))}v=T}if(y=!1,v!==2)continue}}if(v===1){js(r,0),ka(r,a,0,!0);break}e:{switch(f=r,y=v,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ka(f,a,Xi,!Ia);break e;case 2:hi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(v=dm+300-ke(),10<v)){if(ka(f,a,Xi,!Ia),Ke(f,0,!0)!==0)break e;f.timeoutHandle=Cb(eb.bind(null,f,l,hi,Ef,fm,a,Xi,Po,Hs,Ia,y,2,-0,0),v);break e}eb(f,l,hi,Ef,fm,a,Xi,Po,Hs,Ia,y,0,-0,0)}}break}while(!0);Ar(r)}function eb(r,a,l,f,v,y,T,D,G,ee,ve,Se,re,ae){if(r.timeoutHandle=-1,Se=a.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:PO},qS(a),Se=UO(),Se!==null)){r.cancelPendingCommit=Se(sb.bind(null,r,a,y,l,f,v,T,D,G,ve,1,re,ae)),ka(r,y,T,!ee);return}sb(r,a,y,l,f,v,T,D,G)}function ZD(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var f=0;f<l.length;f++){var v=l[f],y=v.getSnapshot;v=v.value;try{if(!bi(y(),v))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ka(r,a,l,f){a&=~cm,a&=~Po,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var v=a;0<v;){var y=31-He(v),T=1<<y;f[y]=-1,v&=~T}l!==0&&be(r,l,a)}function Tf(){return(zt&6)===0?(Tu(0),!1):!0}function vm(){if(bt!==null){if(Bt===0)var r=bt.return;else r=bt,kr=Ao=null,Np(r),Is=null,mu=0,r=bt;for(;r!==null;)NS(r.alternate,r),r=r.return;bt=null}}function js(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,mO(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),vm(),$t=r,bt=l=zr(r.current,null),wt=a,Bt=0,Ai=null,Ia=!1,ks=Ue(r,a),um=!1,Hs=Xi=cm=Po=za=cn=0,hi=Mu=null,fm=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var v=31-He(f),y=1<<v;a|=r[v],f&=~y}return Yr=a,Xc(),l}function tb(r,a){_t=null,B.H=df,a===ou||a===tf?(a=yx(),Bt=3):a===mx?(a=yx(),Bt=4):Bt=a===_S?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ai=a,bt===null&&(cn=1,gf(r,Hi(a,r.current)))}function nb(){var r=B.H;return B.H=df,r===null?df:r}function ib(){var r=B.A;return B.A=KD,r}function gm(){cn=4,Ia||(wt&4194048)!==wt&&Wi.current!==null||(ks=!0),(za&134217727)===0&&(Po&134217727)===0||$t===null||ka($t,wt,Xi,!1)}function ym(r,a,l){var f=zt;zt|=2;var v=nb(),y=ib();($t!==r||wt!==a)&&(Ef=null,js(r,a)),a=!1;var T=cn;e:do try{if(Bt!==0&&bt!==null){var D=bt,G=Ai;switch(Bt){case 8:vm(),T=6;break e;case 3:case 2:case 9:case 6:Wi.current===null&&(a=!0);var ee=Bt;if(Bt=0,Ai=null,Ws(r,D,G,ee),l&&ks){T=0;break e}break;default:ee=Bt,Bt=0,Ai=null,Ws(r,D,G,ee)}}QD(),T=cn;break}catch(ve){tb(r,ve)}while(!0);return a&&r.shellSuspendCounter++,kr=Ao=null,zt=f,B.H=v,B.A=y,bt===null&&($t=null,wt=0,Xc()),T}function QD(){for(;bt!==null;)rb(bt)}function JD(r,a){var l=zt;zt|=2;var f=nb(),v=ib();$t!==r||wt!==a?(Ef=null,Mf=ke()+500,js(r,a)):ks=Ue(r,a);e:do try{if(Bt!==0&&bt!==null){a=bt;var y=Ai;t:switch(Bt){case 1:Bt=0,Ai=null,Ws(r,a,y,1);break;case 2:case 9:if(vx(y)){Bt=0,Ai=null,ab(a);break}a=function(){Bt!==2&&Bt!==9||$t!==r||(Bt=7),Ar(r)},y.then(a,a);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:vx(y)?(Bt=0,Ai=null,ab(a)):(Bt=0,Ai=null,Ws(r,a,y,7));break;case 5:var T=null;switch(bt.tag){case 26:T=bt.memoizedState;case 5:case 27:var D=bt;if(!T||kb(T)){Bt=0,Ai=null;var G=D.sibling;if(G!==null)bt=G;else{var ee=D.return;ee!==null?(bt=ee,Af(ee)):bt=null}break t}}Bt=0,Ai=null,Ws(r,a,y,5);break;case 6:Bt=0,Ai=null,Ws(r,a,y,6);break;case 8:vm(),cn=6;break e;default:throw Error(i(462))}}eO();break}catch(ve){tb(r,ve)}while(!0);return kr=Ao=null,B.H=f,B.A=v,zt=l,bt!==null?0:($t=null,wt=0,Xc(),cn)}function eO(){for(;bt!==null&&!Ve();)rb(bt)}function rb(r){var a=OS(r.alternate,r,Yr);r.memoizedProps=r.pendingProps,a===null?Af(r):bt=a}function ab(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=TS(l,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=TS(l,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:Np(a);default:NS(l,a),a=bt=ox(a,Yr),a=OS(l,a,Yr)}r.memoizedProps=r.pendingProps,a===null?Af(r):bt=a}function Ws(r,a,l,f){kr=Ao=null,Np(a),Is=null,mu=0;var v=a.return;try{if(VD(r,v,a,l,wt)){cn=1,gf(r,Hi(l,r.current)),bt=null;return}}catch(y){if(v!==null)throw bt=v,y;cn=1,gf(r,Hi(l,r.current)),bt=null;return}a.flags&32768?(Nt||f===1?r=!0:ks||(wt&536870912)!==0?r=!1:(Ia=r=!0,(f===2||f===9||f===3||f===6)&&(f=Wi.current,f!==null&&f.tag===13&&(f.flags|=16384))),ob(a,r)):Af(a)}function Af(r){var a=r;do{if((a.flags&32768)!==0){ob(a,Ia);return}r=a.return;var l=WD(a.alternate,a,Yr);if(l!==null){bt=l;return}if(a=a.sibling,a!==null){bt=a;return}bt=a=r}while(a!==null);cn===0&&(cn=5)}function ob(r,a){do{var l=XD(r.alternate,r);if(l!==null){l.flags&=32767,bt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){bt=r;return}bt=r=l}while(r!==null);cn=6,bt=null}function sb(r,a,l,f,v,y,T,D,G){r.cancelPendingCommit=null;do wf();while(jn!==0);if((zt&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=lp,we(r,l,y,T,D,G),r===$t&&(bt=$t=null,wt=0),Gs=a,Fa=r,Vs=l,hm=y,pm=v,ZS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,rO(rn,function(){return db(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,v=q.p,q.p=2,T=zt,zt|=4;try{qD(r,a,l)}finally{zt=T,q.p=v,B.T=f}}jn=1,lb(),ub(),cb()}}function lb(){if(jn===1){jn=0;var r=Fa,a=Gs,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var f=q.p;q.p=2;var v=zt;zt|=4;try{jS(a,r);var y=Dm,T=$_(r.containerInfo),D=y.focusedElem,G=y.selectionRange;if(T!==D&&D&&D.ownerDocument&&K_(D.ownerDocument.documentElement,D)){if(G!==null&&ip(D)){var ee=G.start,ve=G.end;if(ve===void 0&&(ve=ee),"selectionStart"in D)D.selectionStart=ee,D.selectionEnd=Math.min(ve,D.value.length);else{var Se=D.ownerDocument||document,re=Se&&Se.defaultView||window;if(re.getSelection){var ae=re.getSelection(),lt=D.textContent.length,at=Math.min(G.start,lt),Vt=G.end===void 0?at:Math.min(G.end,lt);!ae.extend&&at>Vt&&(T=Vt,Vt=at,at=T);var $=Y_(D,at),j=Y_(D,Vt);if($&&j&&(ae.rangeCount!==1||ae.anchorNode!==$.node||ae.anchorOffset!==$.offset||ae.focusNode!==j.node||ae.focusOffset!==j.offset)){var Q=Se.createRange();Q.setStart($.node,$.offset),ae.removeAllRanges(),at>Vt?(ae.addRange(Q),ae.extend(j.node,j.offset)):(Q.setEnd(j.node,j.offset),ae.addRange(Q))}}}}for(Se=[],ae=D;ae=ae.parentNode;)ae.nodeType===1&&Se.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<Se.length;D++){var xe=Se[D];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}Ff=!!Rm,Dm=Rm=null}finally{zt=v,q.p=f,B.T=l}}r.current=a,jn=2}}function ub(){if(jn===2){jn=0;var r=Fa,a=Gs,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var f=q.p;q.p=2;var v=zt;zt|=4;try{kS(r,a.alternate,a)}finally{zt=v,q.p=f,B.T=l}}jn=3}}function cb(){if(jn===4||jn===3){jn=0,ut();var r=Fa,a=Gs,l=Vs,f=ZS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?jn=5:(jn=0,Gs=Fa=null,fb(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(Ba=null),Ut(l),a=a.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(me,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=B.T,v=q.p,q.p=2,B.T=null;try{for(var y=r.onRecoverableError,T=0;T<f.length;T++){var D=f[T];y(D.value,{componentStack:D.stack})}}finally{B.T=a,q.p=v}}(Vs&3)!==0&&wf(),Ar(r),v=r.pendingLanes,(l&4194090)!==0&&(v&42)!==0?r===mm?Eu++:(Eu=0,mm=r):Eu=0,Tu(0)}}function fb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,ru(a)))}function wf(r){return lb(),ub(),cb(),db()}function db(){if(jn!==5)return!1;var r=Fa,a=hm;hm=0;var l=Ut(Vs),f=B.T,v=q.p;try{q.p=32>l?32:l,B.T=null,l=pm,pm=null;var y=Fa,T=Vs;if(jn=0,Gs=Fa=null,Vs=0,(zt&6)!==0)throw Error(i(331));var D=zt;if(zt|=4,KS(y.current),XS(y,y.current,T,l),zt=D,Tu(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(me,y)}catch{}return!0}finally{q.p=v,B.T=f,fb(r,a)}}function hb(r,a,l){a=Hi(l,a),a=qp(r.stateNode,a,2),r=Ra(r,a,2),r!==null&&(Ge(r,2),Ar(r))}function Yt(r,a,l){if(r.tag===3)hb(r,r,l);else for(;a!==null;){if(a.tag===3){hb(a,r,l);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ba===null||!Ba.has(f))){r=Hi(l,r),l=gS(2),f=Ra(a,l,2),f!==null&&(yS(l,f,a,r),Ge(f,2),Ar(f));break}}a=a.return}}function _m(r,a,l){var f=r.pingCache;if(f===null){f=r.pingCache=new $D;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(l)||(um=!0,v.add(l),r=tO.bind(null,r,a,l),a.then(r,r))}function tO(r,a,l){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,$t===r&&(wt&l)===l&&(cn===4||cn===3&&(wt&62914560)===wt&&300>ke()-dm?(zt&2)===0&&js(r,0):cm|=l,Hs===wt&&(Hs=0)),Ar(r)}function pb(r,a){a===0&&(a=Re()),r=As(r,a),r!==null&&(Ge(r,a),Ar(r))}function nO(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),pb(r,l)}function iO(r,a){var l=0;switch(r.tag){case 13:var f=r.stateNode,v=r.memoizedState;v!==null&&(l=v.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(i(314))}f!==null&&f.delete(a),pb(r,l)}function rO(r,a){return V(r,a)}var Cf=null,Xs=null,xm=!1,Rf=!1,Sm=!1,No=0;function Ar(r){r!==Xs&&r.next===null&&(Xs===null?Cf=Xs=r:Xs=Xs.next=r),Rf=!0,xm||(xm=!0,oO())}function Tu(r,a){if(!Sm&&Rf){Sm=!0;do for(var l=!1,f=Cf;f!==null;){if(r!==0){var v=f.pendingLanes;if(v===0)var y=0;else{var T=f.suspendedLanes,D=f.pingedLanes;y=(1<<31-He(42|r)+1)-1,y&=v&~(T&~D),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,yb(f,y))}else y=wt,y=Ke(f,f===$t?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Ue(f,y)||(l=!0,yb(f,y));f=f.next}while(l);Sm=!1}}function aO(){mb()}function mb(){Rf=xm=!1;var r=0;No!==0&&(pO()&&(r=No),No=0);for(var a=ke(),l=null,f=Cf;f!==null;){var v=f.next,y=vb(f,a);y===0?(f.next=null,l===null?Cf=v:l.next=v,v===null&&(Xs=l)):(l=f,(r!==0||(y&3)!==0)&&(Rf=!0)),f=v}Tu(r)}function vb(r,a){for(var l=r.suspendedLanes,f=r.pingedLanes,v=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-He(y),D=1<<T,G=v[T];G===-1?((D&l)===0||(D&f)!==0)&&(v[T]=ft(D,a)):G<=a&&(r.expiredLanes|=D),y&=~D}if(a=$t,l=wt,l=Ke(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,l===0||r===a&&(Bt===2||Bt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&et(f),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ue(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(f!==null&&et(f),Ut(l)){case 2:case 8:l=dt;break;case 32:l=rn;break;case 268435456:l=k;break;default:l=rn}return f=gb.bind(null,r),l=V(l,f),r.callbackPriority=a,r.callbackNode=l,a}return f!==null&&f!==null&&et(f),r.callbackPriority=2,r.callbackNode=null,2}function gb(r,a){if(jn!==0&&jn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(wf()&&r.callbackNode!==l)return null;var f=wt;return f=Ke(r,r===$t?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(JS(r,f,a),vb(r,ke()),r.callbackNode!=null&&r.callbackNode===l?gb.bind(null,r):null)}function yb(r,a){if(wf())return null;JS(r,a,!0)}function oO(){vO(function(){(zt&6)!==0?V(Xe,aO):mb()})}function bm(){return No===0&&(No=W()),No}function _b(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fc(""+r)}function xb(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function sO(r,a,l,f,v){if(a==="submit"&&l&&l.stateNode===v){var y=_b((v[sn]||null).action),T=f.submitter;T&&(a=(a=T[sn]||null)?_b(a.formAction):T.getAttribute("formAction"),a!==null&&(y=a,T=null));var D=new Vc("action","action",null,f,v);r.push({event:D,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(No!==0){var G=T?xb(v,T):new FormData(v);Gp(l,{pending:!0,data:G,method:v.method,action:y},null,G)}}else typeof y=="function"&&(D.preventDefault(),G=T?xb(v,T):new FormData(v),Gp(l,{pending:!0,data:G,method:v.method,action:y},y,G))},currentTarget:v}]})}}for(var Mm=0;Mm<sp.length;Mm++){var Em=sp[Mm],lO=Em.toLowerCase(),uO=Em[0].toUpperCase()+Em.slice(1);sr(lO,"on"+uO)}sr(J_,"onAnimationEnd"),sr(ex,"onAnimationIteration"),sr(tx,"onAnimationStart"),sr("dblclick","onDoubleClick"),sr("focusin","onFocus"),sr("focusout","onBlur"),sr(AD,"onTransitionRun"),sr(wD,"onTransitionStart"),sr(CD,"onTransitionCancel"),sr(nx,"onTransitionEnd"),K("onMouseEnter",["mouseout","mouseover"]),K("onMouseLeave",["mouseout","mouseover"]),K("onPointerEnter",["pointerout","pointerover"]),K("onPointerLeave",["pointerout","pointerover"]),O("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),O("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),O("onBeforeInput",["compositionend","keypress","textInput","paste"]),O("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),O("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),O("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Sb(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var f=r[l],v=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var T=f.length-1;0<=T;T--){var D=f[T],G=D.instance,ee=D.currentTarget;if(D=D.listener,G!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=ee;try{y(v)}catch(ve){vf(ve)}v.currentTarget=null,y=G}else for(T=0;T<f.length;T++){if(D=f[T],G=D.instance,ee=D.currentTarget,D=D.listener,G!==y&&v.isPropagationStopped())break e;y=D,v.currentTarget=ee;try{y(v)}catch(ve){vf(ve)}v.currentTarget=null,y=G}}}}function Mt(r,a){var l=a[vs];l===void 0&&(l=a[vs]=new Set);var f=r+"__bubble";l.has(f)||(bb(a,r,2,!1),l.add(f))}function Tm(r,a,l){var f=0;a&&(f|=4),bb(l,r,f,a)}var Df="_reactListening"+Math.random().toString(36).slice(2);function Am(r){if(!r[Df]){r[Df]=!0,zc.forEach(function(l){l!=="selectionchange"&&(cO.has(l)||Tm(l,!1,r),Tm(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Df]||(a[Df]=!0,Tm("selectionchange",!1,a))}}function bb(r,a,l,f){switch(Xb(a)){case 2:var v=zO;break;case 8:v=BO;break;default:v=km}l=v.bind(null,a,l,r),v=void 0,!Yh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?r.addEventListener(a,l,{capture:!0,passive:v}):r.addEventListener(a,l,!0):v!==void 0?r.addEventListener(a,l,{passive:v}):r.addEventListener(a,l,!1)}function wm(r,a,l,f,v){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var D=f.stateNode.containerInfo;if(D===v)break;if(T===4)for(T=f.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;D!==null;){if(T=Lr(D),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){f=y=T;continue e}D=D.parentNode}}f=f.return}R_(function(){var ee=y,ve=Xh(l),Se=[];e:{var re=ix.get(r);if(re!==void 0){var ae=Vc,lt=r;switch(r){case"keypress":if(Hc(l)===0)break e;case"keydown":case"keyup":ae=rD;break;case"focusin":lt="focus",ae=Qh;break;case"focusout":lt="blur",ae=Qh;break;case"beforeblur":case"afterblur":ae=Qh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=P_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=X2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=sD;break;case J_:case ex:case tx:ae=K2;break;case nx:ae=uD;break;case"scroll":case"scrollend":ae=j2;break;case"wheel":ae=fD;break;case"copy":case"cut":case"paste":ae=Z2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=U_;break;case"toggle":case"beforetoggle":ae=hD}var at=(a&4)!==0,Vt=!at&&(r==="scroll"||r==="scrollend"),$=at?re!==null?re+"Capture":null:re;at=[];for(var j=ee,Q;j!==null;){var xe=j;if(Q=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||Q===null||$===null||(xe=Wl(j,$),xe!=null&&at.push(wu(j,xe,Q))),Vt)break;j=j.return}0<at.length&&(re=new ae(re,lt,null,l,ve),Se.push({event:re,listeners:at}))}}if((a&7)===0){e:{if(re=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",re&&l!==Wh&&(lt=l.relatedTarget||l.fromElement)&&(Lr(lt)||lt[xr]))break e;if((ae||re)&&(re=ve.window===ve?ve:(re=ve.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(lt=l.relatedTarget||l.toElement,ae=ee,lt=lt?Lr(lt):null,lt!==null&&(Vt=s(lt),at=lt.tag,lt!==Vt||at!==5&&at!==27&&at!==6)&&(lt=null)):(ae=null,lt=ee),ae!==lt)){if(at=P_,xe="onMouseLeave",$="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(at=U_,xe="onPointerLeave",$="onPointerEnter",j="pointer"),Vt=ae==null?re:go(ae),Q=lt==null?re:go(lt),re=new at(xe,j+"leave",ae,l,ve),re.target=Vt,re.relatedTarget=Q,xe=null,Lr(ve)===ee&&(at=new at($,j+"enter",lt,l,ve),at.target=Q,at.relatedTarget=Vt,xe=at),Vt=xe,ae&&lt)t:{for(at=ae,$=lt,j=0,Q=at;Q;Q=qs(Q))j++;for(Q=0,xe=$;xe;xe=qs(xe))Q++;for(;0<j-Q;)at=qs(at),j--;for(;0<Q-j;)$=qs($),Q--;for(;j--;){if(at===$||$!==null&&at===$.alternate)break t;at=qs(at),$=qs($)}at=null}else at=null;ae!==null&&Mb(Se,re,ae,at,!1),lt!==null&&Vt!==null&&Mb(Se,Vt,lt,at,!0)}}e:{if(re=ee?go(ee):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var qe=G_;else if(k_(re))if(V_)qe=MD;else{qe=SD;var xt=xD}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&jh(ee.elementType)&&(qe=G_):qe=bD;if(qe&&(qe=qe(r,ee))){H_(Se,qe,l,ve);break e}xt&&xt(r,re,ee),r==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&$n(re,"number",re.value)}switch(xt=ee?go(ee):window,r){case"focusin":(k_(xt)||xt.contentEditable==="true")&&(Ms=xt,rp=ee,Jl=null);break;case"focusout":Jl=rp=Ms=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,Z_(Se,l,ve);break;case"selectionchange":if(TD)break;case"keydown":case"keyup":Z_(Se,l,ve)}var tt;if(ep)e:{switch(r){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else bs?B_(r,l)&&(st="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(st="onCompositionStart");st&&(L_&&l.locale!=="ko"&&(bs||st!=="onCompositionStart"?st==="onCompositionEnd"&&bs&&(tt=D_()):(Ta=ve,Kh="value"in Ta?Ta.value:Ta.textContent,bs=!0)),xt=Of(ee,st),0<xt.length&&(st=new N_(st,r,null,l,ve),Se.push({event:st,listeners:xt}),tt?st.data=tt:(tt=F_(l),tt!==null&&(st.data=tt)))),(tt=mD?vD(r,l):gD(r,l))&&(st=Of(ee,"onBeforeInput"),0<st.length&&(xt=new N_("onBeforeInput","beforeinput",null,l,ve),Se.push({event:xt,listeners:st}),xt.data=tt)),sO(Se,r,ee,l,ve)}Sb(Se,a)})}function wu(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Of(r,a){for(var l=a+"Capture",f=[];r!==null;){var v=r,y=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||y===null||(v=Wl(r,l),v!=null&&f.unshift(wu(r,v,y)),v=Wl(r,a),v!=null&&f.push(wu(r,v,y))),r.tag===3)return f;r=r.return}return[]}function qs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Mb(r,a,l,f,v){for(var y=a._reactName,T=[];l!==null&&l!==f;){var D=l,G=D.alternate,ee=D.stateNode;if(D=D.tag,G!==null&&G===f)break;D!==5&&D!==26&&D!==27||ee===null||(G=ee,v?(ee=Wl(l,y),ee!=null&&T.unshift(wu(l,ee,G))):v||(ee=Wl(l,y),ee!=null&&T.push(wu(l,ee,G)))),l=l.return}T.length!==0&&r.push({event:a,listeners:T})}var fO=/\r\n?/g,dO=/\u0000|\uFFFD/g;function Eb(r){return(typeof r=="string"?r:""+r).replace(fO,`
`).replace(dO,"")}function Tb(r,a){return a=Eb(a),Eb(r)===a}function Pf(){}function Gt(r,a,l,f,v,y){switch(l){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ui(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ui(r,""+f);break;case"className":je(r,"class",f);break;case"tabIndex":je(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":je(r,l,f);break;case"style":w_(r,f,y);break;case"data":if(a!=="object"){je(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Fc(""+f),r.setAttribute(l,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Gt(r,a,"name",v.name,v,null),Gt(r,a,"formEncType",v.formEncType,v,null),Gt(r,a,"formMethod",v.formMethod,v,null),Gt(r,a,"formTarget",v.formTarget,v,null)):(Gt(r,a,"encType",v.encType,v,null),Gt(r,a,"method",v.method,v,null),Gt(r,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(l);break}f=Fc(""+f),r.setAttribute(l,f);break;case"onClick":f!=null&&(r.onclick=Pf);break;case"onScroll":f!=null&&Mt("scroll",r);break;case"onScrollEnd":f!=null&&Mt("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}l=Fc(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""+f):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":f===!0?r.setAttribute(l,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(l,f):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(l,f):r.removeAttribute(l);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(l):r.setAttribute(l,f);break;case"popover":Mt("beforetoggle",r),Mt("toggle",r),Le(r,"popover",f);break;case"xlinkActuate":Be(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Be(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Be(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Be(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Be(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Be(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Be(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Be(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Be(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Le(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=G2.get(l)||l,Le(r,l,f))}}function Cm(r,a,l,f,v,y){switch(l){case"style":w_(r,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(i(61));if(l=f.__html,l!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof f=="string"?ui(r,f):(typeof f=="number"||typeof f=="bigint")&&ui(r,""+f);break;case"onScroll":f!=null&&Mt("scroll",r);break;case"onScrollEnd":f!=null&&Mt("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(v=l.endsWith("Capture"),a=l.slice(2,v?l.length-7:void 0),y=r[sn]||null,y=y!=null?y[l]:null,typeof y=="function"&&r.removeEventListener(a,y,v),typeof f=="function")){typeof y!="function"&&y!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,f,v);break e}l in r?r[l]=f:f===!0?r.setAttribute(l,""):Le(r,l,f)}}}function Wn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",r),Mt("load",r);var f=!1,v=!1,y;for(y in l)if(l.hasOwnProperty(y)){var T=l[y];if(T!=null)switch(y){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gt(r,a,y,T,l,null)}}v&&Gt(r,a,"srcSet",l.srcSet,l,null),f&&Gt(r,a,"src",l.src,l,null);return;case"input":Mt("invalid",r);var D=y=T=v=null,G=null,ee=null;for(f in l)if(l.hasOwnProperty(f)){var ve=l[f];if(ve!=null)switch(f){case"name":v=ve;break;case"type":T=ve;break;case"checked":G=ve;break;case"defaultChecked":ee=ve;break;case"value":y=ve;break;case"defaultValue":D=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,a));break;default:Gt(r,a,f,ve,l,null)}}ri(r,y,D,G,ee,T,v,!1),St(r);return;case"select":Mt("invalid",r),f=T=y=null;for(v in l)if(l.hasOwnProperty(v)&&(D=l[v],D!=null))switch(v){case"value":y=D;break;case"defaultValue":T=D;break;case"multiple":f=D;default:Gt(r,a,v,D,l,null)}a=y,l=T,r.multiple=!!f,a!=null?ln(r,!!f,a,!1):l!=null&&ln(r,!!f,l,!0);return;case"textarea":Mt("invalid",r),y=v=f=null;for(T in l)if(l.hasOwnProperty(T)&&(D=l[T],D!=null))switch(T){case"value":f=D;break;case"defaultValue":v=D;break;case"children":y=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:Gt(r,a,T,D,l,null)}_s(r,f,v,y),St(r);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(f=l[G],f!=null))switch(G){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Gt(r,a,G,f,l,null)}return;case"dialog":Mt("beforetoggle",r),Mt("toggle",r),Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":Mt("load",r);break;case"video":case"audio":for(f=0;f<Au.length;f++)Mt(Au[f],r);break;case"image":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"embed":case"source":case"link":Mt("error",r),Mt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(f=l[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Gt(r,a,ee,f,l,null)}return;default:if(jh(a)){for(ve in l)l.hasOwnProperty(ve)&&(f=l[ve],f!==void 0&&Cm(r,a,ve,f,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(f=l[D],f!=null&&Gt(r,a,D,f,l,null))}function hO(r,a,l,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,y=null,T=null,D=null,G=null,ee=null,ve=null;for(ae in l){var Se=l[ae];if(l.hasOwnProperty(ae)&&Se!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=Se;default:f.hasOwnProperty(ae)||Gt(r,a,ae,null,f,Se)}}for(var re in f){var ae=f[re];if(Se=l[re],f.hasOwnProperty(re)&&(ae!=null||Se!=null))switch(re){case"type":y=ae;break;case"name":v=ae;break;case"checked":ee=ae;break;case"defaultChecked":ve=ae;break;case"value":T=ae;break;case"defaultValue":D=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,a));break;default:ae!==Se&&Gt(r,a,re,ae,f,Se)}}qt(r,T,D,G,ee,ve,y,v);return;case"select":ae=T=D=re=null;for(y in l)if(G=l[y],l.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ae=G;default:f.hasOwnProperty(y)||Gt(r,a,y,null,f,G)}for(v in f)if(y=f[v],G=l[v],f.hasOwnProperty(v)&&(y!=null||G!=null))switch(v){case"value":re=y;break;case"defaultValue":D=y;break;case"multiple":T=y;default:y!==G&&Gt(r,a,v,y,f,G)}a=D,l=T,f=ae,re!=null?ln(r,!!l,re,!1):!!f!=!!l&&(a!=null?ln(r,!!l,a,!0):ln(r,!!l,l?[]:"",!1));return;case"textarea":ae=re=null;for(D in l)if(v=l[D],l.hasOwnProperty(D)&&v!=null&&!f.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Gt(r,a,D,null,f,v)}for(T in f)if(v=f[T],y=l[T],f.hasOwnProperty(T)&&(v!=null||y!=null))switch(T){case"value":re=v;break;case"defaultValue":ae=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==y&&Gt(r,a,T,v,f,y)}Gn(r,re,ae);return;case"option":for(var lt in l)if(re=l[lt],l.hasOwnProperty(lt)&&re!=null&&!f.hasOwnProperty(lt))switch(lt){case"selected":r.selected=!1;break;default:Gt(r,a,lt,null,f,re)}for(G in f)if(re=f[G],ae=l[G],f.hasOwnProperty(G)&&re!==ae&&(re!=null||ae!=null))switch(G){case"selected":r.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:Gt(r,a,G,re,f,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in l)re=l[at],l.hasOwnProperty(at)&&re!=null&&!f.hasOwnProperty(at)&&Gt(r,a,at,null,f,re);for(ee in f)if(re=f[ee],ae=l[ee],f.hasOwnProperty(ee)&&re!==ae&&(re!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,a));break;default:Gt(r,a,ee,re,f,ae)}return;default:if(jh(a)){for(var Vt in l)re=l[Vt],l.hasOwnProperty(Vt)&&re!==void 0&&!f.hasOwnProperty(Vt)&&Cm(r,a,Vt,void 0,f,re);for(ve in f)re=f[ve],ae=l[ve],!f.hasOwnProperty(ve)||re===ae||re===void 0&&ae===void 0||Cm(r,a,ve,re,f,ae);return}}for(var $ in l)re=l[$],l.hasOwnProperty($)&&re!=null&&!f.hasOwnProperty($)&&Gt(r,a,$,null,f,re);for(Se in f)re=f[Se],ae=l[Se],!f.hasOwnProperty(Se)||re===ae||re==null&&ae==null||Gt(r,a,Se,re,f,ae)}var Rm=null,Dm=null;function Nf(r){return r.nodeType===9?r:r.ownerDocument}function Ab(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Om(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Pm=null;function pO(){var r=window.event;return r&&r.type==="popstate"?r===Pm?!1:(Pm=r,!0):(Pm=null,!1)}var Cb=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,Rb=typeof Promise=="function"?Promise:void 0,vO=typeof queueMicrotask=="function"?queueMicrotask:typeof Rb<"u"?function(r){return Rb.resolve(null).then(r).catch(gO)}:Cb;function gO(r){setTimeout(function(){throw r})}function Ha(r){return r==="head"}function Db(r,a){var l=a,f=0,v=0;do{var y=l.nextSibling;if(r.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<f&&8>f){l=f;var T=r.ownerDocument;if(l&1&&Cu(T.documentElement),l&2&&Cu(T.body),l&4)for(l=T.head,Cu(l),T=l.firstChild;T;){var D=T.nextSibling,G=T.nodeName;T[Sr]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=D}}if(v===0){r.removeChild(y),Iu(a);return}v--}else l==="$"||l==="$?"||l==="$!"?v++:f=l.charCodeAt(0)-48;else f=0;l=y}while(l);Iu(a)}function Nm(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Nm(l),ys(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function yO(r,a,l,f){for(;r.nodeType===1;){var v=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Sr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=ur(r.nextSibling),r===null)break}return null}function _O(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=ur(r.nextSibling),r===null))return null;return r}function Um(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function xO(r,a){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")a();else{var f=function(){a(),l.removeEventListener("DOMContentLoaded",f)};l.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function ur(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}var Lm=null;function Ob(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return r;a--}else l==="/$"&&a++}r=r.previousSibling}return null}function Pb(r,a,l){switch(a=Nf(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Cu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);ys(r)}var qi=new Map,Nb=new Set;function Uf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Kr=q.d;q.d={f:SO,r:bO,D:MO,C:EO,L:TO,m:AO,X:CO,S:wO,M:RO};function SO(){var r=Kr.f(),a=Tf();return r||a}function bO(r){var a=Ma(r);a!==null&&a.tag===5&&a.type==="form"?Jx(a):Kr.r(r)}var Ys=typeof document>"u"?null:document;function Ub(r,a,l){var f=Ys;if(f&&typeof a=="string"&&a){var v=Nn(a);v='link[rel="'+r+'"][href="'+v+'"]',typeof l=="string"&&(v+='[crossorigin="'+l+'"]'),Nb.has(v)||(Nb.add(v),r={rel:r,crossOrigin:l,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),Wn(a,"link",r),vn(a),f.head.appendChild(a)))}}function MO(r){Kr.D(r),Ub("dns-prefetch",r,null)}function EO(r,a){Kr.C(r,a),Ub("preconnect",r,a)}function TO(r,a,l){Kr.L(r,a,l);var f=Ys;if(f&&r&&a){var v='link[rel="preload"][as="'+Nn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(v+='[imagesrcset="'+Nn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(v+='[imagesizes="'+Nn(l.imageSizes)+'"]')):v+='[href="'+Nn(r)+'"]';var y=v;switch(a){case"style":y=Ks(r);break;case"script":y=$s(r)}qi.has(y)||(r=p({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),qi.set(y,r),f.querySelector(v)!==null||a==="style"&&f.querySelector(Ru(y))||a==="script"&&f.querySelector(Du(y))||(a=f.createElement("link"),Wn(a,"link",r),vn(a),f.head.appendChild(a)))}}function AO(r,a){Kr.m(r,a);var l=Ys;if(l&&r){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Nn(f)+'"][href="'+Nn(r)+'"]',y=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=$s(r)}if(!qi.has(y)&&(r=p({rel:"modulepreload",href:r},a),qi.set(y,r),l.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Du(y)))return}f=l.createElement("link"),Wn(f,"link",r),vn(f),l.head.appendChild(f)}}}function wO(r,a,l){Kr.S(r,a,l);var f=Ys;if(f&&r){var v=Ea(f).hoistableStyles,y=Ks(r);a=a||"default";var T=v.get(y);if(!T){var D={loading:0,preload:null};if(T=f.querySelector(Ru(y)))D.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":a},l),(l=qi.get(y))&&Im(r,l);var G=T=f.createElement("link");vn(G),Wn(G,"link",r),G._p=new Promise(function(ee,ve){G.onload=ee,G.onerror=ve}),G.addEventListener("load",function(){D.loading|=1}),G.addEventListener("error",function(){D.loading|=2}),D.loading|=4,Lf(T,a,f)}T={type:"stylesheet",instance:T,count:1,state:D},v.set(y,T)}}}function CO(r,a){Kr.X(r,a);var l=Ys;if(l&&r){var f=Ea(l).hoistableScripts,v=$s(r),y=f.get(v);y||(y=l.querySelector(Du(v)),y||(r=p({src:r,async:!0},a),(a=qi.get(v))&&zm(r,a),y=l.createElement("script"),vn(y),Wn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(v,y))}}function RO(r,a){Kr.M(r,a);var l=Ys;if(l&&r){var f=Ea(l).hoistableScripts,v=$s(r),y=f.get(v);y||(y=l.querySelector(Du(v)),y||(r=p({src:r,async:!0,type:"module"},a),(a=qi.get(v))&&zm(r,a),y=l.createElement("script"),vn(y),Wn(y,"link",r),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(v,y))}}function Lb(r,a,l,f){var v=(v=_e.current)?Uf(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ks(l.href),l=Ea(v).hoistableStyles,f=l.get(a),f||(f={type:"style",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=Ks(l.href);var y=Ea(v).hoistableStyles,T=y.get(r);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=v.querySelector(Ru(r)))&&!y._p&&(T.instance=y,T.state.loading=5),qi.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qi.set(r,l),y||DO(v,r,l,T.state))),a&&f===null)throw Error(i(528,""));return T}if(a&&f!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=$s(l),l=Ea(v).hoistableScripts,f=l.get(a),f||(f={type:"script",instance:null,count:0,state:null},l.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ks(r){return'href="'+Nn(r)+'"'}function Ru(r){return'link[rel="stylesheet"]['+r+"]"}function Ib(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function DO(r,a,l,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),Wn(a,"link",l),vn(a),r.head.appendChild(a))}function $s(r){return'[src="'+Nn(r)+'"]'}function Du(r){return"script[async]"+r}function zb(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+Nn(l.href)+'"]');if(f)return a.instance=f,vn(f),f;var v=p({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),vn(f),Wn(f,"style",v),Lf(f,l.precedence,r),a.instance=f;case"stylesheet":v=Ks(l.href);var y=r.querySelector(Ru(v));if(y)return a.state.loading|=4,a.instance=y,vn(y),y;f=Ib(l),(v=qi.get(v))&&Im(f,v),y=(r.ownerDocument||r).createElement("link"),vn(y);var T=y;return T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),Wn(y,"link",f),a.state.loading|=4,Lf(y,l.precedence,r),a.instance=y;case"script":return y=$s(l.src),(v=r.querySelector(Du(y)))?(a.instance=v,vn(v),v):(f=l,(v=qi.get(y))&&(f=p({},l),zm(f,v)),r=r.ownerDocument||r,v=r.createElement("script"),vn(v),Wn(v,"link",f),r.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Lf(f,l.precedence,r));return a.instance}function Lf(r,a,l){for(var f=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,y=v,T=0;T<f.length;T++){var D=f[T];if(D.dataset.precedence===a)y=D;else if(y!==v)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function Im(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function zm(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var If=null;function Bb(r,a,l){if(If===null){var f=new Map,v=If=new Map;v.set(l,f)}else v=If,f=v.get(l),f||(f=new Map,v.set(l,f));if(f.has(r))return f;for(f.set(r,null),l=l.getElementsByTagName(r),v=0;v<l.length;v++){var y=l[v];if(!(y[Sr]||y[En]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(a)||"";T=r+T;var D=f.get(T);D?D.push(y):f.set(T,[y])}}return f}function Fb(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function OO(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ou=null;function PO(){}function NO(r,a,l){if(Ou===null)throw Error(i(475));var f=Ou;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Ks(l.href),y=r.querySelector(Ru(v));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=zf.bind(f),r.then(f,f)),a.state.loading|=4,a.instance=y,vn(y);return}y=r.ownerDocument||r,l=Ib(l),(v=qi.get(v))&&Im(l,v),y=y.createElement("link"),vn(y);var T=y;T._p=new Promise(function(D,G){T.onload=D,T.onerror=G}),Wn(y,"link",l),a.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=zf.bind(f),r.addEventListener("load",a),r.addEventListener("error",a))}}function UO(){if(Ou===null)throw Error(i(475));var r=Ou;return r.stylesheets&&r.count===0&&Bm(r,r.stylesheets),0<r.count?function(a){var l=setTimeout(function(){if(r.stylesheets&&Bm(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(l)}}:null}function zf(){if(this.count--,this.count===0){if(this.stylesheets)Bm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Bf=null;function Bm(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Bf=new Map,a.forEach(LO,r),Bf=null,zf.call(r))}function LO(r,a){if(!(a.state.loading&4)){var l=Bf.get(r);if(l)var f=l.get(null);else{l=new Map,Bf.set(r,l);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<v.length;y++){var T=v[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),f=T)}f&&l.set(null,f)}v=a.instance,T=v.getAttribute("data-precedence"),y=l.get(T)||f,y===f&&l.set(null,v),l.set(T,v),this.count++,f=zf.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),y?y.parentNode.insertBefore(v,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),a.state.loading|=4}}var Pu={$$typeof:E,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function IO(r,a,l,f,v,y,T,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Hb(r,a,l,f,v,y,T,D,G,ee,ve,Se){return r=new IO(r,a,l,T,D,G,ee,Se),a=1,y===!0&&(a|=24),y=Mi(3,null,null,a),r.current=y,y.stateNode=r,a=_p(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:f,isDehydrated:l,cache:a},Mp(y),r}function Gb(r){return r?(r=ws,r):ws}function Vb(r,a,l,f,v,y){v=Gb(v),f.context===null?f.context=v:f.pendingContext=v,f=Ca(a),f.payload={element:l},y=y===void 0?null:y,y!==null&&(f.callback=y),l=Ra(r,f,a),l!==null&&(Ci(l,r,a),lu(l,r,a))}function jb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function Fm(r,a){jb(r,a),(r=r.alternate)&&jb(r,a)}function Wb(r){if(r.tag===13){var a=As(r,67108864);a!==null&&Ci(a,r,67108864),Fm(r,67108864)}}var Ff=!0;function zO(r,a,l,f){var v=B.T;B.T=null;var y=q.p;try{q.p=2,km(r,a,l,f)}finally{q.p=y,B.T=v}}function BO(r,a,l,f){var v=B.T;B.T=null;var y=q.p;try{q.p=8,km(r,a,l,f)}finally{q.p=y,B.T=v}}function km(r,a,l,f){if(Ff){var v=Hm(f);if(v===null)wm(r,a,f,kf,l),qb(r,f);else if(kO(v,r,a,l,f))f.stopPropagation();else if(qb(r,f),a&4&&-1<FO.indexOf(r)){for(;v!==null;){var y=Ma(v);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=nt(y.pendingLanes);if(T!==0){var D=y;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var G=1<<31-He(T);D.entanglements[1]|=G,T&=~G}Ar(y),(zt&6)===0&&(Mf=ke()+500,Tu(0))}}break;case 13:D=As(y,2),D!==null&&Ci(D,y,2),Tf(),Fm(y,2)}if(y=Hm(f),y===null&&wm(r,a,f,kf,l),y===v)break;v=y}v!==null&&f.stopPropagation()}else wm(r,a,f,null,l)}}function Hm(r){return r=Xh(r),Gm(r)}var kf=null;function Gm(r){if(kf=null,r=Lr(r),r!==null){var a=s(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return kf=r,null}function Xb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case Xe:return 2;case dt:return 8;case rn:case an:return 32;case k:return 268435456;default:return 32}default:return 32}}var Vm=!1,Ga=null,Va=null,ja=null,Nu=new Map,Uu=new Map,Wa=[],FO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(r,a){switch(r){case"focusin":case"focusout":Ga=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Nu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uu.delete(a.pointerId)}}function Lu(r,a,l,f,v,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:l,eventSystemFlags:f,nativeEvent:y,targetContainers:[v]},a!==null&&(a=Ma(a),a!==null&&Wb(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),r)}function kO(r,a,l,f,v){switch(a){case"focusin":return Ga=Lu(Ga,r,a,l,f,v),!0;case"dragenter":return Va=Lu(Va,r,a,l,f,v),!0;case"mouseover":return ja=Lu(ja,r,a,l,f,v),!0;case"pointerover":var y=v.pointerId;return Nu.set(y,Lu(Nu.get(y)||null,r,a,l,f,v)),!0;case"gotpointercapture":return y=v.pointerId,Uu.set(y,Lu(Uu.get(y)||null,r,a,l,f,v)),!0}return!1}function Yb(r){var a=Lr(r.target);if(a!==null){var l=s(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,ar(r.priority,function(){if(l.tag===13){var f=wi();f=ct(f);var v=As(l,f);v!==null&&Ci(v,l,f),Fm(l,f)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=Hm(r.nativeEvent);if(l===null){l=r.nativeEvent;var f=new l.constructor(l.type,l);Wh=f,l.target.dispatchEvent(f),Wh=null}else return a=Ma(l),a!==null&&Wb(a),r.blockedOn=l,!1;a.shift()}return!0}function Kb(r,a,l){Hf(r)&&l.delete(a)}function HO(){Vm=!1,Ga!==null&&Hf(Ga)&&(Ga=null),Va!==null&&Hf(Va)&&(Va=null),ja!==null&&Hf(ja)&&(ja=null),Nu.forEach(Kb),Uu.forEach(Kb)}function Gf(r,a){r.blockedOn===a&&(r.blockedOn=null,Vm||(Vm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HO)))}var Vf=null;function $b(r){Vf!==r&&(Vf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Vf===r&&(Vf=null);for(var a=0;a<r.length;a+=3){var l=r[a],f=r[a+1],v=r[a+2];if(typeof f!="function"){if(Gm(f||l)===null)continue;break}var y=Ma(l);y!==null&&(r.splice(a,3),a-=3,Gp(y,{pending:!0,data:v,method:l.method,action:f},f,v))}}))}function Iu(r){function a(G){return Gf(G,r)}Ga!==null&&Gf(Ga,r),Va!==null&&Gf(Va,r),ja!==null&&Gf(ja,r),Nu.forEach(a),Uu.forEach(a);for(var l=0;l<Wa.length;l++){var f=Wa[l];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Wa.length&&(l=Wa[0],l.blockedOn===null);)Yb(l),l.blockedOn===null&&Wa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(f=0;f<l.length;f+=3){var v=l[f],y=l[f+1],T=v[sn]||null;if(typeof y=="function")T||$b(l);else if(T){var D=null;if(y&&y.hasAttribute("formAction")){if(v=y,T=y[sn]||null)D=T.formAction;else if(Gm(v)!==null)continue}else D=T.action;typeof D=="function"?l[f+1]=D:(l.splice(f,3),f-=3),$b(l)}}}function jm(r){this._internalRoot=r}jf.prototype.render=jm.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,f=wi();Vb(l,f,r,a,null,null)},jf.prototype.unmount=jm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Vb(r.current,2,null,r,null,null),Tf(),a[xr]=null}};function jf(r){this._internalRoot=r}jf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Ct();r={blockedOn:null,target:r,priority:a};for(var l=0;l<Wa.length&&a!==0&&a<Wa[l].priority;l++);Wa.splice(l,0,r),l===0&&Yb(r)}};var Zb=e.version;if(Zb!=="19.1.1")throw Error(i(527,Zb,"19.1.1"));q.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(a),r=r!==null?h(r):null,r=r===null?null:r.stateNode,r};var GO={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{me=Wf.inject(GO),Me=Wf}catch{}}return Bu.createRoot=function(r,a){if(!o(r))throw Error(i(299));var l=!1,f="",v=hS,y=pS,T=mS,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks)),a=Hb(r,1,!1,null,null,l,f,v,y,T,D,null),r[xr]=a.current,Am(r),new jm(a)},Bu.hydrateRoot=function(r,a,l){if(!o(r))throw Error(i(299));var f=!1,v="",y=hS,T=pS,D=mS,G=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),a=Hb(r,1,!0,a,l??null,f,v,y,T,D,G,ee),a.context=Gb(null),l=a.current,f=wi(),f=ct(f),v=Ca(f),v.callback=null,Ra(l,v,f),l=f,a.current.lanes=l,Ge(a,l),Ar(a),r[xr]=a.current,Am(r),new jf(a)},Bu.version="19.1.1",Bu}var sM;function eP(){if(sM)return qm.exports;sM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qm.exports=JO(),qm.exports}var tP=eP();const nP=lo(tP);function iP(){const[t,e]=F.useState(null),[n,i]=F.useState(null),[o,s]=F.useState(!1),u=F.useRef(null);return{device:t,server:n,isConnected:o,connect:async(p,m,g)=>{try{const _="12345678-1234-5678-1234-46789abcdef0",b="12345678-1234-5678-1234-46789abcdef1",M=await navigator.bluetooth.requestDevice({filters:[{namePrefix:"M0"}],optionalServices:[p,_]});e(M);const S=await M.gatt.connect();i(S);const w=await(await S.getPrimaryService(p)).getCharacteristic(m),A=await(await S.getPrimaryService(_)).getCharacteristic(b);u.current=A,await w.startNotifications(),w.addEventListener("characteristicvaluechanged",C=>{const N=C.target.value;g(N)}),s(!0)}catch(_){console.error("BLE Connection failed",_)}},disconnect:()=>{t&&t.gatt.connected&&t.gatt.disconnect(),s(!1)},sendCommand:async p=>{if(u.current)try{const m=new Uint8Array([p]);await u.current.writeValueWithoutResponse(m),console.log("Command sent:",p)}catch(m){console.error("Failed to send command",m)}}}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ey="179",rP=0,lM=1,aP=2,oA=1,oP=2,ta=3,so=0,gi=1,Cr=2,io=0,Jo=1,uM=2,cM=3,fM=4,sP=5,Wo=100,lP=101,uP=102,cP=103,fP=104,dP=200,hP=201,pP=202,mP=203,Pg=204,Ng=205,vP=206,gP=207,yP=208,_P=209,xP=210,SP=211,bP=212,MP=213,EP=214,Ug=0,Lg=1,Ig=2,_l=3,zg=4,Bg=5,Fg=6,kg=7,sA=0,TP=1,AP=2,ro=0,wP=1,CP=2,RP=3,DP=4,OP=5,PP=6,NP=7,lA=300,xl=301,Sl=302,Hg=303,Gg=304,hh=306,Vg=1e3,qo=1001,jg=1002,yr=1003,UP=1004,Xf=1005,Rr=1006,Zm=1007,Yo=1008,fa=1009,uA=1010,cA=1011,nc=1012,ty=1013,as=1014,ra=1015,vc=1016,ny=1017,iy=1018,ic=1020,fA=35902,dA=1021,hA=1022,gr=1023,rc=1026,ac=1027,pA=1028,ry=1029,mA=1030,ay=1031,oy=1033,Ad=33776,wd=33777,Cd=33778,Rd=33779,Wg=35840,Xg=35841,qg=35842,Yg=35843,Kg=36196,$g=37492,Zg=37496,Qg=37808,Jg=37809,e0=37810,t0=37811,n0=37812,i0=37813,r0=37814,a0=37815,o0=37816,s0=37817,l0=37818,u0=37819,c0=37820,f0=37821,Dd=36492,d0=36494,h0=36495,vA=36283,p0=36284,m0=36285,v0=36286,LP=3200,IP=3201,zP=0,BP=1,to="",$i="srgb",bl="srgb-linear",Nd="linear",Wt="srgb",Zs=7680,dM=519,FP=512,kP=513,HP=514,gA=515,GP=516,VP=517,jP=518,WP=519,hM=35044,pM="300 es",Dr=2e3,Ud=2001;class Ul{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const o=i[e];if(o!==void 0){const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const o=i.slice(0);for(let s=0,u=o.length;s<u;s++)o[s].call(this,e);e.target=null}}}const Jn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Qm=Math.PI/180,g0=180/Math.PI;function gc(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Jn[t&255]+Jn[t>>8&255]+Jn[t>>16&255]+Jn[t>>24&255]+"-"+Jn[e&255]+Jn[e>>8&255]+"-"+Jn[e>>16&15|64]+Jn[e>>24&255]+"-"+Jn[n&63|128]+Jn[n>>8&255]+"-"+Jn[n>>16&255]+Jn[n>>24&255]+Jn[i&255]+Jn[i>>8&255]+Jn[i>>16&255]+Jn[i>>24&255]).toLowerCase()}function At(t,e,n){return Math.max(e,Math.min(n,t))}function XP(t,e){return(t%e+e)%e}function Jm(t,e,n){return(1-n)*t+n*e}function Fu(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function pi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Xt{constructor(e=0,n=0){Xt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6],this.y=o[1]*n+o[4]*i+o[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=At(this.x,e.x,n.x),this.y=At(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=At(this.x,e,n),this.y=At(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(At(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(At(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),o=Math.sin(n),s=this.x-e.x,u=this.y-e.y;return this.x=s*i-u*o+e.x,this.y=s*o+u*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class yc{constructor(e=0,n=0,i=0,o=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=o}static slerpFlat(e,n,i,o,s,u,c){let d=i[o+0],h=i[o+1],p=i[o+2],m=i[o+3];const g=s[u+0],_=s[u+1],b=s[u+2],M=s[u+3];if(c===0){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=m;return}if(c===1){e[n+0]=g,e[n+1]=_,e[n+2]=b,e[n+3]=M;return}if(m!==M||d!==g||h!==_||p!==b){let S=1-c;const x=d*g+h*_+p*b+m*M,w=x>=0?1:-1,E=1-x*x;if(E>Number.EPSILON){const C=Math.sqrt(E),N=Math.atan2(C,x*w);S=Math.sin(S*N)/C,c=Math.sin(c*N)/C}const A=c*w;if(d=d*S+g*A,h=h*S+_*A,p=p*S+b*A,m=m*S+M*A,S===1-c){const C=1/Math.sqrt(d*d+h*h+p*p+m*m);d*=C,h*=C,p*=C,m*=C}}e[n]=d,e[n+1]=h,e[n+2]=p,e[n+3]=m}static multiplyQuaternionsFlat(e,n,i,o,s,u){const c=i[o],d=i[o+1],h=i[o+2],p=i[o+3],m=s[u],g=s[u+1],_=s[u+2],b=s[u+3];return e[n]=c*b+p*m+d*_-h*g,e[n+1]=d*b+p*g+h*m-c*_,e[n+2]=h*b+p*_+c*g-d*m,e[n+3]=p*b-c*m-d*g-h*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,o){return this._x=e,this._y=n,this._z=i,this._w=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,o=e._y,s=e._z,u=e._order,c=Math.cos,d=Math.sin,h=c(i/2),p=c(o/2),m=c(s/2),g=d(i/2),_=d(o/2),b=d(s/2);switch(u){case"XYZ":this._x=g*p*m+h*_*b,this._y=h*_*m-g*p*b,this._z=h*p*b+g*_*m,this._w=h*p*m-g*_*b;break;case"YXZ":this._x=g*p*m+h*_*b,this._y=h*_*m-g*p*b,this._z=h*p*b-g*_*m,this._w=h*p*m+g*_*b;break;case"ZXY":this._x=g*p*m-h*_*b,this._y=h*_*m+g*p*b,this._z=h*p*b+g*_*m,this._w=h*p*m-g*_*b;break;case"ZYX":this._x=g*p*m-h*_*b,this._y=h*_*m+g*p*b,this._z=h*p*b-g*_*m,this._w=h*p*m+g*_*b;break;case"YZX":this._x=g*p*m+h*_*b,this._y=h*_*m+g*p*b,this._z=h*p*b-g*_*m,this._w=h*p*m-g*_*b;break;case"XZY":this._x=g*p*m-h*_*b,this._y=h*_*m-g*p*b,this._z=h*p*b+g*_*m,this._w=h*p*m+g*_*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+u)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,o=Math.sin(i);return this._x=e.x*o,this._y=e.y*o,this._z=e.z*o,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],o=n[4],s=n[8],u=n[1],c=n[5],d=n[9],h=n[2],p=n[6],m=n[10],g=i+c+m;if(g>0){const _=.5/Math.sqrt(g+1);this._w=.25/_,this._x=(p-d)*_,this._y=(s-h)*_,this._z=(u-o)*_}else if(i>c&&i>m){const _=2*Math.sqrt(1+i-c-m);this._w=(p-d)/_,this._x=.25*_,this._y=(o+u)/_,this._z=(s+h)/_}else if(c>m){const _=2*Math.sqrt(1+c-i-m);this._w=(s-h)/_,this._x=(o+u)/_,this._y=.25*_,this._z=(d+p)/_}else{const _=2*Math.sqrt(1+m-i-c);this._w=(u-o)/_,this._x=(s+h)/_,this._y=(d+p)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(At(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const o=Math.min(1,n/i);return this.slerp(e,o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,o=e._y,s=e._z,u=e._w,c=n._x,d=n._y,h=n._z,p=n._w;return this._x=i*p+u*c+o*h-s*d,this._y=o*p+u*d+s*c-i*h,this._z=s*p+u*h+i*d-o*c,this._w=u*p-i*c-o*d-s*h,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,o=this._y,s=this._z,u=this._w;let c=u*e._w+i*e._x+o*e._y+s*e._z;if(c<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,c=-c):this.copy(e),c>=1)return this._w=u,this._x=i,this._y=o,this._z=s,this;const d=1-c*c;if(d<=Number.EPSILON){const _=1-n;return this._w=_*u+n*this._w,this._x=_*i+n*this._x,this._y=_*o+n*this._y,this._z=_*s+n*this._z,this.normalize(),this}const h=Math.sqrt(d),p=Math.atan2(h,c),m=Math.sin((1-n)*p)/h,g=Math.sin(n*p)/h;return this._w=u*m+this._w*g,this._x=i*m+this._x*g,this._y=o*m+this._y*g,this._z=s*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),o=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(o*Math.sin(e),o*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class fe{constructor(e=0,n=0,i=0){fe.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(mM.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(mM.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*o,this.y=s[1]*n+s[4]*i+s[7]*o,this.z=s[2]*n+s[5]*i+s[8]*o,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=e.elements,u=1/(s[3]*n+s[7]*i+s[11]*o+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*o+s[12])*u,this.y=(s[1]*n+s[5]*i+s[9]*o+s[13])*u,this.z=(s[2]*n+s[6]*i+s[10]*o+s[14])*u,this}applyQuaternion(e){const n=this.x,i=this.y,o=this.z,s=e.x,u=e.y,c=e.z,d=e.w,h=2*(u*o-c*i),p=2*(c*n-s*o),m=2*(s*i-u*n);return this.x=n+d*h+u*m-c*p,this.y=i+d*p+c*h-s*m,this.z=o+d*m+s*p-u*h,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,o=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*o,this.y=s[1]*n+s[5]*i+s[9]*o,this.z=s[2]*n+s[6]*i+s[10]*o,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=At(this.x,e.x,n.x),this.y=At(this.y,e.y,n.y),this.z=At(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=At(this.x,e,n),this.y=At(this.y,e,n),this.z=At(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(At(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,o=e.y,s=e.z,u=n.x,c=n.y,d=n.z;return this.x=o*d-s*c,this.y=s*u-i*d,this.z=i*c-o*u,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return ev.copy(this).projectOnVector(e),this.sub(ev)}reflect(e){return this.sub(ev.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(At(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,o=this.z-e.z;return n*n+i*i+o*o}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const o=Math.sin(n)*e;return this.x=o*Math.sin(i),this.y=Math.cos(n)*e,this.z=o*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),o=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=o,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ev=new fe,mM=new yc;class mt{constructor(e,n,i,o,s,u,c,d,h){mt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,o,s,u,c,d,h)}set(e,n,i,o,s,u,c,d,h){const p=this.elements;return p[0]=e,p[1]=o,p[2]=c,p[3]=n,p[4]=s,p[5]=d,p[6]=i,p[7]=u,p[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,u=i[0],c=i[3],d=i[6],h=i[1],p=i[4],m=i[7],g=i[2],_=i[5],b=i[8],M=o[0],S=o[3],x=o[6],w=o[1],E=o[4],A=o[7],C=o[2],N=o[5],L=o[8];return s[0]=u*M+c*w+d*C,s[3]=u*S+c*E+d*N,s[6]=u*x+c*A+d*L,s[1]=h*M+p*w+m*C,s[4]=h*S+p*E+m*N,s[7]=h*x+p*A+m*L,s[2]=g*M+_*w+b*C,s[5]=g*S+_*E+b*N,s[8]=g*x+_*A+b*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],u=e[4],c=e[5],d=e[6],h=e[7],p=e[8];return n*u*p-n*c*h-i*s*p+i*c*d+o*s*h-o*u*d}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],u=e[4],c=e[5],d=e[6],h=e[7],p=e[8],m=p*u-c*h,g=c*d-p*s,_=h*s-u*d,b=n*m+i*g+o*_;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const M=1/b;return e[0]=m*M,e[1]=(o*h-p*i)*M,e[2]=(c*i-o*u)*M,e[3]=g*M,e[4]=(p*n-o*d)*M,e[5]=(o*s-c*n)*M,e[6]=_*M,e[7]=(i*d-h*n)*M,e[8]=(u*n-i*s)*M,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,o,s,u,c){const d=Math.cos(s),h=Math.sin(s);return this.set(i*d,i*h,-i*(d*u+h*c)+u+e,-o*h,o*d,-o*(-h*u+d*c)+c+n,0,0,1),this}scale(e,n){return this.premultiply(tv.makeScale(e,n)),this}rotate(e){return this.premultiply(tv.makeRotation(-e)),this}translate(e,n){return this.premultiply(tv.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<9;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const tv=new mt;function yA(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Ld(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function qP(){const t=Ld("canvas");return t.style.display="block",t}const vM={};function ml(t){t in vM||(vM[t]=!0,console.warn(t))}function YP(t,e,n){return new Promise(function(i,o){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:o();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const gM=new mt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),yM=new mt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function KP(){const t={enabled:!0,workingColorSpace:bl,spaces:{},convert:function(o,s,u){return this.enabled===!1||s===u||!s||!u||(this.spaces[s].transfer===Wt&&(o.r=la(o.r),o.g=la(o.g),o.b=la(o.b)),this.spaces[s].primaries!==this.spaces[u].primaries&&(o.applyMatrix3(this.spaces[s].toXYZ),o.applyMatrix3(this.spaces[u].fromXYZ)),this.spaces[u].transfer===Wt&&(o.r=vl(o.r),o.g=vl(o.g),o.b=vl(o.b))),o},workingToColorSpace:function(o,s){return this.convert(o,this.workingColorSpace,s)},colorSpaceToWorking:function(o,s){return this.convert(o,s,this.workingColorSpace)},getPrimaries:function(o){return this.spaces[o].primaries},getTransfer:function(o){return o===to?Nd:this.spaces[o].transfer},getLuminanceCoefficients:function(o,s=this.workingColorSpace){return o.fromArray(this.spaces[s].luminanceCoefficients)},define:function(o){Object.assign(this.spaces,o)},_getMatrix:function(o,s,u){return o.copy(this.spaces[s].toXYZ).multiply(this.spaces[u].fromXYZ)},_getDrawingBufferColorSpace:function(o){return this.spaces[o].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(o=this.workingColorSpace){return this.spaces[o].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(o,s){return ml("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(o,s)},toWorkingColorSpace:function(o,s){return ml("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(o,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[bl]:{primaries:e,whitePoint:i,transfer:Nd,toXYZ:gM,fromXYZ:yM,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:$i},outputColorSpaceConfig:{drawingBufferColorSpace:$i}},[$i]:{primaries:e,whitePoint:i,transfer:Wt,toXYZ:gM,fromXYZ:yM,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:$i}}}),t}const Ot=KP();function la(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function vl(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Qs;class $P{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Qs===void 0&&(Qs=Ld("canvas")),Qs.width=e.width,Qs.height=e.height;const o=Qs.getContext("2d");e instanceof ImageData?o.putImageData(e,0,0):o.drawImage(e,0,0,e.width,e.height),i=Qs}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ld("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const o=i.getImageData(0,0,e.width,e.height),s=o.data;for(let u=0;u<s.length;u++)s[u]=la(s[u]/255)*255;return i.putImageData(o,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(la(n[i]/255)*255):n[i]=la(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let ZP=0;class sy{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ZP++}),this.uuid=gc(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},o=this.data;if(o!==null){let s;if(Array.isArray(o)){s=[];for(let u=0,c=o.length;u<c;u++)o[u].isDataTexture?s.push(nv(o[u].image)):s.push(nv(o[u]))}else s=nv(o);i.url=s}return n||(e.images[this.uuid]=i),i}}function nv(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?$P.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let QP=0;const iv=new fe;class yi extends Ul{constructor(e=yi.DEFAULT_IMAGE,n=yi.DEFAULT_MAPPING,i=qo,o=qo,s=Rr,u=Yo,c=gr,d=fa,h=yi.DEFAULT_ANISOTROPY,p=to){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QP++}),this.uuid=gc(),this.name="",this.source=new sy(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=o,this.magFilter=s,this.minFilter=u,this.anisotropy=h,this.format=c,this.internalFormat=null,this.type=d,this.offset=new Xt(0,0),this.repeat=new Xt(1,1),this.center=new Xt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(iv).x}get height(){return this.source.getSize(iv).y}get depth(){return this.source.getSize(iv).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const o=this[n];if(o===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}o&&i&&o.isVector2&&i.isVector2||o&&i&&o.isVector3&&i.isVector3||o&&i&&o.isMatrix3&&i.isMatrix3?o.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==lA)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Vg:e.x=e.x-Math.floor(e.x);break;case qo:e.x=e.x<0?0:1;break;case jg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Vg:e.y=e.y-Math.floor(e.y);break;case qo:e.y=e.y<0?0:1;break;case jg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}yi.DEFAULT_IMAGE=null;yi.DEFAULT_MAPPING=lA;yi.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,n=0,i=0,o=1){mn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=o}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,o){return this.x=e,this.y=n,this.z=i,this.w=o,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,o=this.z,s=this.w,u=e.elements;return this.x=u[0]*n+u[4]*i+u[8]*o+u[12]*s,this.y=u[1]*n+u[5]*i+u[9]*o+u[13]*s,this.z=u[2]*n+u[6]*i+u[10]*o+u[14]*s,this.w=u[3]*n+u[7]*i+u[11]*o+u[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,o,s;const d=e.elements,h=d[0],p=d[4],m=d[8],g=d[1],_=d[5],b=d[9],M=d[2],S=d[6],x=d[10];if(Math.abs(p-g)<.01&&Math.abs(m-M)<.01&&Math.abs(b-S)<.01){if(Math.abs(p+g)<.1&&Math.abs(m+M)<.1&&Math.abs(b+S)<.1&&Math.abs(h+_+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const E=(h+1)/2,A=(_+1)/2,C=(x+1)/2,N=(p+g)/4,L=(m+M)/4,H=(b+S)/4;return E>A&&E>C?E<.01?(i=0,o=.707106781,s=.707106781):(i=Math.sqrt(E),o=N/i,s=L/i):A>C?A<.01?(i=.707106781,o=0,s=.707106781):(o=Math.sqrt(A),i=N/o,s=H/o):C<.01?(i=.707106781,o=.707106781,s=0):(s=Math.sqrt(C),i=L/s,o=H/s),this.set(i,o,s,n),this}let w=Math.sqrt((S-b)*(S-b)+(m-M)*(m-M)+(g-p)*(g-p));return Math.abs(w)<.001&&(w=1),this.x=(S-b)/w,this.y=(m-M)/w,this.z=(g-p)/w,this.w=Math.acos((h+_+x-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=At(this.x,e.x,n.x),this.y=At(this.y,e.y,n.y),this.z=At(this.z,e.z,n.z),this.w=At(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=At(this.x,e,n),this.y=At(this.y,e,n),this.z=At(this.z,e,n),this.w=At(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(At(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class JP extends Ul{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new mn(0,0,e,n),this.scissorTest=!1,this.viewport=new mn(0,0,e,n);const o={width:e,height:n,depth:i.depth},s=new yi(o);this.textures=[];const u=i.count;for(let c=0;c<u;c++)this.textures[c]=s.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Rr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let o=0,s=this.textures.length;o<s;o++)this.textures[o].image.width=e,this.textures[o].image.height=n,this.textures[o].image.depth=i,this.textures[o].isArrayTexture=this.textures[o].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const o=Object.assign({},e.textures[n].image);this.textures[n].source=new sy(o)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class os extends JP{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class _A extends yi{constructor(e=null,n=1,i=1,o=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:o},this.magFilter=yr,this.minFilter=yr,this.wrapR=qo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class eN extends yi{constructor(e=null,n=1,i=1,o=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:o},this.magFilter=yr,this.minFilter=yr,this.wrapR=qo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _c{constructor(e=new fe(1/0,1/0,1/0),n=new fe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(cr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(cr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=cr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let u=0,c=s.count;u<c;u++)e.isMesh===!0?e.getVertexPosition(u,cr):cr.fromBufferAttribute(s,u),cr.applyMatrix4(e.matrixWorld),this.expandByPoint(cr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),qf.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),qf.copy(i.boundingBox)),qf.applyMatrix4(e.matrixWorld),this.union(qf)}const o=e.children;for(let s=0,u=o.length;s<u;s++)this.expandByObject(o[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,cr),cr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ku),Yf.subVectors(this.max,ku),Js.subVectors(e.a,ku),el.subVectors(e.b,ku),tl.subVectors(e.c,ku),qa.subVectors(el,Js),Ya.subVectors(tl,el),Uo.subVectors(Js,tl);let n=[0,-qa.z,qa.y,0,-Ya.z,Ya.y,0,-Uo.z,Uo.y,qa.z,0,-qa.x,Ya.z,0,-Ya.x,Uo.z,0,-Uo.x,-qa.y,qa.x,0,-Ya.y,Ya.x,0,-Uo.y,Uo.x,0];return!rv(n,Js,el,tl,Yf)||(n=[1,0,0,0,1,0,0,0,1],!rv(n,Js,el,tl,Yf))?!1:(Kf.crossVectors(qa,Ya),n=[Kf.x,Kf.y,Kf.z],rv(n,Js,el,tl,Yf))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(cr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:($r[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),$r[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),$r[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),$r[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),$r[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),$r[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),$r[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),$r[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints($r),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const $r=[new fe,new fe,new fe,new fe,new fe,new fe,new fe,new fe],cr=new fe,qf=new _c,Js=new fe,el=new fe,tl=new fe,qa=new fe,Ya=new fe,Uo=new fe,ku=new fe,Yf=new fe,Kf=new fe,Lo=new fe;function rv(t,e,n,i,o){for(let s=0,u=t.length-3;s<=u;s+=3){Lo.fromArray(t,s);const c=o.x*Math.abs(Lo.x)+o.y*Math.abs(Lo.y)+o.z*Math.abs(Lo.z),d=e.dot(Lo),h=n.dot(Lo),p=i.dot(Lo);if(Math.max(-Math.max(d,h,p),Math.min(d,h,p))>c)return!1}return!0}const tN=new _c,Hu=new fe,av=new fe;class ph{constructor(e=new fe,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):tN.setFromPoints(e).getCenter(i);let o=0;for(let s=0,u=e.length;s<u;s++)o=Math.max(o,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(o),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hu.subVectors(e,this.center);const n=Hu.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),o=(i-this.radius)*.5;this.center.addScaledVector(Hu,o/i),this.radius+=o}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(av.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hu.copy(e.center).add(av)),this.expandByPoint(Hu.copy(e.center).sub(av))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Zr=new fe,ov=new fe,$f=new fe,Ka=new fe,sv=new fe,Zf=new fe,lv=new fe;class xA{constructor(e=new fe,n=new fe(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Zr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Zr.copy(this.origin).addScaledVector(this.direction,n),Zr.distanceToSquared(e))}distanceSqToSegment(e,n,i,o){ov.copy(e).add(n).multiplyScalar(.5),$f.copy(n).sub(e).normalize(),Ka.copy(this.origin).sub(ov);const s=e.distanceTo(n)*.5,u=-this.direction.dot($f),c=Ka.dot(this.direction),d=-Ka.dot($f),h=Ka.lengthSq(),p=Math.abs(1-u*u);let m,g,_,b;if(p>0)if(m=u*d-c,g=u*c-d,b=s*p,m>=0)if(g>=-b)if(g<=b){const M=1/p;m*=M,g*=M,_=m*(m+u*g+2*c)+g*(u*m+g+2*d)+h}else g=s,m=Math.max(0,-(u*g+c)),_=-m*m+g*(g+2*d)+h;else g=-s,m=Math.max(0,-(u*g+c)),_=-m*m+g*(g+2*d)+h;else g<=-b?(m=Math.max(0,-(-u*s+c)),g=m>0?-s:Math.min(Math.max(-s,-d),s),_=-m*m+g*(g+2*d)+h):g<=b?(m=0,g=Math.min(Math.max(-s,-d),s),_=g*(g+2*d)+h):(m=Math.max(0,-(u*s+c)),g=m>0?s:Math.min(Math.max(-s,-d),s),_=-m*m+g*(g+2*d)+h);else g=u>0?-s:s,m=Math.max(0,-(u*g+c)),_=-m*m+g*(g+2*d)+h;return i&&i.copy(this.origin).addScaledVector(this.direction,m),o&&o.copy(ov).addScaledVector($f,g),_}intersectSphere(e,n){Zr.subVectors(e.center,this.origin);const i=Zr.dot(this.direction),o=Zr.dot(Zr)-i*i,s=e.radius*e.radius;if(o>s)return null;const u=Math.sqrt(s-o),c=i-u,d=i+u;return d<0?null:c<0?this.at(d,n):this.at(c,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,o,s,u,c,d;const h=1/this.direction.x,p=1/this.direction.y,m=1/this.direction.z,g=this.origin;return h>=0?(i=(e.min.x-g.x)*h,o=(e.max.x-g.x)*h):(i=(e.max.x-g.x)*h,o=(e.min.x-g.x)*h),p>=0?(s=(e.min.y-g.y)*p,u=(e.max.y-g.y)*p):(s=(e.max.y-g.y)*p,u=(e.min.y-g.y)*p),i>u||s>o||((s>i||isNaN(i))&&(i=s),(u<o||isNaN(o))&&(o=u),m>=0?(c=(e.min.z-g.z)*m,d=(e.max.z-g.z)*m):(c=(e.max.z-g.z)*m,d=(e.min.z-g.z)*m),i>d||c>o)||((c>i||i!==i)&&(i=c),(d<o||o!==o)&&(o=d),o<0)?null:this.at(i>=0?i:o,n)}intersectsBox(e){return this.intersectBox(e,Zr)!==null}intersectTriangle(e,n,i,o,s){sv.subVectors(n,e),Zf.subVectors(i,e),lv.crossVectors(sv,Zf);let u=this.direction.dot(lv),c;if(u>0){if(o)return null;c=1}else if(u<0)c=-1,u=-u;else return null;Ka.subVectors(this.origin,e);const d=c*this.direction.dot(Zf.crossVectors(Ka,Zf));if(d<0)return null;const h=c*this.direction.dot(sv.cross(Ka));if(h<0||d+h>u)return null;const p=-c*Ka.dot(lv);return p<0?null:this.at(p/u,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xn{constructor(e,n,i,o,s,u,c,d,h,p,m,g,_,b,M,S){xn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,o,s,u,c,d,h,p,m,g,_,b,M,S)}set(e,n,i,o,s,u,c,d,h,p,m,g,_,b,M,S){const x=this.elements;return x[0]=e,x[4]=n,x[8]=i,x[12]=o,x[1]=s,x[5]=u,x[9]=c,x[13]=d,x[2]=h,x[6]=p,x[10]=m,x[14]=g,x[3]=_,x[7]=b,x[11]=M,x[15]=S,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xn().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,o=1/nl.setFromMatrixColumn(e,0).length(),s=1/nl.setFromMatrixColumn(e,1).length(),u=1/nl.setFromMatrixColumn(e,2).length();return n[0]=i[0]*o,n[1]=i[1]*o,n[2]=i[2]*o,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*u,n[9]=i[9]*u,n[10]=i[10]*u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,o=e.y,s=e.z,u=Math.cos(i),c=Math.sin(i),d=Math.cos(o),h=Math.sin(o),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const g=u*p,_=u*m,b=c*p,M=c*m;n[0]=d*p,n[4]=-d*m,n[8]=h,n[1]=_+b*h,n[5]=g-M*h,n[9]=-c*d,n[2]=M-g*h,n[6]=b+_*h,n[10]=u*d}else if(e.order==="YXZ"){const g=d*p,_=d*m,b=h*p,M=h*m;n[0]=g+M*c,n[4]=b*c-_,n[8]=u*h,n[1]=u*m,n[5]=u*p,n[9]=-c,n[2]=_*c-b,n[6]=M+g*c,n[10]=u*d}else if(e.order==="ZXY"){const g=d*p,_=d*m,b=h*p,M=h*m;n[0]=g-M*c,n[4]=-u*m,n[8]=b+_*c,n[1]=_+b*c,n[5]=u*p,n[9]=M-g*c,n[2]=-u*h,n[6]=c,n[10]=u*d}else if(e.order==="ZYX"){const g=u*p,_=u*m,b=c*p,M=c*m;n[0]=d*p,n[4]=b*h-_,n[8]=g*h+M,n[1]=d*m,n[5]=M*h+g,n[9]=_*h-b,n[2]=-h,n[6]=c*d,n[10]=u*d}else if(e.order==="YZX"){const g=u*d,_=u*h,b=c*d,M=c*h;n[0]=d*p,n[4]=M-g*m,n[8]=b*m+_,n[1]=m,n[5]=u*p,n[9]=-c*p,n[2]=-h*p,n[6]=_*m+b,n[10]=g-M*m}else if(e.order==="XZY"){const g=u*d,_=u*h,b=c*d,M=c*h;n[0]=d*p,n[4]=-m,n[8]=h*p,n[1]=g*m+M,n[5]=u*p,n[9]=_*m-b,n[2]=b*m-_,n[6]=c*p,n[10]=M*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nN,e,iN)}lookAt(e,n,i){const o=this.elements;return Ri.subVectors(e,n),Ri.lengthSq()===0&&(Ri.z=1),Ri.normalize(),$a.crossVectors(i,Ri),$a.lengthSq()===0&&(Math.abs(i.z)===1?Ri.x+=1e-4:Ri.z+=1e-4,Ri.normalize(),$a.crossVectors(i,Ri)),$a.normalize(),Qf.crossVectors(Ri,$a),o[0]=$a.x,o[4]=Qf.x,o[8]=Ri.x,o[1]=$a.y,o[5]=Qf.y,o[9]=Ri.y,o[2]=$a.z,o[6]=Qf.z,o[10]=Ri.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,o=n.elements,s=this.elements,u=i[0],c=i[4],d=i[8],h=i[12],p=i[1],m=i[5],g=i[9],_=i[13],b=i[2],M=i[6],S=i[10],x=i[14],w=i[3],E=i[7],A=i[11],C=i[15],N=o[0],L=o[4],H=o[8],P=o[12],U=o[1],I=o[5],Y=o[9],te=o[13],ce=o[2],oe=o[6],B=o[10],q=o[14],X=o[3],ye=o[7],z=o[11],J=o[15];return s[0]=u*N+c*U+d*ce+h*X,s[4]=u*L+c*I+d*oe+h*ye,s[8]=u*H+c*Y+d*B+h*z,s[12]=u*P+c*te+d*q+h*J,s[1]=p*N+m*U+g*ce+_*X,s[5]=p*L+m*I+g*oe+_*ye,s[9]=p*H+m*Y+g*B+_*z,s[13]=p*P+m*te+g*q+_*J,s[2]=b*N+M*U+S*ce+x*X,s[6]=b*L+M*I+S*oe+x*ye,s[10]=b*H+M*Y+S*B+x*z,s[14]=b*P+M*te+S*q+x*J,s[3]=w*N+E*U+A*ce+C*X,s[7]=w*L+E*I+A*oe+C*ye,s[11]=w*H+E*Y+A*B+C*z,s[15]=w*P+E*te+A*q+C*J,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],o=e[8],s=e[12],u=e[1],c=e[5],d=e[9],h=e[13],p=e[2],m=e[6],g=e[10],_=e[14],b=e[3],M=e[7],S=e[11],x=e[15];return b*(+s*d*m-o*h*m-s*c*g+i*h*g+o*c*_-i*d*_)+M*(+n*d*_-n*h*g+s*u*g-o*u*_+o*h*p-s*d*p)+S*(+n*h*m-n*c*_-s*u*m+i*u*_+s*c*p-i*h*p)+x*(-o*c*p-n*d*m+n*c*g+o*u*m-i*u*g+i*d*p)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const o=this.elements;return e.isVector3?(o[12]=e.x,o[13]=e.y,o[14]=e.z):(o[12]=e,o[13]=n,o[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],o=e[2],s=e[3],u=e[4],c=e[5],d=e[6],h=e[7],p=e[8],m=e[9],g=e[10],_=e[11],b=e[12],M=e[13],S=e[14],x=e[15],w=m*S*h-M*g*h+M*d*_-c*S*_-m*d*x+c*g*x,E=b*g*h-p*S*h-b*d*_+u*S*_+p*d*x-u*g*x,A=p*M*h-b*m*h+b*c*_-u*M*_-p*c*x+u*m*x,C=b*m*d-p*M*d-b*c*g+u*M*g+p*c*S-u*m*S,N=n*w+i*E+o*A+s*C;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/N;return e[0]=w*L,e[1]=(M*g*s-m*S*s-M*o*_+i*S*_+m*o*x-i*g*x)*L,e[2]=(c*S*s-M*d*s+M*o*h-i*S*h-c*o*x+i*d*x)*L,e[3]=(m*d*s-c*g*s-m*o*h+i*g*h+c*o*_-i*d*_)*L,e[4]=E*L,e[5]=(p*S*s-b*g*s+b*o*_-n*S*_-p*o*x+n*g*x)*L,e[6]=(b*d*s-u*S*s-b*o*h+n*S*h+u*o*x-n*d*x)*L,e[7]=(u*g*s-p*d*s+p*o*h-n*g*h-u*o*_+n*d*_)*L,e[8]=A*L,e[9]=(b*m*s-p*M*s-b*i*_+n*M*_+p*i*x-n*m*x)*L,e[10]=(u*M*s-b*c*s+b*i*h-n*M*h-u*i*x+n*c*x)*L,e[11]=(p*c*s-u*m*s-p*i*h+n*m*h+u*i*_-n*c*_)*L,e[12]=C*L,e[13]=(p*M*o-b*m*o+b*i*g-n*M*g-p*i*S+n*m*S)*L,e[14]=(b*c*o-u*M*o-b*i*d+n*M*d+u*i*S-n*c*S)*L,e[15]=(u*m*o-p*c*o+p*i*d-n*m*d-u*i*g+n*c*g)*L,this}scale(e){const n=this.elements,i=e.x,o=e.y,s=e.z;return n[0]*=i,n[4]*=o,n[8]*=s,n[1]*=i,n[5]*=o,n[9]*=s,n[2]*=i,n[6]*=o,n[10]*=s,n[3]*=i,n[7]*=o,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],o=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,o))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),o=Math.sin(n),s=1-i,u=e.x,c=e.y,d=e.z,h=s*u,p=s*c;return this.set(h*u+i,h*c-o*d,h*d+o*c,0,h*c+o*d,p*c+i,p*d-o*u,0,h*d-o*c,p*d+o*u,s*d*d+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,o,s,u){return this.set(1,i,s,0,e,1,u,0,n,o,1,0,0,0,0,1),this}compose(e,n,i){const o=this.elements,s=n._x,u=n._y,c=n._z,d=n._w,h=s+s,p=u+u,m=c+c,g=s*h,_=s*p,b=s*m,M=u*p,S=u*m,x=c*m,w=d*h,E=d*p,A=d*m,C=i.x,N=i.y,L=i.z;return o[0]=(1-(M+x))*C,o[1]=(_+A)*C,o[2]=(b-E)*C,o[3]=0,o[4]=(_-A)*N,o[5]=(1-(g+x))*N,o[6]=(S+w)*N,o[7]=0,o[8]=(b+E)*L,o[9]=(S-w)*L,o[10]=(1-(g+M))*L,o[11]=0,o[12]=e.x,o[13]=e.y,o[14]=e.z,o[15]=1,this}decompose(e,n,i){const o=this.elements;let s=nl.set(o[0],o[1],o[2]).length();const u=nl.set(o[4],o[5],o[6]).length(),c=nl.set(o[8],o[9],o[10]).length();this.determinant()<0&&(s=-s),e.x=o[12],e.y=o[13],e.z=o[14],fr.copy(this);const h=1/s,p=1/u,m=1/c;return fr.elements[0]*=h,fr.elements[1]*=h,fr.elements[2]*=h,fr.elements[4]*=p,fr.elements[5]*=p,fr.elements[6]*=p,fr.elements[8]*=m,fr.elements[9]*=m,fr.elements[10]*=m,n.setFromRotationMatrix(fr),i.x=s,i.y=u,i.z=c,this}makePerspective(e,n,i,o,s,u,c=Dr,d=!1){const h=this.elements,p=2*s/(n-e),m=2*s/(i-o),g=(n+e)/(n-e),_=(i+o)/(i-o);let b,M;if(d)b=s/(u-s),M=u*s/(u-s);else if(c===Dr)b=-(u+s)/(u-s),M=-2*u*s/(u-s);else if(c===Ud)b=-u/(u-s),M=-u*s/(u-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return h[0]=p,h[4]=0,h[8]=g,h[12]=0,h[1]=0,h[5]=m,h[9]=_,h[13]=0,h[2]=0,h[6]=0,h[10]=b,h[14]=M,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,n,i,o,s,u,c=Dr,d=!1){const h=this.elements,p=2/(n-e),m=2/(i-o),g=-(n+e)/(n-e),_=-(i+o)/(i-o);let b,M;if(d)b=1/(u-s),M=u/(u-s);else if(c===Dr)b=-2/(u-s),M=-(u+s)/(u-s);else if(c===Ud)b=-1/(u-s),M=-s/(u-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return h[0]=p,h[4]=0,h[8]=0,h[12]=g,h[1]=0,h[5]=m,h[9]=0,h[13]=_,h[2]=0,h[6]=0,h[10]=b,h[14]=M,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let o=0;o<16;o++)if(n[o]!==i[o])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const nl=new fe,fr=new xn,nN=new fe(0,0,0),iN=new fe(1,1,1),$a=new fe,Qf=new fe,Ri=new fe,_M=new xn,xM=new yc;class da{constructor(e=0,n=0,i=0,o=da.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,o=this._order){return this._x=e,this._y=n,this._z=i,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const o=e.elements,s=o[0],u=o[4],c=o[8],d=o[1],h=o[5],p=o[9],m=o[2],g=o[6],_=o[10];switch(n){case"XYZ":this._y=Math.asin(At(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-u,s)):(this._x=Math.atan2(g,h),this._z=0);break;case"YXZ":this._x=Math.asin(-At(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(c,_),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(At(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,_),this._z=Math.atan2(-u,h)):(this._y=0,this._z=Math.atan2(d,s));break;case"ZYX":this._y=Math.asin(-At(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,_),this._z=Math.atan2(d,s)):(this._x=0,this._z=Math.atan2(-u,h));break;case"YZX":this._z=Math.asin(At(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-p,h),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(c,_));break;case"XZY":this._z=Math.asin(-At(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(g,h),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return _M.makeRotationFromQuaternion(e),this.setFromRotationMatrix(_M,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return xM.setFromEuler(this),this.setFromQuaternion(xM,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}da.DEFAULT_ORDER="XYZ";class SA{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rN=0;const SM=new fe,il=new yc,Qr=new xn,Jf=new fe,Gu=new fe,aN=new fe,oN=new yc,bM=new fe(1,0,0),MM=new fe(0,1,0),EM=new fe(0,0,1),TM={type:"added"},sN={type:"removed"},rl={type:"childadded",child:null},uv={type:"childremoved",child:null};class _i extends Ul{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rN++}),this.uuid=gc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_i.DEFAULT_UP.clone();const e=new fe,n=new da,i=new yc,o=new fe(1,1,1);function s(){i.setFromEuler(n,!1)}function u(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new xn},normalMatrix:{value:new mt}}),this.matrix=new xn,this.matrixWorld=new xn,this.matrixAutoUpdate=_i.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=_i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new SA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return il.setFromAxisAngle(e,n),this.quaternion.multiply(il),this}rotateOnWorldAxis(e,n){return il.setFromAxisAngle(e,n),this.quaternion.premultiply(il),this}rotateX(e){return this.rotateOnAxis(bM,e)}rotateY(e){return this.rotateOnAxis(MM,e)}rotateZ(e){return this.rotateOnAxis(EM,e)}translateOnAxis(e,n){return SM.copy(e).applyQuaternion(this.quaternion),this.position.add(SM.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(bM,e)}translateY(e){return this.translateOnAxis(MM,e)}translateZ(e){return this.translateOnAxis(EM,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Qr.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Jf.copy(e):Jf.set(e,n,i);const o=this.parent;this.updateWorldMatrix(!0,!1),Gu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Qr.lookAt(Gu,Jf,this.up):Qr.lookAt(Jf,Gu,this.up),this.quaternion.setFromRotationMatrix(Qr),o&&(Qr.extractRotation(o.matrixWorld),il.setFromRotationMatrix(Qr),this.quaternion.premultiply(il.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(TM),rl.child=e,this.dispatchEvent(rl),rl.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(sN),uv.child=e,this.dispatchEvent(uv),uv.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Qr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Qr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Qr),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(TM),rl.child=e,this.dispatchEvent(rl),rl.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,o=this.children.length;i<o;i++){const u=this.children[i].getObjectByProperty(e,n);if(u!==void 0)return u}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const o=this.children;for(let s=0,u=o.length;s<u;s++)o[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gu,e,aN),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gu,oN,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,o=n.length;i<o;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const o=this.children;for(let s=0,u=o.length;s<u;s++)o[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const o={};o.uuid=this.uuid,o.type=this.type,this.name!==""&&(o.name=this.name),this.castShadow===!0&&(o.castShadow=!0),this.receiveShadow===!0&&(o.receiveShadow=!0),this.visible===!1&&(o.visible=!1),this.frustumCulled===!1&&(o.frustumCulled=!1),this.renderOrder!==0&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(o.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(o.type="BatchedMesh",o.perObjectFrustumCulled=this.perObjectFrustumCulled,o.sortObjects=this.sortObjects,o.drawRanges=this._drawRanges,o.reservedRanges=this._reservedRanges,o.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),o.instanceInfo=this._instanceInfo.map(c=>({...c})),o.availableInstanceIds=this._availableInstanceIds.slice(),o.availableGeometryIds=this._availableGeometryIds.slice(),o.nextIndexStart=this._nextIndexStart,o.nextVertexStart=this._nextVertexStart,o.geometryCount=this._geometryCount,o.maxInstanceCount=this._maxInstanceCount,o.maxVertexCount=this._maxVertexCount,o.maxIndexCount=this._maxIndexCount,o.geometryInitialized=this._geometryInitialized,o.matricesTexture=this._matricesTexture.toJSON(e),o.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(o.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(o.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(o.boundingBox=this.boundingBox.toJSON()));function s(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let h=0,p=d.length;h<p;h++){const m=d[h];s(e.shapes,m)}else s(e.shapes,d)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,h=this.material.length;d<h;d++)c.push(s(e.materials,this.material[d]));o.material=c}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];o.animations.push(s(e.animations,d))}}if(n){const c=u(e.geometries),d=u(e.materials),h=u(e.textures),p=u(e.images),m=u(e.shapes),g=u(e.skeletons),_=u(e.animations),b=u(e.nodes);c.length>0&&(i.geometries=c),d.length>0&&(i.materials=d),h.length>0&&(i.textures=h),p.length>0&&(i.images=p),m.length>0&&(i.shapes=m),g.length>0&&(i.skeletons=g),_.length>0&&(i.animations=_),b.length>0&&(i.nodes=b)}return i.object=o,i;function u(c){const d=[];for(const h in c){const p=c[h];delete p.metadata,d.push(p)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const o=e.children[i];this.add(o.clone())}return this}}_i.DEFAULT_UP=new fe(0,1,0);_i.DEFAULT_MATRIX_AUTO_UPDATE=!0;_i.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const dr=new fe,Jr=new fe,cv=new fe,ea=new fe,al=new fe,ol=new fe,AM=new fe,fv=new fe,dv=new fe,hv=new fe,pv=new mn,mv=new mn,vv=new mn;class pr{constructor(e=new fe,n=new fe,i=new fe){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,o){o.subVectors(i,n),dr.subVectors(e,n),o.cross(dr);const s=o.lengthSq();return s>0?o.multiplyScalar(1/Math.sqrt(s)):o.set(0,0,0)}static getBarycoord(e,n,i,o,s){dr.subVectors(o,n),Jr.subVectors(i,n),cv.subVectors(e,n);const u=dr.dot(dr),c=dr.dot(Jr),d=dr.dot(cv),h=Jr.dot(Jr),p=Jr.dot(cv),m=u*h-c*c;if(m===0)return s.set(0,0,0),null;const g=1/m,_=(h*d-c*p)*g,b=(u*p-c*d)*g;return s.set(1-_-b,b,_)}static containsPoint(e,n,i,o){return this.getBarycoord(e,n,i,o,ea)===null?!1:ea.x>=0&&ea.y>=0&&ea.x+ea.y<=1}static getInterpolation(e,n,i,o,s,u,c,d){return this.getBarycoord(e,n,i,o,ea)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(s,ea.x),d.addScaledVector(u,ea.y),d.addScaledVector(c,ea.z),d)}static getInterpolatedAttribute(e,n,i,o,s,u){return pv.setScalar(0),mv.setScalar(0),vv.setScalar(0),pv.fromBufferAttribute(e,n),mv.fromBufferAttribute(e,i),vv.fromBufferAttribute(e,o),u.setScalar(0),u.addScaledVector(pv,s.x),u.addScaledVector(mv,s.y),u.addScaledVector(vv,s.z),u}static isFrontFacing(e,n,i,o){return dr.subVectors(i,n),Jr.subVectors(e,n),dr.cross(Jr).dot(o)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,o){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[o]),this}setFromAttributeAndIndices(e,n,i,o){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,o),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dr.subVectors(this.c,this.b),Jr.subVectors(this.a,this.b),dr.cross(Jr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return pr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return pr.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,o,s){return pr.getInterpolation(e,this.a,this.b,this.c,n,i,o,s)}containsPoint(e){return pr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return pr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,o=this.b,s=this.c;let u,c;al.subVectors(o,i),ol.subVectors(s,i),fv.subVectors(e,i);const d=al.dot(fv),h=ol.dot(fv);if(d<=0&&h<=0)return n.copy(i);dv.subVectors(e,o);const p=al.dot(dv),m=ol.dot(dv);if(p>=0&&m<=p)return n.copy(o);const g=d*m-p*h;if(g<=0&&d>=0&&p<=0)return u=d/(d-p),n.copy(i).addScaledVector(al,u);hv.subVectors(e,s);const _=al.dot(hv),b=ol.dot(hv);if(b>=0&&_<=b)return n.copy(s);const M=_*h-d*b;if(M<=0&&h>=0&&b<=0)return c=h/(h-b),n.copy(i).addScaledVector(ol,c);const S=p*b-_*m;if(S<=0&&m-p>=0&&_-b>=0)return AM.subVectors(s,o),c=(m-p)/(m-p+(_-b)),n.copy(o).addScaledVector(AM,c);const x=1/(S+M+g);return u=M*x,c=g*x,n.copy(i).addScaledVector(al,u).addScaledVector(ol,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const bA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Za={h:0,s:0,l:0},ed={h:0,s:0,l:0};function gv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Lt=class{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const o=e;o&&o.isColor?this.copy(o):typeof o=="number"?this.setHex(o):typeof o=="string"&&this.setStyle(o)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=$i){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ot.colorSpaceToWorking(this,n),this}setRGB(e,n,i,o=Ot.workingColorSpace){return this.r=e,this.g=n,this.b=i,Ot.colorSpaceToWorking(this,o),this}setHSL(e,n,i,o=Ot.workingColorSpace){if(e=XP(e,1),n=At(n,0,1),i=At(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,u=2*i-s;this.r=gv(u,s,e+1/3),this.g=gv(u,s,e),this.b=gv(u,s,e-1/3)}return Ot.colorSpaceToWorking(this,o),this}setStyle(e,n=$i){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let o;if(o=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const u=o[1],c=o[2];switch(u){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(o=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=o[1],u=s.length;if(u===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(u===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=$i){const i=bA[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=la(e.r),this.g=la(e.g),this.b=la(e.b),this}copyLinearToSRGB(e){return this.r=vl(e.r),this.g=vl(e.g),this.b=vl(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$i){return Ot.workingToColorSpace(ei.copy(this),e),Math.round(At(ei.r*255,0,255))*65536+Math.round(At(ei.g*255,0,255))*256+Math.round(At(ei.b*255,0,255))}getHexString(e=$i){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ot.workingColorSpace){Ot.workingToColorSpace(ei.copy(this),n);const i=ei.r,o=ei.g,s=ei.b,u=Math.max(i,o,s),c=Math.min(i,o,s);let d,h;const p=(c+u)/2;if(c===u)d=0,h=0;else{const m=u-c;switch(h=p<=.5?m/(u+c):m/(2-u-c),u){case i:d=(o-s)/m+(o<s?6:0);break;case o:d=(s-i)/m+2;break;case s:d=(i-o)/m+4;break}d/=6}return e.h=d,e.s=h,e.l=p,e}getRGB(e,n=Ot.workingColorSpace){return Ot.workingToColorSpace(ei.copy(this),n),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=$i){Ot.workingToColorSpace(ei.copy(this),e);const n=ei.r,i=ei.g,o=ei.b;return e!==$i?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${o.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(o*255)})`}offsetHSL(e,n,i){return this.getHSL(Za),this.setHSL(Za.h+e,Za.s+n,Za.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Za),e.getHSL(ed);const i=Jm(Za.h,ed.h,n),o=Jm(Za.s,ed.s,n),s=Jm(Za.l,ed.l,n);return this.setHSL(i,o,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,o=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*o,this.g=s[1]*n+s[4]*i+s[7]*o,this.b=s[2]*n+s[5]*i+s[8]*o,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ei=new Lt;Lt.NAMES=bA;let lN=0;class xc extends Ul{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lN++}),this.uuid=gc(),this.name="",this.type="Material",this.blending=Jo,this.side=so,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Pg,this.blendDst=Ng,this.blendEquation=Wo,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=_l,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=dM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zs,this.stencilZFail=Zs,this.stencilZPass=Zs,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const o=this[n];if(o===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}o&&o.isColor?o.set(i):o&&o.isVector3&&i&&i.isVector3?o.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Jo&&(i.blending=this.blending),this.side!==so&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Pg&&(i.blendSrc=this.blendSrc),this.blendDst!==Ng&&(i.blendDst=this.blendDst),this.blendEquation!==Wo&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==_l&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==dM&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Zs&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Zs&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Zs&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function o(s){const u=[];for(const c in s){const d=s[c];delete d.metadata,u.push(d)}return u}if(n){const s=o(e.textures),u=o(e.images);s.length>0&&(i.textures=s),u.length>0&&(i.images=u)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const o=n.length;i=new Array(o);for(let s=0;s!==o;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class MA extends xc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new da,this.combine=sA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _n=new fe,td=new Xt;let uN=0;class zi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:uN++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=hM,this.updateRanges=[],this.gpuType=ra,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let o=0,s=this.itemSize;o<s;o++)this.array[e+o]=n.array[i+o];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)td.fromBufferAttribute(this,n),td.applyMatrix3(e),this.setXY(n,td.x,td.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)_n.fromBufferAttribute(this,n),_n.applyMatrix3(e),this.setXYZ(n,_n.x,_n.y,_n.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)_n.fromBufferAttribute(this,n),_n.applyMatrix4(e),this.setXYZ(n,_n.x,_n.y,_n.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)_n.fromBufferAttribute(this,n),_n.applyNormalMatrix(e),this.setXYZ(n,_n.x,_n.y,_n.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)_n.fromBufferAttribute(this,n),_n.transformDirection(e),this.setXYZ(n,_n.x,_n.y,_n.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=Fu(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=pi(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Fu(n,this.array)),n}setX(e,n){return this.normalized&&(n=pi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Fu(n,this.array)),n}setY(e,n){return this.normalized&&(n=pi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Fu(n,this.array)),n}setZ(e,n){return this.normalized&&(n=pi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Fu(n,this.array)),n}setW(e,n){return this.normalized&&(n=pi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=pi(n,this.array),i=pi(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,o){return e*=this.itemSize,this.normalized&&(n=pi(n,this.array),i=pi(i,this.array),o=pi(o,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this}setXYZW(e,n,i,o,s){return e*=this.itemSize,this.normalized&&(n=pi(n,this.array),i=pi(i,this.array),o=pi(o,this.array),s=pi(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=o,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==hM&&(e.usage=this.usage),e}}class EA extends zi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class TA extends zi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class es extends zi{constructor(e,n,i){super(new Float32Array(e),n,i)}}let cN=0;const Yi=new xn,yv=new _i,sl=new fe,Di=new _c,Vu=new _c,zn=new fe;class ya extends Ul{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:cN++}),this.uuid=gc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(yA(e)?TA:EA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new mt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const o=this.attributes.tangent;return o!==void 0&&(o.transformDirection(e),o.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yi.makeRotationFromQuaternion(e),this.applyMatrix4(Yi),this}rotateX(e){return Yi.makeRotationX(e),this.applyMatrix4(Yi),this}rotateY(e){return Yi.makeRotationY(e),this.applyMatrix4(Yi),this}rotateZ(e){return Yi.makeRotationZ(e),this.applyMatrix4(Yi),this}translate(e,n,i){return Yi.makeTranslation(e,n,i),this.applyMatrix4(Yi),this}scale(e,n,i){return Yi.makeScale(e,n,i),this.applyMatrix4(Yi),this}lookAt(e){return yv.lookAt(e),yv.updateMatrix(),this.applyMatrix4(yv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sl).negate(),this.translate(sl.x,sl.y,sl.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let o=0,s=e.length;o<s;o++){const u=e[o];i.push(u.x,u.y,u.z||0)}this.setAttribute("position",new es(i,3))}else{const i=Math.min(e.length,n.count);for(let o=0;o<i;o++){const s=e[o];n.setXYZ(o,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _c);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new fe(-1/0,-1/0,-1/0),new fe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,o=n.length;i<o;i++){const s=n[i];Di.setFromBufferAttribute(s),this.morphTargetsRelative?(zn.addVectors(this.boundingBox.min,Di.min),this.boundingBox.expandByPoint(zn),zn.addVectors(this.boundingBox.max,Di.max),this.boundingBox.expandByPoint(zn)):(this.boundingBox.expandByPoint(Di.min),this.boundingBox.expandByPoint(Di.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ph);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new fe,1/0);return}if(e){const i=this.boundingSphere.center;if(Di.setFromBufferAttribute(e),n)for(let s=0,u=n.length;s<u;s++){const c=n[s];Vu.setFromBufferAttribute(c),this.morphTargetsRelative?(zn.addVectors(Di.min,Vu.min),Di.expandByPoint(zn),zn.addVectors(Di.max,Vu.max),Di.expandByPoint(zn)):(Di.expandByPoint(Vu.min),Di.expandByPoint(Vu.max))}Di.getCenter(i);let o=0;for(let s=0,u=e.count;s<u;s++)zn.fromBufferAttribute(e,s),o=Math.max(o,i.distanceToSquared(zn));if(n)for(let s=0,u=n.length;s<u;s++){const c=n[s],d=this.morphTargetsRelative;for(let h=0,p=c.count;h<p;h++)zn.fromBufferAttribute(c,h),d&&(sl.fromBufferAttribute(e,h),zn.add(sl)),o=Math.max(o,i.distanceToSquared(zn))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,o=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zi(new Float32Array(4*i.count),4));const u=this.getAttribute("tangent"),c=[],d=[];for(let H=0;H<i.count;H++)c[H]=new fe,d[H]=new fe;const h=new fe,p=new fe,m=new fe,g=new Xt,_=new Xt,b=new Xt,M=new fe,S=new fe;function x(H,P,U){h.fromBufferAttribute(i,H),p.fromBufferAttribute(i,P),m.fromBufferAttribute(i,U),g.fromBufferAttribute(s,H),_.fromBufferAttribute(s,P),b.fromBufferAttribute(s,U),p.sub(h),m.sub(h),_.sub(g),b.sub(g);const I=1/(_.x*b.y-b.x*_.y);isFinite(I)&&(M.copy(p).multiplyScalar(b.y).addScaledVector(m,-_.y).multiplyScalar(I),S.copy(m).multiplyScalar(_.x).addScaledVector(p,-b.x).multiplyScalar(I),c[H].add(M),c[P].add(M),c[U].add(M),d[H].add(S),d[P].add(S),d[U].add(S))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let H=0,P=w.length;H<P;++H){const U=w[H],I=U.start,Y=U.count;for(let te=I,ce=I+Y;te<ce;te+=3)x(e.getX(te+0),e.getX(te+1),e.getX(te+2))}const E=new fe,A=new fe,C=new fe,N=new fe;function L(H){C.fromBufferAttribute(o,H),N.copy(C);const P=c[H];E.copy(P),E.sub(C.multiplyScalar(C.dot(P))).normalize(),A.crossVectors(N,P);const I=A.dot(d[H])<0?-1:1;u.setXYZW(H,E.x,E.y,E.z,I)}for(let H=0,P=w.length;H<P;++H){const U=w[H],I=U.start,Y=U.count;for(let te=I,ce=I+Y;te<ce;te+=3)L(e.getX(te+0)),L(e.getX(te+1)),L(e.getX(te+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new zi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let g=0,_=i.count;g<_;g++)i.setXYZ(g,0,0,0);const o=new fe,s=new fe,u=new fe,c=new fe,d=new fe,h=new fe,p=new fe,m=new fe;if(e)for(let g=0,_=e.count;g<_;g+=3){const b=e.getX(g+0),M=e.getX(g+1),S=e.getX(g+2);o.fromBufferAttribute(n,b),s.fromBufferAttribute(n,M),u.fromBufferAttribute(n,S),p.subVectors(u,s),m.subVectors(o,s),p.cross(m),c.fromBufferAttribute(i,b),d.fromBufferAttribute(i,M),h.fromBufferAttribute(i,S),c.add(p),d.add(p),h.add(p),i.setXYZ(b,c.x,c.y,c.z),i.setXYZ(M,d.x,d.y,d.z),i.setXYZ(S,h.x,h.y,h.z)}else for(let g=0,_=n.count;g<_;g+=3)o.fromBufferAttribute(n,g+0),s.fromBufferAttribute(n,g+1),u.fromBufferAttribute(n,g+2),p.subVectors(u,s),m.subVectors(o,s),p.cross(m),i.setXYZ(g+0,p.x,p.y,p.z),i.setXYZ(g+1,p.x,p.y,p.z),i.setXYZ(g+2,p.x,p.y,p.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)zn.fromBufferAttribute(e,n),zn.normalize(),e.setXYZ(n,zn.x,zn.y,zn.z)}toNonIndexed(){function e(c,d){const h=c.array,p=c.itemSize,m=c.normalized,g=new h.constructor(d.length*p);let _=0,b=0;for(let M=0,S=d.length;M<S;M++){c.isInterleavedBufferAttribute?_=d[M]*c.data.stride+c.offset:_=d[M]*p;for(let x=0;x<p;x++)g[b++]=h[_++]}return new zi(g,p,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ya,i=this.index.array,o=this.attributes;for(const c in o){const d=o[c],h=e(d,i);n.setAttribute(c,h)}const s=this.morphAttributes;for(const c in s){const d=[],h=s[c];for(let p=0,m=h.length;p<m;p++){const g=h[p],_=e(g,i);d.push(_)}n.morphAttributes[c]=d}n.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let c=0,d=u.length;c<d;c++){const h=u[c];n.addGroup(h.start,h.count,h.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const h in d)d[h]!==void 0&&(e[h]=d[h]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const d in i){const h=i[d];e.data.attributes[d]=h.toJSON(e.data)}const o={};let s=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],p=[];for(let m=0,g=h.length;m<g;m++){const _=h[m];p.push(_.toJSON(e.data))}p.length>0&&(o[d]=p,s=!0)}s&&(e.data.morphAttributes=o,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const o=e.attributes;for(const h in o){const p=o[h];this.setAttribute(h,p.clone(n))}const s=e.morphAttributes;for(const h in s){const p=[],m=s[h];for(let g=0,_=m.length;g<_;g++)p.push(m[g].clone(n));this.morphAttributes[h]=p}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let h=0,p=u.length;h<p;h++){const m=u[h];this.addGroup(m.start,m.count,m.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const wM=new xn,Io=new xA,nd=new ph,CM=new fe,id=new fe,rd=new fe,ad=new fe,_v=new fe,od=new fe,RM=new fe,sd=new fe;class aa extends _i{constructor(e=new ya,n=new MA){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,u=o.length;s<u;s++){const c=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}getVertexPosition(e,n){const i=this.geometry,o=i.attributes.position,s=i.morphAttributes.position,u=i.morphTargetsRelative;n.fromBufferAttribute(o,e);const c=this.morphTargetInfluences;if(s&&c){od.set(0,0,0);for(let d=0,h=s.length;d<h;d++){const p=c[d],m=s[d];p!==0&&(_v.fromBufferAttribute(m,e),u?od.addScaledVector(_v,p):od.addScaledVector(_v.sub(n),p))}n.add(od)}return n}raycast(e,n){const i=this.geometry,o=this.material,s=this.matrixWorld;o!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),nd.copy(i.boundingSphere),nd.applyMatrix4(s),Io.copy(e.ray).recast(e.near),!(nd.containsPoint(Io.origin)===!1&&(Io.intersectSphere(nd,CM)===null||Io.origin.distanceToSquared(CM)>(e.far-e.near)**2))&&(wM.copy(s).invert(),Io.copy(e.ray).applyMatrix4(wM),!(i.boundingBox!==null&&Io.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,Io)))}_computeIntersections(e,n,i){let o;const s=this.geometry,u=this.material,c=s.index,d=s.attributes.position,h=s.attributes.uv,p=s.attributes.uv1,m=s.attributes.normal,g=s.groups,_=s.drawRange;if(c!==null)if(Array.isArray(u))for(let b=0,M=g.length;b<M;b++){const S=g[b],x=u[S.materialIndex],w=Math.max(S.start,_.start),E=Math.min(c.count,Math.min(S.start+S.count,_.start+_.count));for(let A=w,C=E;A<C;A+=3){const N=c.getX(A),L=c.getX(A+1),H=c.getX(A+2);o=ld(this,x,e,i,h,p,m,N,L,H),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=S.materialIndex,n.push(o))}}else{const b=Math.max(0,_.start),M=Math.min(c.count,_.start+_.count);for(let S=b,x=M;S<x;S+=3){const w=c.getX(S),E=c.getX(S+1),A=c.getX(S+2);o=ld(this,u,e,i,h,p,m,w,E,A),o&&(o.faceIndex=Math.floor(S/3),n.push(o))}}else if(d!==void 0)if(Array.isArray(u))for(let b=0,M=g.length;b<M;b++){const S=g[b],x=u[S.materialIndex],w=Math.max(S.start,_.start),E=Math.min(d.count,Math.min(S.start+S.count,_.start+_.count));for(let A=w,C=E;A<C;A+=3){const N=A,L=A+1,H=A+2;o=ld(this,x,e,i,h,p,m,N,L,H),o&&(o.faceIndex=Math.floor(A/3),o.face.materialIndex=S.materialIndex,n.push(o))}}else{const b=Math.max(0,_.start),M=Math.min(d.count,_.start+_.count);for(let S=b,x=M;S<x;S+=3){const w=S,E=S+1,A=S+2;o=ld(this,u,e,i,h,p,m,w,E,A),o&&(o.faceIndex=Math.floor(S/3),n.push(o))}}}}function fN(t,e,n,i,o,s,u,c){let d;if(e.side===gi?d=i.intersectTriangle(u,s,o,!0,c):d=i.intersectTriangle(o,s,u,e.side===so,c),d===null)return null;sd.copy(c),sd.applyMatrix4(t.matrixWorld);const h=n.ray.origin.distanceTo(sd);return h<n.near||h>n.far?null:{distance:h,point:sd.clone(),object:t}}function ld(t,e,n,i,o,s,u,c,d,h){t.getVertexPosition(c,id),t.getVertexPosition(d,rd),t.getVertexPosition(h,ad);const p=fN(t,e,n,i,id,rd,ad,RM);if(p){const m=new fe;pr.getBarycoord(RM,id,rd,ad,m),o&&(p.uv=pr.getInterpolatedAttribute(o,c,d,h,m,new Xt)),s&&(p.uv1=pr.getInterpolatedAttribute(s,c,d,h,m,new Xt)),u&&(p.normal=pr.getInterpolatedAttribute(u,c,d,h,m,new fe),p.normal.dot(i.direction)>0&&p.normal.multiplyScalar(-1));const g={a:c,b:d,c:h,normal:new fe,materialIndex:0};pr.getNormal(id,rd,ad,g.normal),p.face=g,p.barycoord=m}return p}class Sc extends ya{constructor(e=1,n=1,i=1,o=1,s=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:o,heightSegments:s,depthSegments:u};const c=this;o=Math.floor(o),s=Math.floor(s),u=Math.floor(u);const d=[],h=[],p=[],m=[];let g=0,_=0;b("z","y","x",-1,-1,i,n,e,u,s,0),b("z","y","x",1,-1,i,n,-e,u,s,1),b("x","z","y",1,1,e,i,n,o,u,2),b("x","z","y",1,-1,e,i,-n,o,u,3),b("x","y","z",1,-1,e,n,i,o,s,4),b("x","y","z",-1,-1,e,n,-i,o,s,5),this.setIndex(d),this.setAttribute("position",new es(h,3)),this.setAttribute("normal",new es(p,3)),this.setAttribute("uv",new es(m,2));function b(M,S,x,w,E,A,C,N,L,H,P){const U=A/L,I=C/H,Y=A/2,te=C/2,ce=N/2,oe=L+1,B=H+1;let q=0,X=0;const ye=new fe;for(let z=0;z<B;z++){const J=z*I-te;for(let se=0;se<oe;se++){const Ee=se*U-Y;ye[M]=Ee*w,ye[S]=J*E,ye[x]=ce,h.push(ye.x,ye.y,ye.z),ye[M]=0,ye[S]=0,ye[x]=N>0?1:-1,p.push(ye.x,ye.y,ye.z),m.push(se/L),m.push(1-z/H),q+=1}}for(let z=0;z<H;z++)for(let J=0;J<L;J++){const se=g+J+oe*z,Ee=g+J+oe*(z+1),Ne=g+(J+1)+oe*(z+1),ie=g+(J+1)+oe*z;d.push(se,Ee,ie),d.push(Ee,Ne,ie),X+=6}c.addGroup(_,X,P),_+=X,g+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ml(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const o=t[n][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture||o.isQuaternion)?o.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=o.clone():Array.isArray(o)?e[n][i]=o.slice():e[n][i]=o}}return e}function oi(t){const e={};for(let n=0;n<t.length;n++){const i=Ml(t[n]);for(const o in i)e[o]=i[o]}return e}function dN(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function AA(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ot.workingColorSpace}const hN={clone:Ml,merge:oi};var pN=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,mN=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ha extends xc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=pN,this.fragmentShader=mN,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ml(e.uniforms),this.uniformsGroups=dN(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const o in this.uniforms){const u=this.uniforms[o].value;u&&u.isTexture?n.uniforms[o]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?n.uniforms[o]={type:"c",value:u.getHex()}:u&&u.isVector2?n.uniforms[o]={type:"v2",value:u.toArray()}:u&&u.isVector3?n.uniforms[o]={type:"v3",value:u.toArray()}:u&&u.isVector4?n.uniforms[o]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?n.uniforms[o]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?n.uniforms[o]={type:"m4",value:u.toArray()}:n.uniforms[o]={value:u}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const o in this.extensions)this.extensions[o]===!0&&(i[o]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class wA extends _i{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xn,this.projectionMatrix=new xn,this.projectionMatrixInverse=new xn,this.coordinateSystem=Dr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Qa=new fe,DM=new Xt,OM=new Xt;class Zi extends wA{constructor(e=50,n=1,i=.1,o=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=o,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=g0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qm*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return g0*2*Math.atan(Math.tan(Qm*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){Qa.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Qa.x,Qa.y).multiplyScalar(-e/Qa.z),Qa.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Qa.x,Qa.y).multiplyScalar(-e/Qa.z)}getViewSize(e,n){return this.getViewBounds(e,DM,OM),n.subVectors(OM,DM)}setViewOffset(e,n,i,o,s,u){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Qm*.5*this.fov)/this.zoom,i=2*n,o=this.aspect*i,s=-.5*o;const u=this.view;if(this.view!==null&&this.view.enabled){const d=u.fullWidth,h=u.fullHeight;s+=u.offsetX*o/d,n-=u.offsetY*i/h,o*=u.width/d,i*=u.height/h}const c=this.filmOffset;c!==0&&(s+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+o,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ll=-90,ul=1;class vN extends _i{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const o=new Zi(ll,ul,e,n);o.layers=this.layers,this.add(o);const s=new Zi(ll,ul,e,n);s.layers=this.layers,this.add(s);const u=new Zi(ll,ul,e,n);u.layers=this.layers,this.add(u);const c=new Zi(ll,ul,e,n);c.layers=this.layers,this.add(c);const d=new Zi(ll,ul,e,n);d.layers=this.layers,this.add(d);const h=new Zi(ll,ul,e,n);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,o,s,u,c,d]=n;for(const h of n)this.remove(h);if(e===Dr)i.up.set(0,1,0),i.lookAt(1,0,0),o.up.set(0,1,0),o.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),u.up.set(0,0,1),u.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Ud)i.up.set(0,-1,0),i.lookAt(-1,0,0),o.up.set(0,-1,0),o.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),u.up.set(0,0,-1),u.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const h of n)this.add(h),h.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:o}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,u,c,d,h,p]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const M=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,o),e.render(n,s),e.setRenderTarget(i,1,o),e.render(n,u),e.setRenderTarget(i,2,o),e.render(n,c),e.setRenderTarget(i,3,o),e.render(n,d),e.setRenderTarget(i,4,o),e.render(n,h),i.texture.generateMipmaps=M,e.setRenderTarget(i,5,o),e.render(n,p),e.setRenderTarget(m,g,_),e.xr.enabled=b,i.texture.needsPMREMUpdate=!0}}class CA extends yi{constructor(e=[],n=xl,i,o,s,u,c,d,h,p){super(e,n,i,o,s,u,c,d,h,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gN extends os{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},o=[i,i,i,i,i,i];this.texture=new CA(o),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},o=new Sc(5,5,5),s=new ha({name:"CubemapFromEquirect",uniforms:Ml(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:gi,blending:io});s.uniforms.tEquirect.value=n;const u=new aa(o,s),c=n.minFilter;return n.minFilter===Yo&&(n.minFilter=Rr),new vN(1,10,this).update(e,u),n.minFilter=c,u.geometry.dispose(),u.material.dispose(),this}clear(e,n=!0,i=!0,o=!0){const s=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(n,i,o);e.setRenderTarget(s)}}class ud extends _i{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yN={type:"move"};class xv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ud,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ud,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ud,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let o=null,s=null,u=null;const c=this._targetRay,d=this._grip,h=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(h&&e.hand){u=!0;for(const M of e.hand.values()){const S=n.getJointPose(M,i),x=this._getHandJoint(h,M);S!==null&&(x.matrix.fromArray(S.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=S.radius),x.visible=S!==null}const p=h.joints["index-finger-tip"],m=h.joints["thumb-tip"],g=p.position.distanceTo(m.position),_=.02,b=.005;h.inputState.pinching&&g>_+b?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!h.inputState.pinching&&g<=_-b&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(d.matrix.fromArray(s.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,s.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(s.linearVelocity)):d.hasLinearVelocity=!1,s.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(s.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(o=n.getPose(e.targetRaySpace,i),o===null&&s!==null&&(o=s),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(yN)))}return c!==null&&(c.visible=o!==null),d!==null&&(d.visible=s!==null),h!==null&&(h.visible=u!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ud;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class _N extends _i{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new da,this.environmentIntensity=1,this.environmentRotation=new da,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const Sv=new fe,xN=new fe,SN=new mt;class ko{constructor(e=new fe(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,o){return this.normal.set(e,n,i),this.constant=o,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const o=Sv.subVectors(i,n).cross(xN.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Sv),o=this.normal.dot(i);if(o===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/o;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||SN.getNormalMatrix(e),o=this.coplanarPoint(Sv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-o.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const zo=new ph,bN=new Xt(.5,.5),cd=new fe;class RA{constructor(e=new ko,n=new ko,i=new ko,o=new ko,s=new ko,u=new ko){this.planes=[e,n,i,o,s,u]}set(e,n,i,o,s,u){const c=this.planes;return c[0].copy(e),c[1].copy(n),c[2].copy(i),c[3].copy(o),c[4].copy(s),c[5].copy(u),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Dr,i=!1){const o=this.planes,s=e.elements,u=s[0],c=s[1],d=s[2],h=s[3],p=s[4],m=s[5],g=s[6],_=s[7],b=s[8],M=s[9],S=s[10],x=s[11],w=s[12],E=s[13],A=s[14],C=s[15];if(o[0].setComponents(h-u,_-p,x-b,C-w).normalize(),o[1].setComponents(h+u,_+p,x+b,C+w).normalize(),o[2].setComponents(h+c,_+m,x+M,C+E).normalize(),o[3].setComponents(h-c,_-m,x-M,C-E).normalize(),i)o[4].setComponents(d,g,S,A).normalize(),o[5].setComponents(h-d,_-g,x-S,C-A).normalize();else if(o[4].setComponents(h-d,_-g,x-S,C-A).normalize(),n===Dr)o[5].setComponents(h+d,_+g,x+S,C+A).normalize();else if(n===Ud)o[5].setComponents(d,g,S,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),zo.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),zo.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(zo)}intersectsSprite(e){zo.center.set(0,0,0);const n=bN.distanceTo(e.center);return zo.radius=.7071067811865476+n,zo.applyMatrix4(e.matrixWorld),this.intersectsSphere(zo)}intersectsSphere(e){const n=this.planes,i=e.center,o=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<o)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const o=n[i];if(cd.x=o.normal.x>0?e.max.x:e.min.x,cd.y=o.normal.y>0?e.max.y:e.min.y,cd.z=o.normal.z>0?e.max.z:e.min.z,o.distanceToPoint(cd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class MN extends xc{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const PM=new xn,y0=new xA,fd=new ph,dd=new fe;class EN extends _i{constructor(e=new ya,n=new MN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,o=this.matrixWorld,s=e.params.Points.threshold,u=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),fd.copy(i.boundingSphere),fd.applyMatrix4(o),fd.radius+=s,e.ray.intersectsSphere(fd)===!1)return;PM.copy(o).invert(),y0.copy(e.ray).applyMatrix4(PM);const c=s/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=i.index,m=i.attributes.position;if(h!==null){const g=Math.max(0,u.start),_=Math.min(h.count,u.start+u.count);for(let b=g,M=_;b<M;b++){const S=h.getX(b);dd.fromBufferAttribute(m,S),NM(dd,S,d,o,e,n,this)}}else{const g=Math.max(0,u.start),_=Math.min(m.count,u.start+u.count);for(let b=g,M=_;b<M;b++)dd.fromBufferAttribute(m,b),NM(dd,b,d,o,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const o=n[i[0]];if(o!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,u=o.length;s<u;s++){const c=o[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=s}}}}}function NM(t,e,n,i,o,s,u){const c=y0.distanceSqToPoint(t);if(c<n){const d=new fe;y0.closestPointToPoint(t,d),d.applyMatrix4(i);const h=o.ray.origin.distanceTo(d);if(h<o.near||h>o.far)return;s.push({distance:h,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:u})}}class DA extends yi{constructor(e,n,i=as,o,s,u,c=yr,d=yr,h,p=rc,m=1){if(p!==rc&&p!==ac)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const g={width:e,height:n,depth:m};super(g,o,s,u,c,d,p,i,h),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new sy(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class mh extends ya{constructor(e=1,n=1,i=1,o=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:o};const s=e/2,u=n/2,c=Math.floor(i),d=Math.floor(o),h=c+1,p=d+1,m=e/c,g=n/d,_=[],b=[],M=[],S=[];for(let x=0;x<p;x++){const w=x*g-u;for(let E=0;E<h;E++){const A=E*m-s;b.push(A,-w,0),M.push(0,0,1),S.push(E/c),S.push(1-x/d)}}for(let x=0;x<d;x++)for(let w=0;w<c;w++){const E=w+h*x,A=w+h*(x+1),C=w+1+h*(x+1),N=w+1+h*x;_.push(E,A,N),_.push(A,C,N)}this.setIndex(_),this.setAttribute("position",new es(b,3)),this.setAttribute("normal",new es(M,3)),this.setAttribute("uv",new es(S,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mh(e.width,e.height,e.widthSegments,e.heightSegments)}}class TN extends xc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=LP,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AN extends xc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class wN extends wA{constructor(e=-1,n=1,i=1,o=-1,s=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=o,this.near=s,this.far=u,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,o,s,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=o,this.view.width=s,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,o=(this.top+this.bottom)/2;let s=i-e,u=i+e,c=o+n,d=o-n;if(this.view!==null&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=h*this.view.offsetX,u=s+h*this.view.width,c-=p*this.view.offsetY,d=c-p*this.view.height}this.projectionMatrix.makeOrthographic(s,u,c,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class CN extends Zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class RN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function UM(t,e,n,i){const o=DN(i);switch(n){case dA:return t*e;case pA:return t*e/o.components*o.byteLength;case ry:return t*e/o.components*o.byteLength;case mA:return t*e*2/o.components*o.byteLength;case ay:return t*e*2/o.components*o.byteLength;case hA:return t*e*3/o.components*o.byteLength;case gr:return t*e*4/o.components*o.byteLength;case oy:return t*e*4/o.components*o.byteLength;case Ad:case wd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Cd:case Rd:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Xg:case Yg:return Math.max(t,16)*Math.max(e,8)/4;case Wg:case qg:return Math.max(t,8)*Math.max(e,8)/2;case Kg:case $g:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Zg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Qg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Jg:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case e0:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case t0:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case n0:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case i0:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case r0:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case a0:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case o0:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case s0:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case l0:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case u0:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case c0:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case f0:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Dd:case d0:case h0:return Math.ceil(t/4)*Math.ceil(e/4)*16;case vA:case p0:return Math.ceil(t/4)*Math.ceil(e/4)*8;case m0:case v0:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function DN(t){switch(t){case fa:case uA:return{byteLength:1,components:1};case nc:case cA:case vc:return{byteLength:2,components:1};case ny:case iy:return{byteLength:2,components:4};case as:case ty:case ra:return{byteLength:4,components:1};case fA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ey}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ey);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function OA(){let t=null,e=!1,n=null,i=null;function o(s,u){n(s,u),i=t.requestAnimationFrame(o)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(o),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function ON(t){const e=new WeakMap;function n(c,d){const h=c.array,p=c.usage,m=h.byteLength,g=t.createBuffer();t.bindBuffer(d,g),t.bufferData(d,h,p),c.onUploadCallback();let _;if(h instanceof Float32Array)_=t.FLOAT;else if(typeof Float16Array<"u"&&h instanceof Float16Array)_=t.HALF_FLOAT;else if(h instanceof Uint16Array)c.isFloat16BufferAttribute?_=t.HALF_FLOAT:_=t.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=t.SHORT;else if(h instanceof Uint32Array)_=t.UNSIGNED_INT;else if(h instanceof Int32Array)_=t.INT;else if(h instanceof Int8Array)_=t.BYTE;else if(h instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:g,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:c.version,size:m}}function i(c,d,h){const p=d.array,m=d.updateRanges;if(t.bindBuffer(h,c),m.length===0)t.bufferSubData(h,0,p);else{m.sort((_,b)=>_.start-b.start);let g=0;for(let _=1;_<m.length;_++){const b=m[g],M=m[_];M.start<=b.start+b.count+1?b.count=Math.max(b.count,M.start+M.count-b.start):(++g,m[g]=M)}m.length=g+1;for(let _=0,b=m.length;_<b;_++){const M=m[_];t.bufferSubData(h,M.start*p.BYTES_PER_ELEMENT,p,M.start,M.count)}d.clearUpdateRanges()}d.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=e.get(c);d&&(t.deleteBuffer(d.buffer),e.delete(c))}function u(c,d){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const p=e.get(c);(!p||p.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const h=e.get(c);if(h===void 0)e.set(c,n(c,d));else if(h.version<c.version){if(h.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(h.buffer,c,d),h.version=c.version}}return{get:o,remove:s,update:u}}var PN=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,NN=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,UN=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,LN=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,IN=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,zN=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,BN=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,FN=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kN=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,HN=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,GN=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,VN=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,jN=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,WN=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,XN=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,qN=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,YN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,KN=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$N=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ZN=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,QN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,JN=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,eU=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,tU=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,nU=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,iU=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,rU=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,aU=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,oU=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,sU=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,lU="gl_FragColor = linearToOutputTexel( gl_FragColor );",uU=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,cU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,fU=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,dU=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hU=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,pU=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,mU=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,vU=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,gU=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,yU=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,_U=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xU=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,SU=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,bU=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,MU=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,EU=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,TU=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,AU=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wU=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,CU=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,RU=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,DU=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,OU=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,PU=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,NU=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,UU=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,LU=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,IU=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,zU=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,BU=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,FU=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kU=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,HU=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GU=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,VU=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,jU=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,WU=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,XU=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qU=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,YU=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,KU=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$U=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,ZU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,QU=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,JU=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,e3=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,t3=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,n3=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,i3=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,r3=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,a3=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,o3=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,s3=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,l3=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,u3=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,c3=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,f3=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,d3=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,h3=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,p3=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,m3=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,v3=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,g3=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,y3=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,_3=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,x3=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,S3=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,b3=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,M3=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,E3=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,T3=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,A3=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,w3=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,C3=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,R3=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,D3=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const O3=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,P3=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,N3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,U3=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,L3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,I3=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,z3=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,B3=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,F3=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,k3=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,H3=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,G3=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,V3=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,j3=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,W3=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,X3=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,q3=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Y3=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,K3=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$3=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Z3=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Q3=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,J3=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eL=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tL=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,nL=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,iL=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rL=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aL=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,oL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sL=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lL=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,uL=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cL=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,yt={alphahash_fragment:PN,alphahash_pars_fragment:NN,alphamap_fragment:UN,alphamap_pars_fragment:LN,alphatest_fragment:IN,alphatest_pars_fragment:zN,aomap_fragment:BN,aomap_pars_fragment:FN,batching_pars_vertex:kN,batching_vertex:HN,begin_vertex:GN,beginnormal_vertex:VN,bsdfs:jN,iridescence_fragment:WN,bumpmap_pars_fragment:XN,clipping_planes_fragment:qN,clipping_planes_pars_fragment:YN,clipping_planes_pars_vertex:KN,clipping_planes_vertex:$N,color_fragment:ZN,color_pars_fragment:QN,color_pars_vertex:JN,color_vertex:eU,common:tU,cube_uv_reflection_fragment:nU,defaultnormal_vertex:iU,displacementmap_pars_vertex:rU,displacementmap_vertex:aU,emissivemap_fragment:oU,emissivemap_pars_fragment:sU,colorspace_fragment:lU,colorspace_pars_fragment:uU,envmap_fragment:cU,envmap_common_pars_fragment:fU,envmap_pars_fragment:dU,envmap_pars_vertex:hU,envmap_physical_pars_fragment:EU,envmap_vertex:pU,fog_vertex:mU,fog_pars_vertex:vU,fog_fragment:gU,fog_pars_fragment:yU,gradientmap_pars_fragment:_U,lightmap_pars_fragment:xU,lights_lambert_fragment:SU,lights_lambert_pars_fragment:bU,lights_pars_begin:MU,lights_toon_fragment:TU,lights_toon_pars_fragment:AU,lights_phong_fragment:wU,lights_phong_pars_fragment:CU,lights_physical_fragment:RU,lights_physical_pars_fragment:DU,lights_fragment_begin:OU,lights_fragment_maps:PU,lights_fragment_end:NU,logdepthbuf_fragment:UU,logdepthbuf_pars_fragment:LU,logdepthbuf_pars_vertex:IU,logdepthbuf_vertex:zU,map_fragment:BU,map_pars_fragment:FU,map_particle_fragment:kU,map_particle_pars_fragment:HU,metalnessmap_fragment:GU,metalnessmap_pars_fragment:VU,morphinstance_vertex:jU,morphcolor_vertex:WU,morphnormal_vertex:XU,morphtarget_pars_vertex:qU,morphtarget_vertex:YU,normal_fragment_begin:KU,normal_fragment_maps:$U,normal_pars_fragment:ZU,normal_pars_vertex:QU,normal_vertex:JU,normalmap_pars_fragment:e3,clearcoat_normal_fragment_begin:t3,clearcoat_normal_fragment_maps:n3,clearcoat_pars_fragment:i3,iridescence_pars_fragment:r3,opaque_fragment:a3,packing:o3,premultiplied_alpha_fragment:s3,project_vertex:l3,dithering_fragment:u3,dithering_pars_fragment:c3,roughnessmap_fragment:f3,roughnessmap_pars_fragment:d3,shadowmap_pars_fragment:h3,shadowmap_pars_vertex:p3,shadowmap_vertex:m3,shadowmask_pars_fragment:v3,skinbase_vertex:g3,skinning_pars_vertex:y3,skinning_vertex:_3,skinnormal_vertex:x3,specularmap_fragment:S3,specularmap_pars_fragment:b3,tonemapping_fragment:M3,tonemapping_pars_fragment:E3,transmission_fragment:T3,transmission_pars_fragment:A3,uv_pars_fragment:w3,uv_pars_vertex:C3,uv_vertex:R3,worldpos_vertex:D3,background_vert:O3,background_frag:P3,backgroundCube_vert:N3,backgroundCube_frag:U3,cube_vert:L3,cube_frag:I3,depth_vert:z3,depth_frag:B3,distanceRGBA_vert:F3,distanceRGBA_frag:k3,equirect_vert:H3,equirect_frag:G3,linedashed_vert:V3,linedashed_frag:j3,meshbasic_vert:W3,meshbasic_frag:X3,meshlambert_vert:q3,meshlambert_frag:Y3,meshmatcap_vert:K3,meshmatcap_frag:$3,meshnormal_vert:Z3,meshnormal_frag:Q3,meshphong_vert:J3,meshphong_frag:eL,meshphysical_vert:tL,meshphysical_frag:nL,meshtoon_vert:iL,meshtoon_frag:rL,points_vert:aL,points_frag:oL,shadow_vert:sL,shadow_frag:lL,sprite_vert:uL,sprite_frag:cL},Fe={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new mt},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new mt}},envmap:{envMap:{value:null},envMapRotation:{value:new mt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new mt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new mt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new mt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new mt},normalScale:{value:new Xt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new mt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new mt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new mt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new mt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0},uvTransform:{value:new mt}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new Xt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new mt},alphaMap:{value:null},alphaMapTransform:{value:new mt},alphaTest:{value:0}}},wr={basic:{uniforms:oi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.fog]),vertexShader:yt.meshbasic_vert,fragmentShader:yt.meshbasic_frag},lambert:{uniforms:oi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new Lt(0)}}]),vertexShader:yt.meshlambert_vert,fragmentShader:yt.meshlambert_frag},phong:{uniforms:oi([Fe.common,Fe.specularmap,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,Fe.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:yt.meshphong_vert,fragmentShader:yt.meshphong_frag},standard:{uniforms:oi([Fe.common,Fe.envmap,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.roughnessmap,Fe.metalnessmap,Fe.fog,Fe.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag},toon:{uniforms:oi([Fe.common,Fe.aomap,Fe.lightmap,Fe.emissivemap,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.gradientmap,Fe.fog,Fe.lights,{emissive:{value:new Lt(0)}}]),vertexShader:yt.meshtoon_vert,fragmentShader:yt.meshtoon_frag},matcap:{uniforms:oi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,Fe.fog,{matcap:{value:null}}]),vertexShader:yt.meshmatcap_vert,fragmentShader:yt.meshmatcap_frag},points:{uniforms:oi([Fe.points,Fe.fog]),vertexShader:yt.points_vert,fragmentShader:yt.points_frag},dashed:{uniforms:oi([Fe.common,Fe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:yt.linedashed_vert,fragmentShader:yt.linedashed_frag},depth:{uniforms:oi([Fe.common,Fe.displacementmap]),vertexShader:yt.depth_vert,fragmentShader:yt.depth_frag},normal:{uniforms:oi([Fe.common,Fe.bumpmap,Fe.normalmap,Fe.displacementmap,{opacity:{value:1}}]),vertexShader:yt.meshnormal_vert,fragmentShader:yt.meshnormal_frag},sprite:{uniforms:oi([Fe.sprite,Fe.fog]),vertexShader:yt.sprite_vert,fragmentShader:yt.sprite_frag},background:{uniforms:{uvTransform:{value:new mt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:yt.background_vert,fragmentShader:yt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new mt}},vertexShader:yt.backgroundCube_vert,fragmentShader:yt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:yt.cube_vert,fragmentShader:yt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:yt.equirect_vert,fragmentShader:yt.equirect_frag},distanceRGBA:{uniforms:oi([Fe.common,Fe.displacementmap,{referencePosition:{value:new fe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:yt.distanceRGBA_vert,fragmentShader:yt.distanceRGBA_frag},shadow:{uniforms:oi([Fe.lights,Fe.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:yt.shadow_vert,fragmentShader:yt.shadow_frag}};wr.physical={uniforms:oi([wr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new mt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new mt},clearcoatNormalScale:{value:new Xt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new mt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new mt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new mt},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new mt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new mt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new mt},transmissionSamplerSize:{value:new Xt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new mt},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new mt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new mt},anisotropyVector:{value:new Xt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new mt}}]),vertexShader:yt.meshphysical_vert,fragmentShader:yt.meshphysical_frag};const hd={r:0,b:0,g:0},Bo=new da,fL=new xn;function dL(t,e,n,i,o,s,u){const c=new Lt(0);let d=s===!0?0:1,h,p,m=null,g=0,_=null;function b(E){let A=E.isScene===!0?E.background:null;return A&&A.isTexture&&(A=(E.backgroundBlurriness>0?n:e).get(A)),A}function M(E){let A=!1;const C=b(E);C===null?x(c,d):C&&C.isColor&&(x(C,1),A=!0);const N=t.xr.getEnvironmentBlendMode();N==="additive"?i.buffers.color.setClear(0,0,0,1,u):N==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,u),(t.autoClear||A)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function S(E,A){const C=b(A);C&&(C.isCubeTexture||C.mapping===hh)?(p===void 0&&(p=new aa(new Sc(1,1,1),new ha({name:"BackgroundCubeMaterial",uniforms:Ml(wr.backgroundCube.uniforms),vertexShader:wr.backgroundCube.vertexShader,fragmentShader:wr.backgroundCube.fragmentShader,side:gi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(N,L,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(p)),Bo.copy(A.backgroundRotation),Bo.x*=-1,Bo.y*=-1,Bo.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(Bo.y*=-1,Bo.z*=-1),p.material.uniforms.envMap.value=C,p.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(fL.makeRotationFromEuler(Bo)),p.material.toneMapped=Ot.getTransfer(C.colorSpace)!==Wt,(m!==C||g!==C.version||_!==t.toneMapping)&&(p.material.needsUpdate=!0,m=C,g=C.version,_=t.toneMapping),p.layers.enableAll(),E.unshift(p,p.geometry,p.material,0,0,null)):C&&C.isTexture&&(h===void 0&&(h=new aa(new mh(2,2),new ha({name:"BackgroundMaterial",uniforms:Ml(wr.background.uniforms),vertexShader:wr.background.vertexShader,fragmentShader:wr.background.fragmentShader,side:so,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(h)),h.material.uniforms.t2D.value=C,h.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,h.material.toneMapped=Ot.getTransfer(C.colorSpace)!==Wt,C.matrixAutoUpdate===!0&&C.updateMatrix(),h.material.uniforms.uvTransform.value.copy(C.matrix),(m!==C||g!==C.version||_!==t.toneMapping)&&(h.material.needsUpdate=!0,m=C,g=C.version,_=t.toneMapping),h.layers.enableAll(),E.unshift(h,h.geometry,h.material,0,0,null))}function x(E,A){E.getRGB(hd,AA(t)),i.buffers.color.setClear(hd.r,hd.g,hd.b,A,u)}function w(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),h!==void 0&&(h.geometry.dispose(),h.material.dispose(),h=void 0)}return{getClearColor:function(){return c},setClearColor:function(E,A=1){c.set(E),d=A,x(c,d)},getClearAlpha:function(){return d},setClearAlpha:function(E){d=E,x(c,d)},render:M,addToRenderList:S,dispose:w}}function hL(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},o=g(null);let s=o,u=!1;function c(U,I,Y,te,ce){let oe=!1;const B=m(te,Y,I);s!==B&&(s=B,h(s.object)),oe=_(U,te,Y,ce),oe&&b(U,te,Y,ce),ce!==null&&e.update(ce,t.ELEMENT_ARRAY_BUFFER),(oe||u)&&(u=!1,A(U,I,Y,te),ce!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ce).buffer))}function d(){return t.createVertexArray()}function h(U){return t.bindVertexArray(U)}function p(U){return t.deleteVertexArray(U)}function m(U,I,Y){const te=Y.wireframe===!0;let ce=i[U.id];ce===void 0&&(ce={},i[U.id]=ce);let oe=ce[I.id];oe===void 0&&(oe={},ce[I.id]=oe);let B=oe[te];return B===void 0&&(B=g(d()),oe[te]=B),B}function g(U){const I=[],Y=[],te=[];for(let ce=0;ce<n;ce++)I[ce]=0,Y[ce]=0,te[ce]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:Y,attributeDivisors:te,object:U,attributes:{},index:null}}function _(U,I,Y,te){const ce=s.attributes,oe=I.attributes;let B=0;const q=Y.getAttributes();for(const X in q)if(q[X].location>=0){const z=ce[X];let J=oe[X];if(J===void 0&&(X==="instanceMatrix"&&U.instanceMatrix&&(J=U.instanceMatrix),X==="instanceColor"&&U.instanceColor&&(J=U.instanceColor)),z===void 0||z.attribute!==J||J&&z.data!==J.data)return!0;B++}return s.attributesNum!==B||s.index!==te}function b(U,I,Y,te){const ce={},oe=I.attributes;let B=0;const q=Y.getAttributes();for(const X in q)if(q[X].location>=0){let z=oe[X];z===void 0&&(X==="instanceMatrix"&&U.instanceMatrix&&(z=U.instanceMatrix),X==="instanceColor"&&U.instanceColor&&(z=U.instanceColor));const J={};J.attribute=z,z&&z.data&&(J.data=z.data),ce[X]=J,B++}s.attributes=ce,s.attributesNum=B,s.index=te}function M(){const U=s.newAttributes;for(let I=0,Y=U.length;I<Y;I++)U[I]=0}function S(U){x(U,0)}function x(U,I){const Y=s.newAttributes,te=s.enabledAttributes,ce=s.attributeDivisors;Y[U]=1,te[U]===0&&(t.enableVertexAttribArray(U),te[U]=1),ce[U]!==I&&(t.vertexAttribDivisor(U,I),ce[U]=I)}function w(){const U=s.newAttributes,I=s.enabledAttributes;for(let Y=0,te=I.length;Y<te;Y++)I[Y]!==U[Y]&&(t.disableVertexAttribArray(Y),I[Y]=0)}function E(U,I,Y,te,ce,oe,B){B===!0?t.vertexAttribIPointer(U,I,Y,ce,oe):t.vertexAttribPointer(U,I,Y,te,ce,oe)}function A(U,I,Y,te){M();const ce=te.attributes,oe=Y.getAttributes(),B=I.defaultAttributeValues;for(const q in oe){const X=oe[q];if(X.location>=0){let ye=ce[q];if(ye===void 0&&(q==="instanceMatrix"&&U.instanceMatrix&&(ye=U.instanceMatrix),q==="instanceColor"&&U.instanceColor&&(ye=U.instanceColor)),ye!==void 0){const z=ye.normalized,J=ye.itemSize,se=e.get(ye);if(se===void 0)continue;const Ee=se.buffer,Ne=se.type,ie=se.bytesPerElement,_e=Ne===t.INT||Ne===t.UNSIGNED_INT||ye.gpuType===ty;if(ye.isInterleavedBufferAttribute){const Te=ye.data,Ie=Te.stride,ge=ye.offset;if(Te.isInstancedInterleavedBuffer){for(let De=0;De<X.locationSize;De++)x(X.location+De,Te.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Te.meshPerAttribute*Te.count)}else for(let De=0;De<X.locationSize;De++)S(X.location+De);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let De=0;De<X.locationSize;De++)E(X.location+De,J/X.locationSize,Ne,z,Ie*ie,(ge+J/X.locationSize*De)*ie,_e)}else{if(ye.isInstancedBufferAttribute){for(let Te=0;Te<X.locationSize;Te++)x(X.location+Te,ye.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let Te=0;Te<X.locationSize;Te++)S(X.location+Te);t.bindBuffer(t.ARRAY_BUFFER,Ee);for(let Te=0;Te<X.locationSize;Te++)E(X.location+Te,J/X.locationSize,Ne,z,J*ie,J/X.locationSize*Te*ie,_e)}}else if(B!==void 0){const z=B[q];if(z!==void 0)switch(z.length){case 2:t.vertexAttrib2fv(X.location,z);break;case 3:t.vertexAttrib3fv(X.location,z);break;case 4:t.vertexAttrib4fv(X.location,z);break;default:t.vertexAttrib1fv(X.location,z)}}}}w()}function C(){H();for(const U in i){const I=i[U];for(const Y in I){const te=I[Y];for(const ce in te)p(te[ce].object),delete te[ce];delete I[Y]}delete i[U]}}function N(U){if(i[U.id]===void 0)return;const I=i[U.id];for(const Y in I){const te=I[Y];for(const ce in te)p(te[ce].object),delete te[ce];delete I[Y]}delete i[U.id]}function L(U){for(const I in i){const Y=i[I];if(Y[U.id]===void 0)continue;const te=Y[U.id];for(const ce in te)p(te[ce].object),delete te[ce];delete Y[U.id]}}function H(){P(),u=!0,s!==o&&(s=o,h(s.object))}function P(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:c,reset:H,resetDefaultState:P,dispose:C,releaseStatesOfGeometry:N,releaseStatesOfProgram:L,initAttributes:M,enableAttribute:S,disableUnusedAttributes:w}}function pL(t,e,n){let i;function o(h){i=h}function s(h,p){t.drawArrays(i,h,p),n.update(p,i,1)}function u(h,p,m){m!==0&&(t.drawArraysInstanced(i,h,p,m),n.update(p,i,m))}function c(h,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,h,0,p,0,m);let _=0;for(let b=0;b<m;b++)_+=p[b];n.update(_,i,1)}function d(h,p,m,g){if(m===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let b=0;b<h.length;b++)u(h[b],p[b],g[b]);else{_.multiDrawArraysInstancedWEBGL(i,h,0,p,0,g,0,m);let b=0;for(let M=0;M<m;M++)b+=p[M]*g[M];n.update(b,i,1)}}this.setMode=o,this.render=s,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function mL(t,e,n,i){let o;function s(){if(o!==void 0)return o;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");o=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o}function u(L){return!(L!==gr&&i.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(L){const H=L===vc&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(L!==fa&&i.convert(L)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&L!==ra&&!H)}function d(L){if(L==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=n.precision!==void 0?n.precision:"highp";const p=d(h);p!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",p,"instead."),h=p);const m=n.logarithmicDepthBuffer===!0,g=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),_=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),M=t.getParameter(t.MAX_TEXTURE_SIZE),S=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),E=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=b>0,N=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:d,textureFormatReadable:u,textureTypeReadable:c,precision:h,logarithmicDepthBuffer:m,reversedDepthBuffer:g,maxTextures:_,maxVertexTextures:b,maxTextureSize:M,maxCubemapSize:S,maxAttributes:x,maxVertexUniforms:w,maxVaryings:E,maxFragmentUniforms:A,vertexTextures:C,maxSamples:N}}function vL(t){const e=this;let n=null,i=0,o=!1,s=!1;const u=new ko,c=new mt,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const _=m.length!==0||g||i!==0||o;return o=g,i=m.length,_},this.beginShadows=function(){s=!0,p(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(m,g){n=p(m,g,0)},this.setState=function(m,g,_){const b=m.clippingPlanes,M=m.clipIntersection,S=m.clipShadows,x=t.get(m);if(!o||b===null||b.length===0||s&&!S)s?p(null):h();else{const w=s?0:i,E=w*4;let A=x.clippingState||null;d.value=A,A=p(b,g,E,_);for(let C=0;C!==E;++C)A[C]=n[C];x.clippingState=A,this.numIntersection=M?this.numPlanes:0,this.numPlanes+=w}};function h(){d.value!==n&&(d.value=n,d.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function p(m,g,_,b){const M=m!==null?m.length:0;let S=null;if(M!==0){if(S=d.value,b!==!0||S===null){const x=_+M*4,w=g.matrixWorldInverse;c.getNormalMatrix(w),(S===null||S.length<x)&&(S=new Float32Array(x));for(let E=0,A=_;E!==M;++E,A+=4)u.copy(m[E]).applyMatrix4(w,c),u.normal.toArray(S,A),S[A+3]=u.constant}d.value=S,d.needsUpdate=!0}return e.numPlanes=M,e.numIntersection=0,S}}function gL(t){let e=new WeakMap;function n(u,c){return c===Hg?u.mapping=xl:c===Gg&&(u.mapping=Sl),u}function i(u){if(u&&u.isTexture){const c=u.mapping;if(c===Hg||c===Gg)if(e.has(u)){const d=e.get(u).texture;return n(d,u.mapping)}else{const d=u.image;if(d&&d.height>0){const h=new gN(d.height);return h.fromEquirectangularTexture(t,u),e.set(u,h),u.addEventListener("dispose",o),n(h.texture,u.mapping)}else return null}}return u}function o(u){const c=u.target;c.removeEventListener("dispose",o);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const dl=4,LM=[.125,.215,.35,.446,.526,.582],Xo=20,bv=new wN,IM=new Lt;let Mv=null,Ev=0,Tv=0,Av=!1;const Ho=(1+Math.sqrt(5))/2,cl=1/Ho,zM=[new fe(-Ho,cl,0),new fe(Ho,cl,0),new fe(-cl,0,Ho),new fe(cl,0,Ho),new fe(0,Ho,-cl),new fe(0,Ho,cl),new fe(-1,1,-1),new fe(1,1,-1),new fe(-1,1,1),new fe(1,1,1)],yL=new fe;class BM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,o=100,s={}){const{size:u=256,position:c=yL}=s;Mv=this._renderer.getRenderTarget(),Ev=this._renderer.getActiveCubeFace(),Tv=this._renderer.getActiveMipmapLevel(),Av=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(u);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,i,o,d,c),n>0&&this._blur(d,0,0,n),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=HM(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=kM(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Mv,Ev,Tv),this._renderer.xr.enabled=Av,e.scissorTest=!1,pd(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===xl||e.mapping===Sl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Mv=this._renderer.getRenderTarget(),Ev=this._renderer.getActiveCubeFace(),Tv=this._renderer.getActiveMipmapLevel(),Av=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Rr,minFilter:Rr,generateMipmaps:!1,type:vc,format:gr,colorSpace:bl,depthBuffer:!1},o=FM(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FM(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_L(s)),this._blurMaterial=xL(s,e,n)}return o}_compileMaterial(e){const n=new aa(this._lodPlanes[0],e);this._renderer.compile(n,bv)}_sceneToCubeUV(e,n,i,o,s){const d=new Zi(90,1,n,i),h=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,_=m.toneMapping;m.getClearColor(IM),m.toneMapping=ro,m.autoClear=!1,m.state.buffers.depth.getReversed()&&(m.setRenderTarget(o),m.clearDepth(),m.setRenderTarget(null));const M=new MA({name:"PMREM.Background",side:gi,depthWrite:!1,depthTest:!1}),S=new aa(new Sc,M);let x=!1;const w=e.background;w?w.isColor&&(M.color.copy(w),e.background=null,x=!0):(M.color.copy(IM),x=!0);for(let E=0;E<6;E++){const A=E%3;A===0?(d.up.set(0,h[E],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x+p[E],s.y,s.z)):A===1?(d.up.set(0,0,h[E]),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y+p[E],s.z)):(d.up.set(0,h[E],0),d.position.set(s.x,s.y,s.z),d.lookAt(s.x,s.y,s.z+p[E]));const C=this._cubeSize;pd(o,A*C,E>2?C:0,C,C),m.setRenderTarget(o),x&&m.render(S,d),m.render(e,d)}S.geometry.dispose(),S.material.dispose(),m.toneMapping=_,m.autoClear=g,e.background=w}_textureToCubeUV(e,n){const i=this._renderer,o=e.mapping===xl||e.mapping===Sl;o?(this._cubemapMaterial===null&&(this._cubemapMaterial=HM()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=kM());const s=o?this._cubemapMaterial:this._equirectMaterial,u=new aa(this._lodPlanes[0],s),c=s.uniforms;c.envMap.value=e;const d=this._cubeSize;pd(n,0,0,3*d,2*d),i.setRenderTarget(n),i.render(u,bv)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const o=this._lodPlanes.length;for(let s=1;s<o;s++){const u=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),c=zM[(o-s-1)%zM.length];this._blur(e,s-1,s,u,c)}n.autoClear=i}_blur(e,n,i,o,s){const u=this._pingPongRenderTarget;this._halfBlur(e,u,n,i,o,"latitudinal",s),this._halfBlur(u,e,i,i,o,"longitudinal",s)}_halfBlur(e,n,i,o,s,u,c){const d=this._renderer,h=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,m=new aa(this._lodPlanes[o],h),g=h.uniforms,_=this._sizeLods[i]-1,b=isFinite(s)?Math.PI/(2*_):2*Math.PI/(2*Xo-1),M=s/b,S=isFinite(s)?1+Math.floor(p*M):Xo;S>Xo&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${S} samples when the maximum is set to ${Xo}`);const x=[];let w=0;for(let L=0;L<Xo;++L){const H=L/M,P=Math.exp(-H*H/2);x.push(P),L===0?w+=P:L<S&&(w+=2*P)}for(let L=0;L<x.length;L++)x[L]=x[L]/w;g.envMap.value=e.texture,g.samples.value=S,g.weights.value=x,g.latitudinal.value=u==="latitudinal",c&&(g.poleAxis.value=c);const{_lodMax:E}=this;g.dTheta.value=b,g.mipInt.value=E-i;const A=this._sizeLods[o],C=3*A*(o>E-dl?o-E+dl:0),N=4*(this._cubeSize-A);pd(n,C,N,3*A,2*A),d.setRenderTarget(n),d.render(m,bv)}}function _L(t){const e=[],n=[],i=[];let o=t;const s=t-dl+1+LM.length;for(let u=0;u<s;u++){const c=Math.pow(2,o);n.push(c);let d=1/c;u>t-dl?d=LM[u-t+dl-1]:u===0&&(d=0),i.push(d);const h=1/(c-2),p=-h,m=1+h,g=[p,p,m,p,m,m,p,p,m,m,p,m],_=6,b=6,M=3,S=2,x=1,w=new Float32Array(M*b*_),E=new Float32Array(S*b*_),A=new Float32Array(x*b*_);for(let N=0;N<_;N++){const L=N%3*2/3-1,H=N>2?0:-1,P=[L,H,0,L+2/3,H,0,L+2/3,H+1,0,L,H,0,L+2/3,H+1,0,L,H+1,0];w.set(P,M*b*N),E.set(g,S*b*N);const U=[N,N,N,N,N,N];A.set(U,x*b*N)}const C=new ya;C.setAttribute("position",new zi(w,M)),C.setAttribute("uv",new zi(E,S)),C.setAttribute("faceIndex",new zi(A,x)),e.push(C),o>dl&&o--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function FM(t,e,n){const i=new os(t,e,n);return i.texture.mapping=hh,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function pd(t,e,n,i,o){t.viewport.set(e,n,i,o),t.scissor.set(e,n,i,o)}function xL(t,e,n){const i=new Float32Array(Xo),o=new fe(0,1,0);return new ha({name:"SphericalGaussianBlur",defines:{n:Xo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:o}},vertexShader:ly(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function kM(){return new ha({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:ly(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function HM(){return new ha({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:ly(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:io,depthTest:!1,depthWrite:!1})}function ly(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function SL(t){let e=new WeakMap,n=null;function i(c){if(c&&c.isTexture){const d=c.mapping,h=d===Hg||d===Gg,p=d===xl||d===Sl;if(h||p){let m=e.get(c);const g=m!==void 0?m.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==g)return n===null&&(n=new BM(t)),m=h?n.fromEquirectangular(c,m):n.fromCubemap(c,m),m.texture.pmremVersion=c.pmremVersion,e.set(c,m),m.texture;if(m!==void 0)return m.texture;{const _=c.image;return h&&_&&_.height>0||p&&_&&o(_)?(n===null&&(n=new BM(t)),m=h?n.fromEquirectangular(c):n.fromCubemap(c),m.texture.pmremVersion=c.pmremVersion,e.set(c,m),c.addEventListener("dispose",s),m.texture):null}}}return c}function o(c){let d=0;const h=6;for(let p=0;p<h;p++)c[p]!==void 0&&d++;return d===h}function s(c){const d=c.target;d.removeEventListener("dispose",s);const h=e.get(d);h!==void 0&&(e.delete(d),h.dispose())}function u(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:u}}function bL(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let o;switch(i){case"WEBGL_depth_texture":o=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":o=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":o=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":o=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:o=t.getExtension(i)}return e[i]=o,o}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const o=n(i);return o===null&&ml("THREE.WebGLRenderer: "+i+" extension not supported."),o}}}function ML(t,e,n,i){const o={},s=new WeakMap;function u(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const b in g.attributes)e.remove(g.attributes[b]);g.removeEventListener("dispose",u),delete o[g.id];const _=s.get(g);_&&(e.remove(_),s.delete(g)),i.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function c(m,g){return o[g.id]===!0||(g.addEventListener("dispose",u),o[g.id]=!0,n.memory.geometries++),g}function d(m){const g=m.attributes;for(const _ in g)e.update(g[_],t.ARRAY_BUFFER)}function h(m){const g=[],_=m.index,b=m.attributes.position;let M=0;if(_!==null){const w=_.array;M=_.version;for(let E=0,A=w.length;E<A;E+=3){const C=w[E+0],N=w[E+1],L=w[E+2];g.push(C,N,N,L,L,C)}}else if(b!==void 0){const w=b.array;M=b.version;for(let E=0,A=w.length/3-1;E<A;E+=3){const C=E+0,N=E+1,L=E+2;g.push(C,N,N,L,L,C)}}else return;const S=new(yA(g)?TA:EA)(g,1);S.version=M;const x=s.get(m);x&&e.remove(x),s.set(m,S)}function p(m){const g=s.get(m);if(g){const _=m.index;_!==null&&g.version<_.version&&h(m)}else h(m);return s.get(m)}return{get:c,update:d,getWireframeAttribute:p}}function EL(t,e,n){let i;function o(g){i=g}let s,u;function c(g){s=g.type,u=g.bytesPerElement}function d(g,_){t.drawElements(i,_,s,g*u),n.update(_,i,1)}function h(g,_,b){b!==0&&(t.drawElementsInstanced(i,_,s,g*u,b),n.update(_,i,b))}function p(g,_,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,_,0,s,g,0,b);let S=0;for(let x=0;x<b;x++)S+=_[x];n.update(S,i,1)}function m(g,_,b,M){if(b===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let x=0;x<g.length;x++)h(g[x]/u,_[x],M[x]);else{S.multiDrawElementsInstancedWEBGL(i,_,0,s,g,0,M,0,b);let x=0;for(let w=0;w<b;w++)x+=_[w]*M[w];n.update(x,i,1)}}this.setMode=o,this.setIndex=c,this.render=d,this.renderInstances=h,this.renderMultiDraw=p,this.renderMultiDrawInstances=m}function TL(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,u,c){switch(n.calls++,u){case t.TRIANGLES:n.triangles+=c*(s/3);break;case t.LINES:n.lines+=c*(s/2);break;case t.LINE_STRIP:n.lines+=c*(s-1);break;case t.LINE_LOOP:n.lines+=c*s;break;case t.POINTS:n.points+=c*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",u);break}}function o(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:o,update:i}}function AL(t,e,n){const i=new WeakMap,o=new mn;function s(u,c,d){const h=u.morphTargetInfluences,p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=p!==void 0?p.length:0;let g=i.get(c);if(g===void 0||g.count!==m){let U=function(){H.dispose(),i.delete(c),c.removeEventListener("dispose",U)};var _=U;g!==void 0&&g.texture.dispose();const b=c.morphAttributes.position!==void 0,M=c.morphAttributes.normal!==void 0,S=c.morphAttributes.color!==void 0,x=c.morphAttributes.position||[],w=c.morphAttributes.normal||[],E=c.morphAttributes.color||[];let A=0;b===!0&&(A=1),M===!0&&(A=2),S===!0&&(A=3);let C=c.attributes.position.count*A,N=1;C>e.maxTextureSize&&(N=Math.ceil(C/e.maxTextureSize),C=e.maxTextureSize);const L=new Float32Array(C*N*4*m),H=new _A(L,C,N,m);H.type=ra,H.needsUpdate=!0;const P=A*4;for(let I=0;I<m;I++){const Y=x[I],te=w[I],ce=E[I],oe=C*N*4*I;for(let B=0;B<Y.count;B++){const q=B*P;b===!0&&(o.fromBufferAttribute(Y,B),L[oe+q+0]=o.x,L[oe+q+1]=o.y,L[oe+q+2]=o.z,L[oe+q+3]=0),M===!0&&(o.fromBufferAttribute(te,B),L[oe+q+4]=o.x,L[oe+q+5]=o.y,L[oe+q+6]=o.z,L[oe+q+7]=0),S===!0&&(o.fromBufferAttribute(ce,B),L[oe+q+8]=o.x,L[oe+q+9]=o.y,L[oe+q+10]=o.z,L[oe+q+11]=ce.itemSize===4?o.w:1)}}g={count:m,texture:H,size:new Xt(C,N)},i.set(c,g),c.addEventListener("dispose",U)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)d.getUniforms().setValue(t,"morphTexture",u.morphTexture,n);else{let b=0;for(let S=0;S<h.length;S++)b+=h[S];const M=c.morphTargetsRelative?1:1-b;d.getUniforms().setValue(t,"morphTargetBaseInfluence",M),d.getUniforms().setValue(t,"morphTargetInfluences",h)}d.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}return{update:s}}function wL(t,e,n,i){let o=new WeakMap;function s(d){const h=i.render.frame,p=d.geometry,m=e.get(d,p);if(o.get(m)!==h&&(e.update(m),o.set(m,h)),d.isInstancedMesh&&(d.hasEventListener("dispose",c)===!1&&d.addEventListener("dispose",c),o.get(d)!==h&&(n.update(d.instanceMatrix,t.ARRAY_BUFFER),d.instanceColor!==null&&n.update(d.instanceColor,t.ARRAY_BUFFER),o.set(d,h))),d.isSkinnedMesh){const g=d.skeleton;o.get(g)!==h&&(g.update(),o.set(g,h))}return m}function u(){o=new WeakMap}function c(d){const h=d.target;h.removeEventListener("dispose",c),n.remove(h.instanceMatrix),h.instanceColor!==null&&n.remove(h.instanceColor)}return{update:s,dispose:u}}const PA=new yi,GM=new DA(1,1),NA=new _A,UA=new eN,LA=new CA,VM=[],jM=[],WM=new Float32Array(16),XM=new Float32Array(9),qM=new Float32Array(4);function Ll(t,e,n){const i=t[0];if(i<=0||i>0)return t;const o=e*n;let s=VM[o];if(s===void 0&&(s=new Float32Array(o),VM[o]=s),e!==0){i.toArray(s,0);for(let u=1,c=0;u!==e;++u)c+=n,t[u].toArray(s,c)}return s}function Rn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Dn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function vh(t,e){let n=jM[e];n===void 0&&(n=new Int32Array(e),jM[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function CL(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function RL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2fv(this.addr,e),Dn(n,e)}}function DL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Rn(n,e))return;t.uniform3fv(this.addr,e),Dn(n,e)}}function OL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4fv(this.addr,e),Dn(n,e)}}function PL(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Dn(n,e)}else{if(Rn(n,i))return;qM.set(i),t.uniformMatrix2fv(this.addr,!1,qM),Dn(n,i)}}function NL(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Dn(n,e)}else{if(Rn(n,i))return;XM.set(i),t.uniformMatrix3fv(this.addr,!1,XM),Dn(n,i)}}function UL(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Dn(n,e)}else{if(Rn(n,i))return;WM.set(i),t.uniformMatrix4fv(this.addr,!1,WM),Dn(n,i)}}function LL(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function IL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2iv(this.addr,e),Dn(n,e)}}function zL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3iv(this.addr,e),Dn(n,e)}}function BL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4iv(this.addr,e),Dn(n,e)}}function FL(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function kL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2uiv(this.addr,e),Dn(n,e)}}function HL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3uiv(this.addr,e),Dn(n,e)}}function GL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4uiv(this.addr,e),Dn(n,e)}}function VL(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o);let s;this.type===t.SAMPLER_2D_SHADOW?(GM.compareFunction=gA,s=GM):s=PA,n.setTexture2D(e||s,o)}function jL(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture3D(e||UA,o)}function WL(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTextureCube(e||LA,o)}function XL(t,e,n){const i=this.cache,o=n.allocateTextureUnit();i[0]!==o&&(t.uniform1i(this.addr,o),i[0]=o),n.setTexture2DArray(e||NA,o)}function qL(t){switch(t){case 5126:return CL;case 35664:return RL;case 35665:return DL;case 35666:return OL;case 35674:return PL;case 35675:return NL;case 35676:return UL;case 5124:case 35670:return LL;case 35667:case 35671:return IL;case 35668:case 35672:return zL;case 35669:case 35673:return BL;case 5125:return FL;case 36294:return kL;case 36295:return HL;case 36296:return GL;case 35678:case 36198:case 36298:case 36306:case 35682:return VL;case 35679:case 36299:case 36307:return jL;case 35680:case 36300:case 36308:case 36293:return WL;case 36289:case 36303:case 36311:case 36292:return XL}}function YL(t,e){t.uniform1fv(this.addr,e)}function KL(t,e){const n=Ll(e,this.size,2);t.uniform2fv(this.addr,n)}function $L(t,e){const n=Ll(e,this.size,3);t.uniform3fv(this.addr,n)}function ZL(t,e){const n=Ll(e,this.size,4);t.uniform4fv(this.addr,n)}function QL(t,e){const n=Ll(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function JL(t,e){const n=Ll(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function eI(t,e){const n=Ll(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function tI(t,e){t.uniform1iv(this.addr,e)}function nI(t,e){t.uniform2iv(this.addr,e)}function iI(t,e){t.uniform3iv(this.addr,e)}function rI(t,e){t.uniform4iv(this.addr,e)}function aI(t,e){t.uniform1uiv(this.addr,e)}function oI(t,e){t.uniform2uiv(this.addr,e)}function sI(t,e){t.uniform3uiv(this.addr,e)}function lI(t,e){t.uniform4uiv(this.addr,e)}function uI(t,e,n){const i=this.cache,o=e.length,s=vh(n,o);Rn(i,s)||(t.uniform1iv(this.addr,s),Dn(i,s));for(let u=0;u!==o;++u)n.setTexture2D(e[u]||PA,s[u])}function cI(t,e,n){const i=this.cache,o=e.length,s=vh(n,o);Rn(i,s)||(t.uniform1iv(this.addr,s),Dn(i,s));for(let u=0;u!==o;++u)n.setTexture3D(e[u]||UA,s[u])}function fI(t,e,n){const i=this.cache,o=e.length,s=vh(n,o);Rn(i,s)||(t.uniform1iv(this.addr,s),Dn(i,s));for(let u=0;u!==o;++u)n.setTextureCube(e[u]||LA,s[u])}function dI(t,e,n){const i=this.cache,o=e.length,s=vh(n,o);Rn(i,s)||(t.uniform1iv(this.addr,s),Dn(i,s));for(let u=0;u!==o;++u)n.setTexture2DArray(e[u]||NA,s[u])}function hI(t){switch(t){case 5126:return YL;case 35664:return KL;case 35665:return $L;case 35666:return ZL;case 35674:return QL;case 35675:return JL;case 35676:return eI;case 5124:case 35670:return tI;case 35667:case 35671:return nI;case 35668:case 35672:return iI;case 35669:case 35673:return rI;case 5125:return aI;case 36294:return oI;case 36295:return sI;case 36296:return lI;case 35678:case 36198:case 36298:case 36306:case 35682:return uI;case 35679:case 36299:case 36307:return cI;case 35680:case 36300:case 36308:case 36293:return fI;case 36289:case 36303:case 36311:case 36292:return dI}}class pI{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=qL(n.type)}}class mI{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=hI(n.type)}}class vI{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const o=this.seq;for(let s=0,u=o.length;s!==u;++s){const c=o[s];c.setValue(e,n[c.id],i)}}}const wv=/(\w+)(\])?(\[|\.)?/g;function YM(t,e){t.seq.push(e),t.map[e.id]=e}function gI(t,e,n){const i=t.name,o=i.length;for(wv.lastIndex=0;;){const s=wv.exec(i),u=wv.lastIndex;let c=s[1];const d=s[2]==="]",h=s[3];if(d&&(c=c|0),h===void 0||h==="["&&u+2===o){YM(n,h===void 0?new pI(c,t,e):new mI(c,t,e));break}else{let m=n.map[c];m===void 0&&(m=new vI(c),YM(n,m)),n=m}}}class Od{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let o=0;o<i;++o){const s=e.getActiveUniform(n,o),u=e.getUniformLocation(n,s.name);gI(s,u,this)}}setValue(e,n,i,o){const s=this.map[n];s!==void 0&&s.setValue(e,i,o)}setOptional(e,n,i){const o=n[i];o!==void 0&&this.setValue(e,i,o)}static upload(e,n,i,o){for(let s=0,u=n.length;s!==u;++s){const c=n[s],d=i[c.id];d.needsUpdate!==!1&&c.setValue(e,d.value,o)}}static seqWithValue(e,n){const i=[];for(let o=0,s=e.length;o!==s;++o){const u=e[o];u.id in n&&i.push(u)}return i}}function KM(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const yI=37297;let _I=0;function xI(t,e){const n=t.split(`
`),i=[],o=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let u=o;u<s;u++){const c=u+1;i.push(`${c===e?">":" "} ${c}: ${n[u]}`)}return i.join(`
`)}const $M=new mt;function SI(t){Ot._getMatrix($M,Ot.workingColorSpace,t);const e=`mat3( ${$M.elements.map(n=>n.toFixed(4))} )`;switch(Ot.getTransfer(t)){case Nd:return[e,"LinearTransferOETF"];case Wt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function ZM(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const u=/ERROR: 0:(\d+)/.exec(s);if(u){const c=parseInt(u[1]);return n.toUpperCase()+`

`+s+`

`+xI(t.getShaderSource(e),c)}else return s}function bI(t,e){const n=SI(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function MI(t,e){let n;switch(e){case wP:n="Linear";break;case CP:n="Reinhard";break;case RP:n="Cineon";break;case DP:n="ACESFilmic";break;case PP:n="AgX";break;case NP:n="Neutral";break;case OP:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const md=new fe;function EI(){Ot.getLuminanceCoefficients(md);const t=md.x.toFixed(4),e=md.y.toFixed(4),n=md.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function TI(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Zu).join(`
`)}function AI(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function wI(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let o=0;o<i;o++){const s=t.getActiveAttrib(e,o),u=s.name;let c=1;s.type===t.FLOAT_MAT2&&(c=2),s.type===t.FLOAT_MAT3&&(c=3),s.type===t.FLOAT_MAT4&&(c=4),n[u]={type:s.type,location:t.getAttribLocation(e,u),locationSize:c}}return n}function Zu(t){return t!==""}function QM(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JM(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const CI=/^[ \t]*#include +<([\w\d./]+)>/gm;function _0(t){return t.replace(CI,DI)}const RI=new Map;function DI(t,e){let n=yt[e];if(n===void 0){const i=RI.get(e);if(i!==void 0)n=yt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return _0(n)}const OI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function eE(t){return t.replace(OI,PI)}function PI(t,e,n,i){let o="";for(let s=parseInt(e);s<parseInt(n);s++)o+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return o}function tE(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function NI(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===oA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===oP?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ta&&(e="SHADOWMAP_TYPE_VSM"),e}function UI(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case xl:case Sl:e="ENVMAP_TYPE_CUBE";break;case hh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function LI(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Sl:e="ENVMAP_MODE_REFRACTION";break}return e}function II(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case sA:e="ENVMAP_BLENDING_MULTIPLY";break;case TP:e="ENVMAP_BLENDING_MIX";break;case AP:e="ENVMAP_BLENDING_ADD";break}return e}function zI(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}function BI(t,e,n,i){const o=t.getContext(),s=n.defines;let u=n.vertexShader,c=n.fragmentShader;const d=NI(n),h=UI(n),p=LI(n),m=II(n),g=zI(n),_=TI(n),b=AI(s),M=o.createProgram();let S,x,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(S=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Zu).join(`
`),S.length>0&&(S+=`
`),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b].filter(Zu).join(`
`),x.length>0&&(x+=`
`)):(S=[tE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Zu).join(`
`),x=[tE(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,b,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",n.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+d:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ro?"#define TONE_MAPPING":"",n.toneMapping!==ro?yt.tonemapping_pars_fragment:"",n.toneMapping!==ro?MI("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",yt.colorspace_pars_fragment,bI("linearToOutputTexel",n.outputColorSpace),EI(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Zu).join(`
`)),u=_0(u),u=QM(u,n),u=JM(u,n),c=_0(c),c=QM(c,n),c=JM(c,n),u=eE(u),c=eE(c),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,S=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+S,x=["#define varying in",n.glslVersion===pM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===pM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const E=w+S+u,A=w+x+c,C=KM(o,o.VERTEX_SHADER,E),N=KM(o,o.FRAGMENT_SHADER,A);o.attachShader(M,C),o.attachShader(M,N),n.index0AttributeName!==void 0?o.bindAttribLocation(M,0,n.index0AttributeName):n.morphTargets===!0&&o.bindAttribLocation(M,0,"position"),o.linkProgram(M);function L(I){if(t.debug.checkShaderErrors){const Y=o.getProgramInfoLog(M)||"",te=o.getShaderInfoLog(C)||"",ce=o.getShaderInfoLog(N)||"",oe=Y.trim(),B=te.trim(),q=ce.trim();let X=!0,ye=!0;if(o.getProgramParameter(M,o.LINK_STATUS)===!1)if(X=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(o,M,C,N);else{const z=ZM(o,C,"vertex"),J=ZM(o,N,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(M,o.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+oe+`
`+z+`
`+J)}else oe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",oe):(B===""||q==="")&&(ye=!1);ye&&(I.diagnostics={runnable:X,programLog:oe,vertexShader:{log:B,prefix:S},fragmentShader:{log:q,prefix:x}})}o.deleteShader(C),o.deleteShader(N),H=new Od(o,M),P=wI(o,M)}let H;this.getUniforms=function(){return H===void 0&&L(this),H};let P;this.getAttributes=function(){return P===void 0&&L(this),P};let U=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return U===!1&&(U=o.getProgramParameter(M,yI)),U},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(M),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=_I++,this.cacheKey=e,this.usedTimes=1,this.program=M,this.vertexShader=C,this.fragmentShader=N,this}let FI=0;class kI{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,o=this._getShaderStage(n),s=this._getShaderStage(i),u=this._getShaderCacheForMaterial(e);return u.has(o)===!1&&(u.add(o),o.usedTimes++),u.has(s)===!1&&(u.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new HI(e),n.set(e,i)),i}}class HI{constructor(e){this.id=FI++,this.code=e,this.usedTimes=0}}function GI(t,e,n,i,o,s,u){const c=new SA,d=new kI,h=new Set,p=[],m=o.logarithmicDepthBuffer,g=o.vertexTextures;let _=o.precision;const b={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function M(P){return h.add(P),P===0?"uv":`uv${P}`}function S(P,U,I,Y,te){const ce=Y.fog,oe=te.geometry,B=P.isMeshStandardMaterial?Y.environment:null,q=(P.isMeshStandardMaterial?n:e).get(P.envMap||B),X=q&&q.mapping===hh?q.image.height:null,ye=b[P.type];P.precision!==null&&(_=o.getMaxPrecision(P.precision),_!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",_,"instead."));const z=oe.morphAttributes.position||oe.morphAttributes.normal||oe.morphAttributes.color,J=z!==void 0?z.length:0;let se=0;oe.morphAttributes.position!==void 0&&(se=1),oe.morphAttributes.normal!==void 0&&(se=2),oe.morphAttributes.color!==void 0&&(se=3);let Ee,Ne,ie,_e;if(ye){const Ct=wr[ye];Ee=Ct.vertexShader,Ne=Ct.fragmentShader}else Ee=P.vertexShader,Ne=P.fragmentShader,d.update(P),ie=d.getVertexShaderID(P),_e=d.getFragmentShaderID(P);const Te=t.getRenderTarget(),Ie=t.state.buffers.depth.getReversed(),ge=te.isInstancedMesh===!0,De=te.isBatchedMesh===!0,Qe=!!P.map,he=!!P.matcap,V=!!q,et=!!P.aoMap,Ve=!!P.lightMap,ut=!!P.bumpMap,ke=!!P.normalMap,It=!!P.displacementMap,Xe=!!P.emissiveMap,dt=!!P.metalnessMap,rn=!!P.roughnessMap,an=P.anisotropy>0,k=P.clearcoat>0,R=P.dispersion>0,ne=P.iridescence>0,me=P.sheen>0,Me=P.transmission>0,de=an&&!!P.anisotropyMap,He=k&&!!P.clearcoatMap,Oe=k&&!!P.clearcoatNormalMap,$e=k&&!!P.clearcoatRoughnessMap,Je=ne&&!!P.iridescenceMap,Ae=ne&&!!P.iridescenceThicknessMap,ze=me&&!!P.sheenColorMap,nt=me&&!!P.sheenRoughnessMap,Ke=!!P.specularMap,Ue=!!P.specularColorMap,ft=!!P.specularIntensityMap,W=Me&&!!P.transmissionMap,Re=Me&&!!P.thicknessMap,Pe=!!P.gradientMap,Ge=!!P.alphaMap,we=P.alphaTest>0,be=!!P.alphaHash,Ye=!!P.extensions;let ct=ro;P.toneMapped&&(Te===null||Te.isXRRenderTarget===!0)&&(ct=t.toneMapping);const Ut={shaderID:ye,shaderType:P.type,shaderName:P.name,vertexShader:Ee,fragmentShader:Ne,defines:P.defines,customVertexShaderID:ie,customFragmentShaderID:_e,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:_,batching:De,batchingColor:De&&te._colorsTexture!==null,instancing:ge,instancingColor:ge&&te.instanceColor!==null,instancingMorph:ge&&te.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:Te===null?t.outputColorSpace:Te.isXRRenderTarget===!0?Te.texture.colorSpace:bl,alphaToCoverage:!!P.alphaToCoverage,map:Qe,matcap:he,envMap:V,envMapMode:V&&q.mapping,envMapCubeUVHeight:X,aoMap:et,lightMap:Ve,bumpMap:ut,normalMap:ke,displacementMap:g&&It,emissiveMap:Xe,normalMapObjectSpace:ke&&P.normalMapType===BP,normalMapTangentSpace:ke&&P.normalMapType===zP,metalnessMap:dt,roughnessMap:rn,anisotropy:an,anisotropyMap:de,clearcoat:k,clearcoatMap:He,clearcoatNormalMap:Oe,clearcoatRoughnessMap:$e,dispersion:R,iridescence:ne,iridescenceMap:Je,iridescenceThicknessMap:Ae,sheen:me,sheenColorMap:ze,sheenRoughnessMap:nt,specularMap:Ke,specularColorMap:Ue,specularIntensityMap:ft,transmission:Me,transmissionMap:W,thicknessMap:Re,gradientMap:Pe,opaque:P.transparent===!1&&P.blending===Jo&&P.alphaToCoverage===!1,alphaMap:Ge,alphaTest:we,alphaHash:be,combine:P.combine,mapUv:Qe&&M(P.map.channel),aoMapUv:et&&M(P.aoMap.channel),lightMapUv:Ve&&M(P.lightMap.channel),bumpMapUv:ut&&M(P.bumpMap.channel),normalMapUv:ke&&M(P.normalMap.channel),displacementMapUv:It&&M(P.displacementMap.channel),emissiveMapUv:Xe&&M(P.emissiveMap.channel),metalnessMapUv:dt&&M(P.metalnessMap.channel),roughnessMapUv:rn&&M(P.roughnessMap.channel),anisotropyMapUv:de&&M(P.anisotropyMap.channel),clearcoatMapUv:He&&M(P.clearcoatMap.channel),clearcoatNormalMapUv:Oe&&M(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:$e&&M(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Je&&M(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&M(P.iridescenceThicknessMap.channel),sheenColorMapUv:ze&&M(P.sheenColorMap.channel),sheenRoughnessMapUv:nt&&M(P.sheenRoughnessMap.channel),specularMapUv:Ke&&M(P.specularMap.channel),specularColorMapUv:Ue&&M(P.specularColorMap.channel),specularIntensityMapUv:ft&&M(P.specularIntensityMap.channel),transmissionMapUv:W&&M(P.transmissionMap.channel),thicknessMapUv:Re&&M(P.thicknessMap.channel),alphaMapUv:Ge&&M(P.alphaMap.channel),vertexTangents:!!oe.attributes.tangent&&(ke||an),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!oe.attributes.color&&oe.attributes.color.itemSize===4,pointsUvs:te.isPoints===!0&&!!oe.attributes.uv&&(Qe||Ge),fog:!!ce,useFog:P.fog===!0,fogExp2:!!ce&&ce.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:m,reversedDepthBuffer:Ie,skinning:te.isSkinnedMesh===!0,morphTargets:oe.morphAttributes.position!==void 0,morphNormals:oe.morphAttributes.normal!==void 0,morphColors:oe.morphAttributes.color!==void 0,morphTargetsCount:J,morphTextureStride:se,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:ct,decodeVideoTexture:Qe&&P.map.isVideoTexture===!0&&Ot.getTransfer(P.map.colorSpace)===Wt,decodeVideoTextureEmissive:Xe&&P.emissiveMap.isVideoTexture===!0&&Ot.getTransfer(P.emissiveMap.colorSpace)===Wt,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Cr,flipSided:P.side===gi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Ye&&P.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ye&&P.extensions.multiDraw===!0||De)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Ut.vertexUv1s=h.has(1),Ut.vertexUv2s=h.has(2),Ut.vertexUv3s=h.has(3),h.clear(),Ut}function x(P){const U=[];if(P.shaderID?U.push(P.shaderID):(U.push(P.customVertexShaderID),U.push(P.customFragmentShaderID)),P.defines!==void 0)for(const I in P.defines)U.push(I),U.push(P.defines[I]);return P.isRawShaderMaterial===!1&&(w(U,P),E(U,P),U.push(t.outputColorSpace)),U.push(P.customProgramCacheKey),U.join()}function w(P,U){P.push(U.precision),P.push(U.outputColorSpace),P.push(U.envMapMode),P.push(U.envMapCubeUVHeight),P.push(U.mapUv),P.push(U.alphaMapUv),P.push(U.lightMapUv),P.push(U.aoMapUv),P.push(U.bumpMapUv),P.push(U.normalMapUv),P.push(U.displacementMapUv),P.push(U.emissiveMapUv),P.push(U.metalnessMapUv),P.push(U.roughnessMapUv),P.push(U.anisotropyMapUv),P.push(U.clearcoatMapUv),P.push(U.clearcoatNormalMapUv),P.push(U.clearcoatRoughnessMapUv),P.push(U.iridescenceMapUv),P.push(U.iridescenceThicknessMapUv),P.push(U.sheenColorMapUv),P.push(U.sheenRoughnessMapUv),P.push(U.specularMapUv),P.push(U.specularColorMapUv),P.push(U.specularIntensityMapUv),P.push(U.transmissionMapUv),P.push(U.thicknessMapUv),P.push(U.combine),P.push(U.fogExp2),P.push(U.sizeAttenuation),P.push(U.morphTargetsCount),P.push(U.morphAttributeCount),P.push(U.numDirLights),P.push(U.numPointLights),P.push(U.numSpotLights),P.push(U.numSpotLightMaps),P.push(U.numHemiLights),P.push(U.numRectAreaLights),P.push(U.numDirLightShadows),P.push(U.numPointLightShadows),P.push(U.numSpotLightShadows),P.push(U.numSpotLightShadowsWithMaps),P.push(U.numLightProbes),P.push(U.shadowMapType),P.push(U.toneMapping),P.push(U.numClippingPlanes),P.push(U.numClipIntersection),P.push(U.depthPacking)}function E(P,U){c.disableAll(),U.supportsVertexTextures&&c.enable(0),U.instancing&&c.enable(1),U.instancingColor&&c.enable(2),U.instancingMorph&&c.enable(3),U.matcap&&c.enable(4),U.envMap&&c.enable(5),U.normalMapObjectSpace&&c.enable(6),U.normalMapTangentSpace&&c.enable(7),U.clearcoat&&c.enable(8),U.iridescence&&c.enable(9),U.alphaTest&&c.enable(10),U.vertexColors&&c.enable(11),U.vertexAlphas&&c.enable(12),U.vertexUv1s&&c.enable(13),U.vertexUv2s&&c.enable(14),U.vertexUv3s&&c.enable(15),U.vertexTangents&&c.enable(16),U.anisotropy&&c.enable(17),U.alphaHash&&c.enable(18),U.batching&&c.enable(19),U.dispersion&&c.enable(20),U.batchingColor&&c.enable(21),U.gradientMap&&c.enable(22),P.push(c.mask),c.disableAll(),U.fog&&c.enable(0),U.useFog&&c.enable(1),U.flatShading&&c.enable(2),U.logarithmicDepthBuffer&&c.enable(3),U.reversedDepthBuffer&&c.enable(4),U.skinning&&c.enable(5),U.morphTargets&&c.enable(6),U.morphNormals&&c.enable(7),U.morphColors&&c.enable(8),U.premultipliedAlpha&&c.enable(9),U.shadowMapEnabled&&c.enable(10),U.doubleSided&&c.enable(11),U.flipSided&&c.enable(12),U.useDepthPacking&&c.enable(13),U.dithering&&c.enable(14),U.transmission&&c.enable(15),U.sheen&&c.enable(16),U.opaque&&c.enable(17),U.pointsUvs&&c.enable(18),U.decodeVideoTexture&&c.enable(19),U.decodeVideoTextureEmissive&&c.enable(20),U.alphaToCoverage&&c.enable(21),P.push(c.mask)}function A(P){const U=b[P.type];let I;if(U){const Y=wr[U];I=hN.clone(Y.uniforms)}else I=P.uniforms;return I}function C(P,U){let I;for(let Y=0,te=p.length;Y<te;Y++){const ce=p[Y];if(ce.cacheKey===U){I=ce,++I.usedTimes;break}}return I===void 0&&(I=new BI(t,U,P,s),p.push(I)),I}function N(P){if(--P.usedTimes===0){const U=p.indexOf(P);p[U]=p[p.length-1],p.pop(),P.destroy()}}function L(P){d.remove(P)}function H(){d.dispose()}return{getParameters:S,getProgramCacheKey:x,getUniforms:A,acquireProgram:C,releaseProgram:N,releaseShaderCache:L,programs:p,dispose:H}}function VI(){let t=new WeakMap;function e(u){return t.has(u)}function n(u){let c=t.get(u);return c===void 0&&(c={},t.set(u,c)),c}function i(u){t.delete(u)}function o(u,c,d){t.get(u)[c]=d}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:o,dispose:s}}function jI(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function nE(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function iE(){const t=[];let e=0;const n=[],i=[],o=[];function s(){e=0,n.length=0,i.length=0,o.length=0}function u(m,g,_,b,M,S){let x=t[e];return x===void 0?(x={id:m.id,object:m,geometry:g,material:_,groupOrder:b,renderOrder:m.renderOrder,z:M,group:S},t[e]=x):(x.id=m.id,x.object=m,x.geometry=g,x.material=_,x.groupOrder=b,x.renderOrder=m.renderOrder,x.z=M,x.group=S),e++,x}function c(m,g,_,b,M,S){const x=u(m,g,_,b,M,S);_.transmission>0?i.push(x):_.transparent===!0?o.push(x):n.push(x)}function d(m,g,_,b,M,S){const x=u(m,g,_,b,M,S);_.transmission>0?i.unshift(x):_.transparent===!0?o.unshift(x):n.unshift(x)}function h(m,g){n.length>1&&n.sort(m||jI),i.length>1&&i.sort(g||nE),o.length>1&&o.sort(g||nE)}function p(){for(let m=e,g=t.length;m<g;m++){const _=t[m];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:n,transmissive:i,transparent:o,init:s,push:c,unshift:d,finish:p,sort:h}}function WI(){let t=new WeakMap;function e(i,o){const s=t.get(i);let u;return s===void 0?(u=new iE,t.set(i,[u])):o>=s.length?(u=new iE,s.push(u)):u=s[o],u}function n(){t=new WeakMap}return{get:e,dispose:n}}function XI(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new fe,color:new Lt};break;case"SpotLight":n={position:new fe,direction:new fe,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new fe,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new fe,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":n={color:new Lt,position:new fe,halfWidth:new fe,halfHeight:new fe};break}return t[e.id]=n,n}}}function qI(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Xt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let YI=0;function KI(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function $I(t){const e=new XI,n=qI(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new fe);const o=new fe,s=new xn,u=new xn;function c(h){let p=0,m=0,g=0;for(let P=0;P<9;P++)i.probe[P].set(0,0,0);let _=0,b=0,M=0,S=0,x=0,w=0,E=0,A=0,C=0,N=0,L=0;h.sort(KI);for(let P=0,U=h.length;P<U;P++){const I=h[P],Y=I.color,te=I.intensity,ce=I.distance,oe=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)p+=Y.r*te,m+=Y.g*te,g+=Y.b*te;else if(I.isLightProbe){for(let B=0;B<9;B++)i.probe[B].addScaledVector(I.sh.coefficients[B],te);L++}else if(I.isDirectionalLight){const B=e.get(I);if(B.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const q=I.shadow,X=n.get(I);X.shadowIntensity=q.intensity,X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,i.directionalShadow[_]=X,i.directionalShadowMap[_]=oe,i.directionalShadowMatrix[_]=I.shadow.matrix,w++}i.directional[_]=B,_++}else if(I.isSpotLight){const B=e.get(I);B.position.setFromMatrixPosition(I.matrixWorld),B.color.copy(Y).multiplyScalar(te),B.distance=ce,B.coneCos=Math.cos(I.angle),B.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),B.decay=I.decay,i.spot[M]=B;const q=I.shadow;if(I.map&&(i.spotLightMap[C]=I.map,C++,q.updateMatrices(I),I.castShadow&&N++),i.spotLightMatrix[M]=q.matrix,I.castShadow){const X=n.get(I);X.shadowIntensity=q.intensity,X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,i.spotShadow[M]=X,i.spotShadowMap[M]=oe,A++}M++}else if(I.isRectAreaLight){const B=e.get(I);B.color.copy(Y).multiplyScalar(te),B.halfWidth.set(I.width*.5,0,0),B.halfHeight.set(0,I.height*.5,0),i.rectArea[S]=B,S++}else if(I.isPointLight){const B=e.get(I);if(B.color.copy(I.color).multiplyScalar(I.intensity),B.distance=I.distance,B.decay=I.decay,I.castShadow){const q=I.shadow,X=n.get(I);X.shadowIntensity=q.intensity,X.shadowBias=q.bias,X.shadowNormalBias=q.normalBias,X.shadowRadius=q.radius,X.shadowMapSize=q.mapSize,X.shadowCameraNear=q.camera.near,X.shadowCameraFar=q.camera.far,i.pointShadow[b]=X,i.pointShadowMap[b]=oe,i.pointShadowMatrix[b]=I.shadow.matrix,E++}i.point[b]=B,b++}else if(I.isHemisphereLight){const B=e.get(I);B.skyColor.copy(I.color).multiplyScalar(te),B.groundColor.copy(I.groundColor).multiplyScalar(te),i.hemi[x]=B,x++}}S>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Fe.LTC_FLOAT_1,i.rectAreaLTC2=Fe.LTC_FLOAT_2):(i.rectAreaLTC1=Fe.LTC_HALF_1,i.rectAreaLTC2=Fe.LTC_HALF_2)),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const H=i.hash;(H.directionalLength!==_||H.pointLength!==b||H.spotLength!==M||H.rectAreaLength!==S||H.hemiLength!==x||H.numDirectionalShadows!==w||H.numPointShadows!==E||H.numSpotShadows!==A||H.numSpotMaps!==C||H.numLightProbes!==L)&&(i.directional.length=_,i.spot.length=M,i.rectArea.length=S,i.point.length=b,i.hemi.length=x,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=E,i.pointShadowMap.length=E,i.spotShadow.length=A,i.spotShadowMap.length=A,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=E,i.spotLightMatrix.length=A+C-N,i.spotLightMap.length=C,i.numSpotLightShadowsWithMaps=N,i.numLightProbes=L,H.directionalLength=_,H.pointLength=b,H.spotLength=M,H.rectAreaLength=S,H.hemiLength=x,H.numDirectionalShadows=w,H.numPointShadows=E,H.numSpotShadows=A,H.numSpotMaps=C,H.numLightProbes=L,i.version=YI++)}function d(h,p){let m=0,g=0,_=0,b=0,M=0;const S=p.matrixWorldInverse;for(let x=0,w=h.length;x<w;x++){const E=h[x];if(E.isDirectionalLight){const A=i.directional[m];A.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(S),m++}else if(E.isSpotLight){const A=i.spot[_];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),A.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),A.direction.sub(o),A.direction.transformDirection(S),_++}else if(E.isRectAreaLight){const A=i.rectArea[b];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),u.identity(),s.copy(E.matrixWorld),s.premultiply(S),u.extractRotation(s),A.halfWidth.set(E.width*.5,0,0),A.halfHeight.set(0,E.height*.5,0),A.halfWidth.applyMatrix4(u),A.halfHeight.applyMatrix4(u),b++}else if(E.isPointLight){const A=i.point[g];A.position.setFromMatrixPosition(E.matrixWorld),A.position.applyMatrix4(S),g++}else if(E.isHemisphereLight){const A=i.hemi[M];A.direction.setFromMatrixPosition(E.matrixWorld),A.direction.transformDirection(S),M++}}}return{setup:c,setupView:d,state:i}}function rE(t){const e=new $I(t),n=[],i=[];function o(p){h.camera=p,n.length=0,i.length=0}function s(p){n.push(p)}function u(p){i.push(p)}function c(){e.setup(n)}function d(p){e.setupView(n,p)}const h={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:o,state:h,setupLights:c,setupLightsView:d,pushLight:s,pushShadow:u}}function ZI(t){let e=new WeakMap;function n(o,s=0){const u=e.get(o);let c;return u===void 0?(c=new rE(t),e.set(o,[c])):s>=u.length?(c=new rE(t),u.push(c)):c=u[s],c}function i(){e=new WeakMap}return{get:n,dispose:i}}const QI=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,JI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function ez(t,e,n){let i=new RA;const o=new Xt,s=new Xt,u=new mn,c=new TN({depthPacking:IP}),d=new AN,h={},p=n.maxTextureSize,m={[so]:gi,[gi]:so,[Cr]:Cr},g=new ha({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Xt},radius:{value:4}},vertexShader:QI,fragmentShader:JI}),_=g.clone();_.defines.HORIZONTAL_PASS=1;const b=new ya;b.setAttribute("position",new zi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const M=new aa(b,g),S=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oA;let x=this.type;this.render=function(N,L,H){if(S.enabled===!1||S.autoUpdate===!1&&S.needsUpdate===!1||N.length===0)return;const P=t.getRenderTarget(),U=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),Y=t.state;Y.setBlending(io),Y.buffers.depth.getReversed()?Y.buffers.color.setClear(0,0,0,0):Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const te=x!==ta&&this.type===ta,ce=x===ta&&this.type!==ta;for(let oe=0,B=N.length;oe<B;oe++){const q=N[oe],X=q.shadow;if(X===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(X.autoUpdate===!1&&X.needsUpdate===!1)continue;o.copy(X.mapSize);const ye=X.getFrameExtents();if(o.multiply(ye),s.copy(X.mapSize),(o.x>p||o.y>p)&&(o.x>p&&(s.x=Math.floor(p/ye.x),o.x=s.x*ye.x,X.mapSize.x=s.x),o.y>p&&(s.y=Math.floor(p/ye.y),o.y=s.y*ye.y,X.mapSize.y=s.y)),X.map===null||te===!0||ce===!0){const J=this.type!==ta?{minFilter:yr,magFilter:yr}:{};X.map!==null&&X.map.dispose(),X.map=new os(o.x,o.y,J),X.map.texture.name=q.name+".shadowMap",X.camera.updateProjectionMatrix()}t.setRenderTarget(X.map),t.clear();const z=X.getViewportCount();for(let J=0;J<z;J++){const se=X.getViewport(J);u.set(s.x*se.x,s.y*se.y,s.x*se.z,s.y*se.w),Y.viewport(u),X.updateMatrices(q,J),i=X.getFrustum(),A(L,H,X.camera,q,this.type)}X.isPointLightShadow!==!0&&this.type===ta&&w(X,H),X.needsUpdate=!1}x=this.type,S.needsUpdate=!1,t.setRenderTarget(P,U,I)};function w(N,L){const H=e.update(M);g.defines.VSM_SAMPLES!==N.blurSamples&&(g.defines.VSM_SAMPLES=N.blurSamples,_.defines.VSM_SAMPLES=N.blurSamples,g.needsUpdate=!0,_.needsUpdate=!0),N.mapPass===null&&(N.mapPass=new os(o.x,o.y)),g.uniforms.shadow_pass.value=N.map.texture,g.uniforms.resolution.value=N.mapSize,g.uniforms.radius.value=N.radius,t.setRenderTarget(N.mapPass),t.clear(),t.renderBufferDirect(L,null,H,g,M,null),_.uniforms.shadow_pass.value=N.mapPass.texture,_.uniforms.resolution.value=N.mapSize,_.uniforms.radius.value=N.radius,t.setRenderTarget(N.map),t.clear(),t.renderBufferDirect(L,null,H,_,M,null)}function E(N,L,H,P){let U=null;const I=H.isPointLight===!0?N.customDistanceMaterial:N.customDepthMaterial;if(I!==void 0)U=I;else if(U=H.isPointLight===!0?d:c,t.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0||L.alphaToCoverage===!0){const Y=U.uuid,te=L.uuid;let ce=h[Y];ce===void 0&&(ce={},h[Y]=ce);let oe=ce[te];oe===void 0&&(oe=U.clone(),ce[te]=oe,L.addEventListener("dispose",C)),U=oe}if(U.visible=L.visible,U.wireframe=L.wireframe,P===ta?U.side=L.shadowSide!==null?L.shadowSide:L.side:U.side=L.shadowSide!==null?L.shadowSide:m[L.side],U.alphaMap=L.alphaMap,U.alphaTest=L.alphaToCoverage===!0?.5:L.alphaTest,U.map=L.map,U.clipShadows=L.clipShadows,U.clippingPlanes=L.clippingPlanes,U.clipIntersection=L.clipIntersection,U.displacementMap=L.displacementMap,U.displacementScale=L.displacementScale,U.displacementBias=L.displacementBias,U.wireframeLinewidth=L.wireframeLinewidth,U.linewidth=L.linewidth,H.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const Y=t.properties.get(U);Y.light=H}return U}function A(N,L,H,P,U){if(N.visible===!1)return;if(N.layers.test(L.layers)&&(N.isMesh||N.isLine||N.isPoints)&&(N.castShadow||N.receiveShadow&&U===ta)&&(!N.frustumCulled||i.intersectsObject(N))){N.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,N.matrixWorld);const te=e.update(N),ce=N.material;if(Array.isArray(ce)){const oe=te.groups;for(let B=0,q=oe.length;B<q;B++){const X=oe[B],ye=ce[X.materialIndex];if(ye&&ye.visible){const z=E(N,ye,P,U);N.onBeforeShadow(t,N,L,H,te,z,X),t.renderBufferDirect(H,null,te,z,N,X),N.onAfterShadow(t,N,L,H,te,z,X)}}}else if(ce.visible){const oe=E(N,ce,P,U);N.onBeforeShadow(t,N,L,H,te,oe,null),t.renderBufferDirect(H,null,te,oe,N,null),N.onAfterShadow(t,N,L,H,te,oe,null)}}const Y=N.children;for(let te=0,ce=Y.length;te<ce;te++)A(Y[te],L,H,P,U)}function C(N){N.target.removeEventListener("dispose",C);for(const H in h){const P=h[H],U=N.target.uuid;U in P&&(P[U].dispose(),delete P[U])}}}const tz={[Ug]:Lg,[Ig]:Fg,[zg]:kg,[_l]:Bg,[Lg]:Ug,[Fg]:Ig,[kg]:zg,[Bg]:_l};function nz(t,e){function n(){let W=!1;const Re=new mn;let Pe=null;const Ge=new mn(0,0,0,0);return{setMask:function(we){Pe!==we&&!W&&(t.colorMask(we,we,we,we),Pe=we)},setLocked:function(we){W=we},setClear:function(we,be,Ye,ct,Ut){Ut===!0&&(we*=ct,be*=ct,Ye*=ct),Re.set(we,be,Ye,ct),Ge.equals(Re)===!1&&(t.clearColor(we,be,Ye,ct),Ge.copy(Re))},reset:function(){W=!1,Pe=null,Ge.set(-1,0,0,0)}}}function i(){let W=!1,Re=!1,Pe=null,Ge=null,we=null;return{setReversed:function(be){if(Re!==be){const Ye=e.get("EXT_clip_control");be?Ye.clipControlEXT(Ye.LOWER_LEFT_EXT,Ye.ZERO_TO_ONE_EXT):Ye.clipControlEXT(Ye.LOWER_LEFT_EXT,Ye.NEGATIVE_ONE_TO_ONE_EXT),Re=be;const ct=we;we=null,this.setClear(ct)}},getReversed:function(){return Re},setTest:function(be){be?Te(t.DEPTH_TEST):Ie(t.DEPTH_TEST)},setMask:function(be){Pe!==be&&!W&&(t.depthMask(be),Pe=be)},setFunc:function(be){if(Re&&(be=tz[be]),Ge!==be){switch(be){case Ug:t.depthFunc(t.NEVER);break;case Lg:t.depthFunc(t.ALWAYS);break;case Ig:t.depthFunc(t.LESS);break;case _l:t.depthFunc(t.LEQUAL);break;case zg:t.depthFunc(t.EQUAL);break;case Bg:t.depthFunc(t.GEQUAL);break;case Fg:t.depthFunc(t.GREATER);break;case kg:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=be}},setLocked:function(be){W=be},setClear:function(be){we!==be&&(Re&&(be=1-be),t.clearDepth(be),we=be)},reset:function(){W=!1,Pe=null,Ge=null,we=null,Re=!1}}}function o(){let W=!1,Re=null,Pe=null,Ge=null,we=null,be=null,Ye=null,ct=null,Ut=null;return{setTest:function(Ct){W||(Ct?Te(t.STENCIL_TEST):Ie(t.STENCIL_TEST))},setMask:function(Ct){Re!==Ct&&!W&&(t.stencilMask(Ct),Re=Ct)},setFunc:function(Ct,ar,Mn){(Pe!==Ct||Ge!==ar||we!==Mn)&&(t.stencilFunc(Ct,ar,Mn),Pe=Ct,Ge=ar,we=Mn)},setOp:function(Ct,ar,Mn){(be!==Ct||Ye!==ar||ct!==Mn)&&(t.stencilOp(Ct,ar,Mn),be=Ct,Ye=ar,ct=Mn)},setLocked:function(Ct){W=Ct},setClear:function(Ct){Ut!==Ct&&(t.clearStencil(Ct),Ut=Ct)},reset:function(){W=!1,Re=null,Pe=null,Ge=null,we=null,be=null,Ye=null,ct=null,Ut=null}}}const s=new n,u=new i,c=new o,d=new WeakMap,h=new WeakMap;let p={},m={},g=new WeakMap,_=[],b=null,M=!1,S=null,x=null,w=null,E=null,A=null,C=null,N=null,L=new Lt(0,0,0),H=0,P=!1,U=null,I=null,Y=null,te=null,ce=null;const oe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,q=0;const X=t.getParameter(t.VERSION);X.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(X)[1]),B=q>=1):X.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(X)[1]),B=q>=2);let ye=null,z={};const J=t.getParameter(t.SCISSOR_BOX),se=t.getParameter(t.VIEWPORT),Ee=new mn().fromArray(J),Ne=new mn().fromArray(se);function ie(W,Re,Pe,Ge){const we=new Uint8Array(4),be=t.createTexture();t.bindTexture(W,be),t.texParameteri(W,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(W,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ye=0;Ye<Pe;Ye++)W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY?t.texImage3D(Re,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,we):t.texImage2D(Re+Ye,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,we);return be}const _e={};_e[t.TEXTURE_2D]=ie(t.TEXTURE_2D,t.TEXTURE_2D,1),_e[t.TEXTURE_CUBE_MAP]=ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),_e[t.TEXTURE_2D_ARRAY]=ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),_e[t.TEXTURE_3D]=ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),u.setClear(1),c.setClear(0),Te(t.DEPTH_TEST),u.setFunc(_l),ut(!1),ke(lM),Te(t.CULL_FACE),et(io);function Te(W){p[W]!==!0&&(t.enable(W),p[W]=!0)}function Ie(W){p[W]!==!1&&(t.disable(W),p[W]=!1)}function ge(W,Re){return m[W]!==Re?(t.bindFramebuffer(W,Re),m[W]=Re,W===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Re),W===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Re),!0):!1}function De(W,Re){let Pe=_,Ge=!1;if(W){Pe=g.get(Re),Pe===void 0&&(Pe=[],g.set(Re,Pe));const we=W.textures;if(Pe.length!==we.length||Pe[0]!==t.COLOR_ATTACHMENT0){for(let be=0,Ye=we.length;be<Ye;be++)Pe[be]=t.COLOR_ATTACHMENT0+be;Pe.length=we.length,Ge=!0}}else Pe[0]!==t.BACK&&(Pe[0]=t.BACK,Ge=!0);Ge&&t.drawBuffers(Pe)}function Qe(W){return b!==W?(t.useProgram(W),b=W,!0):!1}const he={[Wo]:t.FUNC_ADD,[lP]:t.FUNC_SUBTRACT,[uP]:t.FUNC_REVERSE_SUBTRACT};he[cP]=t.MIN,he[fP]=t.MAX;const V={[dP]:t.ZERO,[hP]:t.ONE,[pP]:t.SRC_COLOR,[Pg]:t.SRC_ALPHA,[xP]:t.SRC_ALPHA_SATURATE,[yP]:t.DST_COLOR,[vP]:t.DST_ALPHA,[mP]:t.ONE_MINUS_SRC_COLOR,[Ng]:t.ONE_MINUS_SRC_ALPHA,[_P]:t.ONE_MINUS_DST_COLOR,[gP]:t.ONE_MINUS_DST_ALPHA,[SP]:t.CONSTANT_COLOR,[bP]:t.ONE_MINUS_CONSTANT_COLOR,[MP]:t.CONSTANT_ALPHA,[EP]:t.ONE_MINUS_CONSTANT_ALPHA};function et(W,Re,Pe,Ge,we,be,Ye,ct,Ut,Ct){if(W===io){M===!0&&(Ie(t.BLEND),M=!1);return}if(M===!1&&(Te(t.BLEND),M=!0),W!==sP){if(W!==S||Ct!==P){if((x!==Wo||A!==Wo)&&(t.blendEquation(t.FUNC_ADD),x=Wo,A=Wo),Ct)switch(W){case Jo:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case uM:t.blendFunc(t.ONE,t.ONE);break;case cM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case fM:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case Jo:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case uM:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case cM:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case fM:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}w=null,E=null,C=null,N=null,L.set(0,0,0),H=0,S=W,P=Ct}return}we=we||Re,be=be||Pe,Ye=Ye||Ge,(Re!==x||we!==A)&&(t.blendEquationSeparate(he[Re],he[we]),x=Re,A=we),(Pe!==w||Ge!==E||be!==C||Ye!==N)&&(t.blendFuncSeparate(V[Pe],V[Ge],V[be],V[Ye]),w=Pe,E=Ge,C=be,N=Ye),(ct.equals(L)===!1||Ut!==H)&&(t.blendColor(ct.r,ct.g,ct.b,Ut),L.copy(ct),H=Ut),S=W,P=!1}function Ve(W,Re){W.side===Cr?Ie(t.CULL_FACE):Te(t.CULL_FACE);let Pe=W.side===gi;Re&&(Pe=!Pe),ut(Pe),W.blending===Jo&&W.transparent===!1?et(io):et(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.blendColor,W.blendAlpha,W.premultipliedAlpha),u.setFunc(W.depthFunc),u.setTest(W.depthTest),u.setMask(W.depthWrite),s.setMask(W.colorWrite);const Ge=W.stencilWrite;c.setTest(Ge),Ge&&(c.setMask(W.stencilWriteMask),c.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),c.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),Xe(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits),W.alphaToCoverage===!0?Te(t.SAMPLE_ALPHA_TO_COVERAGE):Ie(t.SAMPLE_ALPHA_TO_COVERAGE)}function ut(W){U!==W&&(W?t.frontFace(t.CW):t.frontFace(t.CCW),U=W)}function ke(W){W!==rP?(Te(t.CULL_FACE),W!==I&&(W===lM?t.cullFace(t.BACK):W===aP?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ie(t.CULL_FACE),I=W}function It(W){W!==Y&&(B&&t.lineWidth(W),Y=W)}function Xe(W,Re,Pe){W?(Te(t.POLYGON_OFFSET_FILL),(te!==Re||ce!==Pe)&&(t.polygonOffset(Re,Pe),te=Re,ce=Pe)):Ie(t.POLYGON_OFFSET_FILL)}function dt(W){W?Te(t.SCISSOR_TEST):Ie(t.SCISSOR_TEST)}function rn(W){W===void 0&&(W=t.TEXTURE0+oe-1),ye!==W&&(t.activeTexture(W),ye=W)}function an(W,Re,Pe){Pe===void 0&&(ye===null?Pe=t.TEXTURE0+oe-1:Pe=ye);let Ge=z[Pe];Ge===void 0&&(Ge={type:void 0,texture:void 0},z[Pe]=Ge),(Ge.type!==W||Ge.texture!==Re)&&(ye!==Pe&&(t.activeTexture(Pe),ye=Pe),t.bindTexture(W,Re||_e[W]),Ge.type=W,Ge.texture=Re)}function k(){const W=z[ye];W!==void 0&&W.type!==void 0&&(t.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function R(){try{t.compressedTexImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function ne(){try{t.compressedTexImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function me(){try{t.texSubImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Me(){try{t.texSubImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function de(){try{t.compressedTexSubImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function He(){try{t.compressedTexSubImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Oe(){try{t.texStorage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function $e(){try{t.texStorage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Je(){try{t.texImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ae(){try{t.texImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function ze(W){Ee.equals(W)===!1&&(t.scissor(W.x,W.y,W.z,W.w),Ee.copy(W))}function nt(W){Ne.equals(W)===!1&&(t.viewport(W.x,W.y,W.z,W.w),Ne.copy(W))}function Ke(W,Re){let Pe=h.get(Re);Pe===void 0&&(Pe=new WeakMap,h.set(Re,Pe));let Ge=Pe.get(W);Ge===void 0&&(Ge=t.getUniformBlockIndex(Re,W.name),Pe.set(W,Ge))}function Ue(W,Re){const Ge=h.get(Re).get(W);d.get(Re)!==Ge&&(t.uniformBlockBinding(Re,Ge,W.__bindingPointIndex),d.set(Re,Ge))}function ft(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),u.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},ye=null,z={},m={},g=new WeakMap,_=[],b=null,M=!1,S=null,x=null,w=null,E=null,A=null,C=null,N=null,L=new Lt(0,0,0),H=0,P=!1,U=null,I=null,Y=null,te=null,ce=null,Ee.set(0,0,t.canvas.width,t.canvas.height),Ne.set(0,0,t.canvas.width,t.canvas.height),s.reset(),u.reset(),c.reset()}return{buffers:{color:s,depth:u,stencil:c},enable:Te,disable:Ie,bindFramebuffer:ge,drawBuffers:De,useProgram:Qe,setBlending:et,setMaterial:Ve,setFlipSided:ut,setCullFace:ke,setLineWidth:It,setPolygonOffset:Xe,setScissorTest:dt,activeTexture:rn,bindTexture:an,unbindTexture:k,compressedTexImage2D:R,compressedTexImage3D:ne,texImage2D:Je,texImage3D:Ae,updateUBOMapping:Ke,uniformBlockBinding:Ue,texStorage2D:Oe,texStorage3D:$e,texSubImage2D:me,texSubImage3D:Me,compressedTexSubImage2D:de,compressedTexSubImage3D:He,scissor:ze,viewport:nt,reset:ft}}function iz(t,e,n,i,o,s,u){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new Xt,p=new WeakMap;let m;const g=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(k,R){return _?new OffscreenCanvas(k,R):Ld("canvas")}function M(k,R,ne){let me=1;const Me=an(k);if((Me.width>ne||Me.height>ne)&&(me=ne/Math.max(Me.width,Me.height)),me<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const de=Math.floor(me*Me.width),He=Math.floor(me*Me.height);m===void 0&&(m=b(de,He));const Oe=R?b(de,He):m;return Oe.width=de,Oe.height=He,Oe.getContext("2d").drawImage(k,0,0,de,He),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+de+"x"+He+")."),Oe}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),k;return k}function S(k){return k.generateMipmaps}function x(k){t.generateMipmap(k)}function w(k){return k.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:k.isWebGL3DRenderTarget?t.TEXTURE_3D:k.isWebGLArrayRenderTarget||k.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function E(k,R,ne,me,Me=!1){if(k!==null){if(t[k]!==void 0)return t[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let de=R;if(R===t.RED&&(ne===t.FLOAT&&(de=t.R32F),ne===t.HALF_FLOAT&&(de=t.R16F),ne===t.UNSIGNED_BYTE&&(de=t.R8)),R===t.RED_INTEGER&&(ne===t.UNSIGNED_BYTE&&(de=t.R8UI),ne===t.UNSIGNED_SHORT&&(de=t.R16UI),ne===t.UNSIGNED_INT&&(de=t.R32UI),ne===t.BYTE&&(de=t.R8I),ne===t.SHORT&&(de=t.R16I),ne===t.INT&&(de=t.R32I)),R===t.RG&&(ne===t.FLOAT&&(de=t.RG32F),ne===t.HALF_FLOAT&&(de=t.RG16F),ne===t.UNSIGNED_BYTE&&(de=t.RG8)),R===t.RG_INTEGER&&(ne===t.UNSIGNED_BYTE&&(de=t.RG8UI),ne===t.UNSIGNED_SHORT&&(de=t.RG16UI),ne===t.UNSIGNED_INT&&(de=t.RG32UI),ne===t.BYTE&&(de=t.RG8I),ne===t.SHORT&&(de=t.RG16I),ne===t.INT&&(de=t.RG32I)),R===t.RGB_INTEGER&&(ne===t.UNSIGNED_BYTE&&(de=t.RGB8UI),ne===t.UNSIGNED_SHORT&&(de=t.RGB16UI),ne===t.UNSIGNED_INT&&(de=t.RGB32UI),ne===t.BYTE&&(de=t.RGB8I),ne===t.SHORT&&(de=t.RGB16I),ne===t.INT&&(de=t.RGB32I)),R===t.RGBA_INTEGER&&(ne===t.UNSIGNED_BYTE&&(de=t.RGBA8UI),ne===t.UNSIGNED_SHORT&&(de=t.RGBA16UI),ne===t.UNSIGNED_INT&&(de=t.RGBA32UI),ne===t.BYTE&&(de=t.RGBA8I),ne===t.SHORT&&(de=t.RGBA16I),ne===t.INT&&(de=t.RGBA32I)),R===t.RGB&&ne===t.UNSIGNED_INT_5_9_9_9_REV&&(de=t.RGB9_E5),R===t.RGBA){const He=Me?Nd:Ot.getTransfer(me);ne===t.FLOAT&&(de=t.RGBA32F),ne===t.HALF_FLOAT&&(de=t.RGBA16F),ne===t.UNSIGNED_BYTE&&(de=He===Wt?t.SRGB8_ALPHA8:t.RGBA8),ne===t.UNSIGNED_SHORT_4_4_4_4&&(de=t.RGBA4),ne===t.UNSIGNED_SHORT_5_5_5_1&&(de=t.RGB5_A1)}return(de===t.R16F||de===t.R32F||de===t.RG16F||de===t.RG32F||de===t.RGBA16F||de===t.RGBA32F)&&e.get("EXT_color_buffer_float"),de}function A(k,R){let ne;return k?R===null||R===as||R===ic?ne=t.DEPTH24_STENCIL8:R===ra?ne=t.DEPTH32F_STENCIL8:R===nc&&(ne=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):R===null||R===as||R===ic?ne=t.DEPTH_COMPONENT24:R===ra?ne=t.DEPTH_COMPONENT32F:R===nc&&(ne=t.DEPTH_COMPONENT16),ne}function C(k,R){return S(k)===!0||k.isFramebufferTexture&&k.minFilter!==yr&&k.minFilter!==Rr?Math.log2(Math.max(R.width,R.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?R.mipmaps.length:1}function N(k){const R=k.target;R.removeEventListener("dispose",N),H(R),R.isVideoTexture&&p.delete(R)}function L(k){const R=k.target;R.removeEventListener("dispose",L),U(R)}function H(k){const R=i.get(k);if(R.__webglInit===void 0)return;const ne=k.source,me=g.get(ne);if(me){const Me=me[R.__cacheKey];Me.usedTimes--,Me.usedTimes===0&&P(k),Object.keys(me).length===0&&g.delete(ne)}i.remove(k)}function P(k){const R=i.get(k);t.deleteTexture(R.__webglTexture);const ne=k.source,me=g.get(ne);delete me[R.__cacheKey],u.memory.textures--}function U(k){const R=i.get(k);if(k.depthTexture&&(k.depthTexture.dispose(),i.remove(k.depthTexture)),k.isWebGLCubeRenderTarget)for(let me=0;me<6;me++){if(Array.isArray(R.__webglFramebuffer[me]))for(let Me=0;Me<R.__webglFramebuffer[me].length;Me++)t.deleteFramebuffer(R.__webglFramebuffer[me][Me]);else t.deleteFramebuffer(R.__webglFramebuffer[me]);R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer[me])}else{if(Array.isArray(R.__webglFramebuffer))for(let me=0;me<R.__webglFramebuffer.length;me++)t.deleteFramebuffer(R.__webglFramebuffer[me]);else t.deleteFramebuffer(R.__webglFramebuffer);if(R.__webglDepthbuffer&&t.deleteRenderbuffer(R.__webglDepthbuffer),R.__webglMultisampledFramebuffer&&t.deleteFramebuffer(R.__webglMultisampledFramebuffer),R.__webglColorRenderbuffer)for(let me=0;me<R.__webglColorRenderbuffer.length;me++)R.__webglColorRenderbuffer[me]&&t.deleteRenderbuffer(R.__webglColorRenderbuffer[me]);R.__webglDepthRenderbuffer&&t.deleteRenderbuffer(R.__webglDepthRenderbuffer)}const ne=k.textures;for(let me=0,Me=ne.length;me<Me;me++){const de=i.get(ne[me]);de.__webglTexture&&(t.deleteTexture(de.__webglTexture),u.memory.textures--),i.remove(ne[me])}i.remove(k)}let I=0;function Y(){I=0}function te(){const k=I;return k>=o.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+o.maxTextures),I+=1,k}function ce(k){const R=[];return R.push(k.wrapS),R.push(k.wrapT),R.push(k.wrapR||0),R.push(k.magFilter),R.push(k.minFilter),R.push(k.anisotropy),R.push(k.internalFormat),R.push(k.format),R.push(k.type),R.push(k.generateMipmaps),R.push(k.premultiplyAlpha),R.push(k.flipY),R.push(k.unpackAlignment),R.push(k.colorSpace),R.join()}function oe(k,R){const ne=i.get(k);if(k.isVideoTexture&&dt(k),k.isRenderTargetTexture===!1&&k.isExternalTexture!==!0&&k.version>0&&ne.__version!==k.version){const me=k.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{_e(ne,k,R);return}}else k.isExternalTexture&&(ne.__webglTexture=k.sourceTexture?k.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ne.__webglTexture,t.TEXTURE0+R)}function B(k,R){const ne=i.get(k);if(k.isRenderTargetTexture===!1&&k.version>0&&ne.__version!==k.version){_e(ne,k,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ne.__webglTexture,t.TEXTURE0+R)}function q(k,R){const ne=i.get(k);if(k.isRenderTargetTexture===!1&&k.version>0&&ne.__version!==k.version){_e(ne,k,R);return}n.bindTexture(t.TEXTURE_3D,ne.__webglTexture,t.TEXTURE0+R)}function X(k,R){const ne=i.get(k);if(k.version>0&&ne.__version!==k.version){Te(ne,k,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ne.__webglTexture,t.TEXTURE0+R)}const ye={[Vg]:t.REPEAT,[qo]:t.CLAMP_TO_EDGE,[jg]:t.MIRRORED_REPEAT},z={[yr]:t.NEAREST,[UP]:t.NEAREST_MIPMAP_NEAREST,[Xf]:t.NEAREST_MIPMAP_LINEAR,[Rr]:t.LINEAR,[Zm]:t.LINEAR_MIPMAP_NEAREST,[Yo]:t.LINEAR_MIPMAP_LINEAR},J={[FP]:t.NEVER,[WP]:t.ALWAYS,[kP]:t.LESS,[gA]:t.LEQUAL,[HP]:t.EQUAL,[jP]:t.GEQUAL,[GP]:t.GREATER,[VP]:t.NOTEQUAL};function se(k,R){if(R.type===ra&&e.has("OES_texture_float_linear")===!1&&(R.magFilter===Rr||R.magFilter===Zm||R.magFilter===Xf||R.magFilter===Yo||R.minFilter===Rr||R.minFilter===Zm||R.minFilter===Xf||R.minFilter===Yo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(k,t.TEXTURE_WRAP_S,ye[R.wrapS]),t.texParameteri(k,t.TEXTURE_WRAP_T,ye[R.wrapT]),(k===t.TEXTURE_3D||k===t.TEXTURE_2D_ARRAY)&&t.texParameteri(k,t.TEXTURE_WRAP_R,ye[R.wrapR]),t.texParameteri(k,t.TEXTURE_MAG_FILTER,z[R.magFilter]),t.texParameteri(k,t.TEXTURE_MIN_FILTER,z[R.minFilter]),R.compareFunction&&(t.texParameteri(k,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(k,t.TEXTURE_COMPARE_FUNC,J[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(R.magFilter===yr||R.minFilter!==Xf&&R.minFilter!==Yo||R.type===ra&&e.has("OES_texture_float_linear")===!1)return;if(R.anisotropy>1||i.get(R).__currentAnisotropy){const ne=e.get("EXT_texture_filter_anisotropic");t.texParameterf(k,ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,o.getMaxAnisotropy())),i.get(R).__currentAnisotropy=R.anisotropy}}}function Ee(k,R){let ne=!1;k.__webglInit===void 0&&(k.__webglInit=!0,R.addEventListener("dispose",N));const me=R.source;let Me=g.get(me);Me===void 0&&(Me={},g.set(me,Me));const de=ce(R);if(de!==k.__cacheKey){Me[de]===void 0&&(Me[de]={texture:t.createTexture(),usedTimes:0},u.memory.textures++,ne=!0),Me[de].usedTimes++;const He=Me[k.__cacheKey];He!==void 0&&(Me[k.__cacheKey].usedTimes--,He.usedTimes===0&&P(R)),k.__cacheKey=de,k.__webglTexture=Me[de].texture}return ne}function Ne(k,R,ne){return Math.floor(Math.floor(k/ne)/R)}function ie(k,R,ne,me){const de=k.updateRanges;if(de.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,R.width,R.height,ne,me,R.data);else{de.sort((Ae,ze)=>Ae.start-ze.start);let He=0;for(let Ae=1;Ae<de.length;Ae++){const ze=de[He],nt=de[Ae],Ke=ze.start+ze.count,Ue=Ne(nt.start,R.width,4),ft=Ne(ze.start,R.width,4);nt.start<=Ke+1&&Ue===ft&&Ne(nt.start+nt.count-1,R.width,4)===Ue?ze.count=Math.max(ze.count,nt.start+nt.count-ze.start):(++He,de[He]=nt)}de.length=He+1;const Oe=t.getParameter(t.UNPACK_ROW_LENGTH),$e=t.getParameter(t.UNPACK_SKIP_PIXELS),Je=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,R.width);for(let Ae=0,ze=de.length;Ae<ze;Ae++){const nt=de[Ae],Ke=Math.floor(nt.start/4),Ue=Math.ceil(nt.count/4),ft=Ke%R.width,W=Math.floor(Ke/R.width),Re=Ue,Pe=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,ft),t.pixelStorei(t.UNPACK_SKIP_ROWS,W),n.texSubImage2D(t.TEXTURE_2D,0,ft,W,Re,Pe,ne,me,R.data)}k.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Oe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,$e),t.pixelStorei(t.UNPACK_SKIP_ROWS,Je)}}function _e(k,R,ne){let me=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(me=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(me=t.TEXTURE_3D);const Me=Ee(k,R),de=R.source;n.bindTexture(me,k.__webglTexture,t.TEXTURE0+ne);const He=i.get(de);if(de.version!==He.__version||Me===!0){n.activeTexture(t.TEXTURE0+ne);const Oe=Ot.getPrimaries(Ot.workingColorSpace),$e=R.colorSpace===to?null:Ot.getPrimaries(R.colorSpace),Je=R.colorSpace===to||Oe===$e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Je);let Ae=M(R.image,!1,o.maxTextureSize);Ae=rn(R,Ae);const ze=s.convert(R.format,R.colorSpace),nt=s.convert(R.type);let Ke=E(R.internalFormat,ze,nt,R.colorSpace,R.isVideoTexture);se(me,R);let Ue;const ft=R.mipmaps,W=R.isVideoTexture!==!0,Re=He.__version===void 0||Me===!0,Pe=de.dataReady,Ge=C(R,Ae);if(R.isDepthTexture)Ke=A(R.format===ac,R.type),Re&&(W?n.texStorage2D(t.TEXTURE_2D,1,Ke,Ae.width,Ae.height):n.texImage2D(t.TEXTURE_2D,0,Ke,Ae.width,Ae.height,0,ze,nt,null));else if(R.isDataTexture)if(ft.length>0){W&&Re&&n.texStorage2D(t.TEXTURE_2D,Ge,Ke,ft[0].width,ft[0].height);for(let we=0,be=ft.length;we<be;we++)Ue=ft[we],W?Pe&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ue.width,Ue.height,ze,nt,Ue.data):n.texImage2D(t.TEXTURE_2D,we,Ke,Ue.width,Ue.height,0,ze,nt,Ue.data);R.generateMipmaps=!1}else W?(Re&&n.texStorage2D(t.TEXTURE_2D,Ge,Ke,Ae.width,Ae.height),Pe&&ie(R,Ae,ze,nt)):n.texImage2D(t.TEXTURE_2D,0,Ke,Ae.width,Ae.height,0,ze,nt,Ae.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){W&&Re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Ke,ft[0].width,ft[0].height,Ae.depth);for(let we=0,be=ft.length;we<be;we++)if(Ue=ft[we],R.format!==gr)if(ze!==null)if(W){if(Pe)if(R.layerUpdates.size>0){const Ye=UM(Ue.width,Ue.height,R.format,R.type);for(const ct of R.layerUpdates){const Ut=Ue.data.subarray(ct*Ye/Ue.data.BYTES_PER_ELEMENT,(ct+1)*Ye/Ue.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,ct,Ue.width,Ue.height,1,ze,Ut)}R.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ue.width,Ue.height,Ae.depth,ze,Ue.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,we,Ke,Ue.width,Ue.height,Ae.depth,0,Ue.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else W?Pe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,we,0,0,0,Ue.width,Ue.height,Ae.depth,ze,nt,Ue.data):n.texImage3D(t.TEXTURE_2D_ARRAY,we,Ke,Ue.width,Ue.height,Ae.depth,0,ze,nt,Ue.data)}else{W&&Re&&n.texStorage2D(t.TEXTURE_2D,Ge,Ke,ft[0].width,ft[0].height);for(let we=0,be=ft.length;we<be;we++)Ue=ft[we],R.format!==gr?ze!==null?W?Pe&&n.compressedTexSubImage2D(t.TEXTURE_2D,we,0,0,Ue.width,Ue.height,ze,Ue.data):n.compressedTexImage2D(t.TEXTURE_2D,we,Ke,Ue.width,Ue.height,0,Ue.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):W?Pe&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,Ue.width,Ue.height,ze,nt,Ue.data):n.texImage2D(t.TEXTURE_2D,we,Ke,Ue.width,Ue.height,0,ze,nt,Ue.data)}else if(R.isDataArrayTexture)if(W){if(Re&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Ke,Ae.width,Ae.height,Ae.depth),Pe)if(R.layerUpdates.size>0){const we=UM(Ae.width,Ae.height,R.format,R.type);for(const be of R.layerUpdates){const Ye=Ae.data.subarray(be*we/Ae.data.BYTES_PER_ELEMENT,(be+1)*we/Ae.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,be,Ae.width,Ae.height,1,ze,nt,Ye)}R.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,ze,nt,Ae.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ke,Ae.width,Ae.height,Ae.depth,0,ze,nt,Ae.data);else if(R.isData3DTexture)W?(Re&&n.texStorage3D(t.TEXTURE_3D,Ge,Ke,Ae.width,Ae.height,Ae.depth),Pe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,ze,nt,Ae.data)):n.texImage3D(t.TEXTURE_3D,0,Ke,Ae.width,Ae.height,Ae.depth,0,ze,nt,Ae.data);else if(R.isFramebufferTexture){if(Re)if(W)n.texStorage2D(t.TEXTURE_2D,Ge,Ke,Ae.width,Ae.height);else{let we=Ae.width,be=Ae.height;for(let Ye=0;Ye<Ge;Ye++)n.texImage2D(t.TEXTURE_2D,Ye,Ke,we,be,0,ze,nt,null),we>>=1,be>>=1}}else if(ft.length>0){if(W&&Re){const we=an(ft[0]);n.texStorage2D(t.TEXTURE_2D,Ge,Ke,we.width,we.height)}for(let we=0,be=ft.length;we<be;we++)Ue=ft[we],W?Pe&&n.texSubImage2D(t.TEXTURE_2D,we,0,0,ze,nt,Ue):n.texImage2D(t.TEXTURE_2D,we,Ke,ze,nt,Ue);R.generateMipmaps=!1}else if(W){if(Re){const we=an(Ae);n.texStorage2D(t.TEXTURE_2D,Ge,Ke,we.width,we.height)}Pe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ze,nt,Ae)}else n.texImage2D(t.TEXTURE_2D,0,Ke,ze,nt,Ae);S(R)&&x(me),He.__version=de.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function Te(k,R,ne){if(R.image.length!==6)return;const me=Ee(k,R),Me=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,k.__webglTexture,t.TEXTURE0+ne);const de=i.get(Me);if(Me.version!==de.__version||me===!0){n.activeTexture(t.TEXTURE0+ne);const He=Ot.getPrimaries(Ot.workingColorSpace),Oe=R.colorSpace===to?null:Ot.getPrimaries(R.colorSpace),$e=R.colorSpace===to||He===Oe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,$e);const Je=R.isCompressedTexture||R.image[0].isCompressedTexture,Ae=R.image[0]&&R.image[0].isDataTexture,ze=[];for(let be=0;be<6;be++)!Je&&!Ae?ze[be]=M(R.image[be],!0,o.maxCubemapSize):ze[be]=Ae?R.image[be].image:R.image[be],ze[be]=rn(R,ze[be]);const nt=ze[0],Ke=s.convert(R.format,R.colorSpace),Ue=s.convert(R.type),ft=E(R.internalFormat,Ke,Ue,R.colorSpace),W=R.isVideoTexture!==!0,Re=de.__version===void 0||me===!0,Pe=Me.dataReady;let Ge=C(R,nt);se(t.TEXTURE_CUBE_MAP,R);let we;if(Je){W&&Re&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,ft,nt.width,nt.height);for(let be=0;be<6;be++){we=ze[be].mipmaps;for(let Ye=0;Ye<we.length;Ye++){const ct=we[Ye];R.format!==gr?Ke!==null?W?Pe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye,0,0,ct.width,ct.height,Ke,ct.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye,ft,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):W?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye,0,0,ct.width,ct.height,Ke,Ue,ct.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye,ft,ct.width,ct.height,0,Ke,Ue,ct.data)}}}else{if(we=R.mipmaps,W&&Re){we.length>0&&Ge++;const be=an(ze[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,ft,be.width,be.height)}for(let be=0;be<6;be++)if(Ae){W?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,ze[be].width,ze[be].height,Ke,Ue,ze[be].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,ft,ze[be].width,ze[be].height,0,Ke,Ue,ze[be].data);for(let Ye=0;Ye<we.length;Ye++){const Ut=we[Ye].image[be].image;W?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye+1,0,0,Ut.width,Ut.height,Ke,Ue,Ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye+1,ft,Ut.width,Ut.height,0,Ke,Ue,Ut.data)}}else{W?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,0,0,Ke,Ue,ze[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,0,ft,Ke,Ue,ze[be]);for(let Ye=0;Ye<we.length;Ye++){const ct=we[Ye];W?Pe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye+1,0,0,Ke,Ue,ct.image[be]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+be,Ye+1,ft,Ke,Ue,ct.image[be])}}}S(R)&&x(t.TEXTURE_CUBE_MAP),de.__version=Me.version,R.onUpdate&&R.onUpdate(R)}k.__version=R.version}function Ie(k,R,ne,me,Me,de){const He=s.convert(ne.format,ne.colorSpace),Oe=s.convert(ne.type),$e=E(ne.internalFormat,He,Oe,ne.colorSpace),Je=i.get(R),Ae=i.get(ne);if(Ae.__renderTarget=R,!Je.__hasExternalTextures){const ze=Math.max(1,R.width>>de),nt=Math.max(1,R.height>>de);Me===t.TEXTURE_3D||Me===t.TEXTURE_2D_ARRAY?n.texImage3D(Me,de,$e,ze,nt,R.depth,0,He,Oe,null):n.texImage2D(Me,de,$e,ze,nt,0,He,Oe,null)}n.bindFramebuffer(t.FRAMEBUFFER,k),Xe(R)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,me,Me,Ae.__webglTexture,0,It(R)):(Me===t.TEXTURE_2D||Me>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,me,Me,Ae.__webglTexture,de),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(k,R,ne){if(t.bindRenderbuffer(t.RENDERBUFFER,k),R.depthBuffer){const me=R.depthTexture,Me=me&&me.isDepthTexture?me.type:null,de=A(R.stencilBuffer,Me),He=R.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Oe=It(R);Xe(R)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,de,R.width,R.height):ne?t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,de,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,de,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,He,t.RENDERBUFFER,k)}else{const me=R.textures;for(let Me=0;Me<me.length;Me++){const de=me[Me],He=s.convert(de.format,de.colorSpace),Oe=s.convert(de.type),$e=E(de.internalFormat,He,Oe,de.colorSpace),Je=It(R);ne&&Xe(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Je,$e,R.width,R.height):Xe(R)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Je,$e,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,$e,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function De(k,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,k),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const me=i.get(R.depthTexture);me.__renderTarget=R,(!me.__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),oe(R.depthTexture,0);const Me=me.__webglTexture,de=It(R);if(R.depthTexture.format===rc)Xe(R)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0,de):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Me,0);else if(R.depthTexture.format===ac)Xe(R)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0,de):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Me,0);else throw new Error("Unknown depthTexture format")}function Qe(k){const R=i.get(k),ne=k.isWebGLCubeRenderTarget===!0;if(R.__boundDepthTexture!==k.depthTexture){const me=k.depthTexture;if(R.__depthDisposeCallback&&R.__depthDisposeCallback(),me){const Me=()=>{delete R.__boundDepthTexture,delete R.__depthDisposeCallback,me.removeEventListener("dispose",Me)};me.addEventListener("dispose",Me),R.__depthDisposeCallback=Me}R.__boundDepthTexture=me}if(k.depthTexture&&!R.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");const me=k.texture.mipmaps;me&&me.length>0?De(R.__webglFramebuffer[0],k):De(R.__webglFramebuffer,k)}else if(ne){R.__webglDepthbuffer=[];for(let me=0;me<6;me++)if(n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[me]),R.__webglDepthbuffer[me]===void 0)R.__webglDepthbuffer[me]=t.createRenderbuffer(),ge(R.__webglDepthbuffer[me],k,!1);else{const Me=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,de=R.__webglDepthbuffer[me];t.bindRenderbuffer(t.RENDERBUFFER,de),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,de)}}else{const me=k.texture.mipmaps;if(me&&me.length>0?n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer===void 0)R.__webglDepthbuffer=t.createRenderbuffer(),ge(R.__webglDepthbuffer,k,!1);else{const Me=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,de=R.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,de),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,de)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function he(k,R,ne){const me=i.get(k);R!==void 0&&Ie(me.__webglFramebuffer,k,k.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ne!==void 0&&Qe(k)}function V(k){const R=k.texture,ne=i.get(k),me=i.get(R);k.addEventListener("dispose",L);const Me=k.textures,de=k.isWebGLCubeRenderTarget===!0,He=Me.length>1;if(He||(me.__webglTexture===void 0&&(me.__webglTexture=t.createTexture()),me.__version=R.version,u.memory.textures++),de){ne.__webglFramebuffer=[];for(let Oe=0;Oe<6;Oe++)if(R.mipmaps&&R.mipmaps.length>0){ne.__webglFramebuffer[Oe]=[];for(let $e=0;$e<R.mipmaps.length;$e++)ne.__webglFramebuffer[Oe][$e]=t.createFramebuffer()}else ne.__webglFramebuffer[Oe]=t.createFramebuffer()}else{if(R.mipmaps&&R.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Oe=0;Oe<R.mipmaps.length;Oe++)ne.__webglFramebuffer[Oe]=t.createFramebuffer()}else ne.__webglFramebuffer=t.createFramebuffer();if(He)for(let Oe=0,$e=Me.length;Oe<$e;Oe++){const Je=i.get(Me[Oe]);Je.__webglTexture===void 0&&(Je.__webglTexture=t.createTexture(),u.memory.textures++)}if(k.samples>0&&Xe(k)===!1){ne.__webglMultisampledFramebuffer=t.createFramebuffer(),ne.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Me.length;Oe++){const $e=Me[Oe];ne.__webglColorRenderbuffer[Oe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ne.__webglColorRenderbuffer[Oe]);const Je=s.convert($e.format,$e.colorSpace),Ae=s.convert($e.type),ze=E($e.internalFormat,Je,Ae,$e.colorSpace,k.isXRRenderTarget===!0),nt=It(k);t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,ze,k.width,k.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,ne.__webglColorRenderbuffer[Oe])}t.bindRenderbuffer(t.RENDERBUFFER,null),k.depthBuffer&&(ne.__webglDepthRenderbuffer=t.createRenderbuffer(),ge(ne.__webglDepthRenderbuffer,k,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(de){n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture),se(t.TEXTURE_CUBE_MAP,R);for(let Oe=0;Oe<6;Oe++)if(R.mipmaps&&R.mipmaps.length>0)for(let $e=0;$e<R.mipmaps.length;$e++)Ie(ne.__webglFramebuffer[Oe][$e],k,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,$e);else Ie(ne.__webglFramebuffer[Oe],k,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Oe,0);S(R)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(He){for(let Oe=0,$e=Me.length;Oe<$e;Oe++){const Je=Me[Oe],Ae=i.get(Je);let ze=t.TEXTURE_2D;(k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(ze=k.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ze,Ae.__webglTexture),se(ze,Je),Ie(ne.__webglFramebuffer,k,Je,t.COLOR_ATTACHMENT0+Oe,ze,0),S(Je)&&x(ze)}n.unbindTexture()}else{let Oe=t.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Oe=k.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Oe,me.__webglTexture),se(Oe,R),R.mipmaps&&R.mipmaps.length>0)for(let $e=0;$e<R.mipmaps.length;$e++)Ie(ne.__webglFramebuffer[$e],k,R,t.COLOR_ATTACHMENT0,Oe,$e);else Ie(ne.__webglFramebuffer,k,R,t.COLOR_ATTACHMENT0,Oe,0);S(R)&&x(Oe),n.unbindTexture()}k.depthBuffer&&Qe(k)}function et(k){const R=k.textures;for(let ne=0,me=R.length;ne<me;ne++){const Me=R[ne];if(S(Me)){const de=w(k),He=i.get(Me).__webglTexture;n.bindTexture(de,He),x(de),n.unbindTexture()}}}const Ve=[],ut=[];function ke(k){if(k.samples>0){if(Xe(k)===!1){const R=k.textures,ne=k.width,me=k.height;let Me=t.COLOR_BUFFER_BIT;const de=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,He=i.get(k),Oe=R.length>1;if(Oe)for(let Je=0;Je<R.length;Je++)n.bindFramebuffer(t.FRAMEBUFFER,He.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,He.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,He.__webglMultisampledFramebuffer);const $e=k.texture.mipmaps;$e&&$e.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,He.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,He.__webglFramebuffer);for(let Je=0;Je<R.length;Je++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(Me|=t.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(Me|=t.STENCIL_BUFFER_BIT)),Oe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,He.__webglColorRenderbuffer[Je]);const Ae=i.get(R[Je]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ae,0)}t.blitFramebuffer(0,0,ne,me,0,0,ne,me,Me,t.NEAREST),d===!0&&(Ve.length=0,ut.length=0,Ve.push(t.COLOR_ATTACHMENT0+Je),k.depthBuffer&&k.resolveDepthBuffer===!1&&(Ve.push(de),ut.push(de),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,ut)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ve))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Oe)for(let Je=0;Je<R.length;Je++){n.bindFramebuffer(t.FRAMEBUFFER,He.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.RENDERBUFFER,He.__webglColorRenderbuffer[Je]);const Ae=i.get(R[Je]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,He.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Je,t.TEXTURE_2D,Ae,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,He.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&d){const R=k.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[R])}}}function It(k){return Math.min(o.maxSamples,k.samples)}function Xe(k){const R=i.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function dt(k){const R=u.render.frame;p.get(k)!==R&&(p.set(k,R),k.update())}function rn(k,R){const ne=k.colorSpace,me=k.format,Me=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||ne!==bl&&ne!==to&&(Ot.getTransfer(ne)===Wt?(me!==gr||Me!==fa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),R}function an(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(h.width=k.naturalWidth||k.width,h.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(h.width=k.displayWidth,h.height=k.displayHeight):(h.width=k.width,h.height=k.height),h}this.allocateTextureUnit=te,this.resetTextureUnits=Y,this.setTexture2D=oe,this.setTexture2DArray=B,this.setTexture3D=q,this.setTextureCube=X,this.rebindTextures=he,this.setupRenderTarget=V,this.updateRenderTargetMipmap=et,this.updateMultisampleRenderTarget=ke,this.setupDepthRenderbuffer=Qe,this.setupFrameBufferTexture=Ie,this.useMultisampledRTT=Xe}function rz(t,e){function n(i,o=to){let s;const u=Ot.getTransfer(o);if(i===fa)return t.UNSIGNED_BYTE;if(i===ny)return t.UNSIGNED_SHORT_4_4_4_4;if(i===iy)return t.UNSIGNED_SHORT_5_5_5_1;if(i===fA)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===uA)return t.BYTE;if(i===cA)return t.SHORT;if(i===nc)return t.UNSIGNED_SHORT;if(i===ty)return t.INT;if(i===as)return t.UNSIGNED_INT;if(i===ra)return t.FLOAT;if(i===vc)return t.HALF_FLOAT;if(i===dA)return t.ALPHA;if(i===hA)return t.RGB;if(i===gr)return t.RGBA;if(i===rc)return t.DEPTH_COMPONENT;if(i===ac)return t.DEPTH_STENCIL;if(i===pA)return t.RED;if(i===ry)return t.RED_INTEGER;if(i===mA)return t.RG;if(i===ay)return t.RG_INTEGER;if(i===oy)return t.RGBA_INTEGER;if(i===Ad||i===wd||i===Cd||i===Rd)if(u===Wt)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Ad)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===wd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Cd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===Rd)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Ad)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===wd)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Cd)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===Rd)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Wg||i===Xg||i===qg||i===Yg)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===Wg)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Xg)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===qg)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Yg)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Kg||i===$g||i===Zg)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Kg||i===$g)return u===Wt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Zg)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Qg||i===Jg||i===e0||i===t0||i===n0||i===i0||i===r0||i===a0||i===o0||i===s0||i===l0||i===u0||i===c0||i===f0)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Qg)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Jg)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===e0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===t0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===n0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===i0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===r0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===a0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===o0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===s0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===l0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===u0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===c0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===f0)return u===Wt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Dd||i===d0||i===h0)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===Dd)return u===Wt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===d0)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===h0)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===vA||i===p0||i===m0||i===v0)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===Dd)return s.COMPRESSED_RED_RGTC1_EXT;if(i===p0)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===m0)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===v0)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===ic?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class IA extends yi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const az=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,oz=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class sz{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new IA(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new ha({vertexShader:az,fragmentShader:oz,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new aa(new mh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class lz extends Ul{constructor(e,n){super();const i=this;let o=null,s=1,u=null,c="local-floor",d=1,h=null,p=null,m=null,g=null,_=null,b=null;const M=new sz,S={},x=n.getContextAttributes();let w=null,E=null;const A=[],C=[],N=new Xt;let L=null;const H=new Zi;H.viewport=new mn;const P=new Zi;P.viewport=new mn;const U=[H,P],I=new CN;let Y=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let _e=A[ie];return _e===void 0&&(_e=new xv,A[ie]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ie){let _e=A[ie];return _e===void 0&&(_e=new xv,A[ie]=_e),_e.getGripSpace()},this.getHand=function(ie){let _e=A[ie];return _e===void 0&&(_e=new xv,A[ie]=_e),_e.getHandSpace()};function ce(ie){const _e=C.indexOf(ie.inputSource);if(_e===-1)return;const Te=A[_e];Te!==void 0&&(Te.update(ie.inputSource,ie.frame,h||u),Te.dispatchEvent({type:ie.type,data:ie.inputSource}))}function oe(){o.removeEventListener("select",ce),o.removeEventListener("selectstart",ce),o.removeEventListener("selectend",ce),o.removeEventListener("squeeze",ce),o.removeEventListener("squeezestart",ce),o.removeEventListener("squeezeend",ce),o.removeEventListener("end",oe),o.removeEventListener("inputsourceschange",B);for(let ie=0;ie<A.length;ie++){const _e=C[ie];_e!==null&&(C[ie]=null,A[ie].disconnect(_e))}Y=null,te=null,M.reset();for(const ie in S)delete S[ie];e.setRenderTarget(w),_=null,g=null,m=null,o=null,E=null,Ne.stop(),i.isPresenting=!1,e.setPixelRatio(L),e.setSize(N.width,N.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ie){s=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){c=ie,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||u},this.setReferenceSpace=function(ie){h=ie},this.getBaseLayer=function(){return g!==null?g:_},this.getBinding=function(){return m},this.getFrame=function(){return b},this.getSession=function(){return o},this.setSession=async function(ie){if(o=ie,o!==null){if(w=e.getRenderTarget(),o.addEventListener("select",ce),o.addEventListener("selectstart",ce),o.addEventListener("selectend",ce),o.addEventListener("squeeze",ce),o.addEventListener("squeezestart",ce),o.addEventListener("squeezeend",ce),o.addEventListener("end",oe),o.addEventListener("inputsourceschange",B),x.xrCompatible!==!0&&await n.makeXRCompatible(),L=e.getPixelRatio(),e.getSize(N),typeof XRWebGLBinding<"u"&&(m=new XRWebGLBinding(o,n)),m!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let Te=null,Ie=null,ge=null;x.depth&&(ge=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Te=x.stencil?ac:rc,Ie=x.stencil?ic:as);const De={colorFormat:n.RGBA8,depthFormat:ge,scaleFactor:s};g=m.createProjectionLayer(De),o.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),E=new os(g.textureWidth,g.textureHeight,{format:gr,type:fa,depthTexture:new DA(g.textureWidth,g.textureHeight,Ie,void 0,void 0,void 0,void 0,void 0,void 0,Te),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const Te={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};_=new XRWebGLLayer(o,n,Te),o.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),E=new os(_.framebufferWidth,_.framebufferHeight,{format:gr,type:fa,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}E.isXRRenderTarget=!0,this.setFoveation(d),h=null,u=await o.requestReferenceSpace(c),Ne.setContext(o),Ne.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(o!==null)return o.environmentBlendMode},this.getDepthTexture=function(){return M.getDepthTexture()};function B(ie){for(let _e=0;_e<ie.removed.length;_e++){const Te=ie.removed[_e],Ie=C.indexOf(Te);Ie>=0&&(C[Ie]=null,A[Ie].disconnect(Te))}for(let _e=0;_e<ie.added.length;_e++){const Te=ie.added[_e];let Ie=C.indexOf(Te);if(Ie===-1){for(let De=0;De<A.length;De++)if(De>=C.length){C.push(Te),Ie=De;break}else if(C[De]===null){C[De]=Te,Ie=De;break}if(Ie===-1)break}const ge=A[Ie];ge&&ge.connect(Te)}}const q=new fe,X=new fe;function ye(ie,_e,Te){q.setFromMatrixPosition(_e.matrixWorld),X.setFromMatrixPosition(Te.matrixWorld);const Ie=q.distanceTo(X),ge=_e.projectionMatrix.elements,De=Te.projectionMatrix.elements,Qe=ge[14]/(ge[10]-1),he=ge[14]/(ge[10]+1),V=(ge[9]+1)/ge[5],et=(ge[9]-1)/ge[5],Ve=(ge[8]-1)/ge[0],ut=(De[8]+1)/De[0],ke=Qe*Ve,It=Qe*ut,Xe=Ie/(-Ve+ut),dt=Xe*-Ve;if(_e.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(dt),ie.translateZ(Xe),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),ge[10]===-1)ie.projectionMatrix.copy(_e.projectionMatrix),ie.projectionMatrixInverse.copy(_e.projectionMatrixInverse);else{const rn=Qe+Xe,an=he+Xe,k=ke-dt,R=It+(Ie-dt),ne=V*he/an*rn,me=et*he/an*rn;ie.projectionMatrix.makePerspective(k,R,ne,me,rn,an),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}function z(ie,_e){_e===null?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(_e.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(o===null)return;let _e=ie.near,Te=ie.far;M.texture!==null&&(M.depthNear>0&&(_e=M.depthNear),M.depthFar>0&&(Te=M.depthFar)),I.near=P.near=H.near=_e,I.far=P.far=H.far=Te,(Y!==I.near||te!==I.far)&&(o.updateRenderState({depthNear:I.near,depthFar:I.far}),Y=I.near,te=I.far),I.layers.mask=ie.layers.mask|6,H.layers.mask=I.layers.mask&3,P.layers.mask=I.layers.mask&5;const Ie=ie.parent,ge=I.cameras;z(I,Ie);for(let De=0;De<ge.length;De++)z(ge[De],Ie);ge.length===2?ye(I,H,P):I.projectionMatrix.copy(H.projectionMatrix),J(ie,I,Ie)};function J(ie,_e,Te){Te===null?ie.matrix.copy(_e.matrixWorld):(ie.matrix.copy(Te.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(_e.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(_e.projectionMatrix),ie.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=g0*2*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(g===null&&_===null))return d},this.setFoveation=function(ie){d=ie,g!==null&&(g.fixedFoveation=ie),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ie)},this.hasDepthSensing=function(){return M.texture!==null},this.getDepthSensingMesh=function(){return M.getMesh(I)},this.getCameraTexture=function(ie){return S[ie]};let se=null;function Ee(ie,_e){if(p=_e.getViewerPose(h||u),b=_e,p!==null){const Te=p.views;_!==null&&(e.setRenderTargetFramebuffer(E,_.framebuffer),e.setRenderTarget(E));let Ie=!1;Te.length!==I.cameras.length&&(I.cameras.length=0,Ie=!0);for(let he=0;he<Te.length;he++){const V=Te[he];let et=null;if(_!==null)et=_.getViewport(V);else{const ut=m.getViewSubImage(g,V);et=ut.viewport,he===0&&(e.setRenderTargetTextures(E,ut.colorTexture,ut.depthStencilTexture),e.setRenderTarget(E))}let Ve=U[he];Ve===void 0&&(Ve=new Zi,Ve.layers.enable(he),Ve.viewport=new mn,U[he]=Ve),Ve.matrix.fromArray(V.transform.matrix),Ve.matrix.decompose(Ve.position,Ve.quaternion,Ve.scale),Ve.projectionMatrix.fromArray(V.projectionMatrix),Ve.projectionMatrixInverse.copy(Ve.projectionMatrix).invert(),Ve.viewport.set(et.x,et.y,et.width,et.height),he===0&&(I.matrix.copy(Ve.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Ie===!0&&I.cameras.push(Ve)}const ge=o.enabledFeatures;if(ge&&ge.includes("depth-sensing")&&o.depthUsage=="gpu-optimized"&&m){const he=m.getDepthInformation(Te[0]);he&&he.isValid&&he.texture&&M.init(he,o.renderState)}if(ge&&ge.includes("camera-access")&&(e.state.unbindTexture(),m))for(let he=0;he<Te.length;he++){const V=Te[he].camera;if(V){let et=S[V];et||(et=new IA,S[V]=et);const Ve=m.getCameraImage(V);et.sourceTexture=Ve}}}for(let Te=0;Te<A.length;Te++){const Ie=C[Te],ge=A[Te];Ie!==null&&ge!==void 0&&ge.update(Ie,_e,h||u)}se&&se(ie,_e),_e.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:_e}),b=null}const Ne=new OA;Ne.setAnimationLoop(Ee),this.setAnimationLoop=function(ie){se=ie},this.dispose=function(){}}}const Fo=new da,uz=new xn;function cz(t,e){function n(S,x){S.matrixAutoUpdate===!0&&S.updateMatrix(),x.value.copy(S.matrix)}function i(S,x){x.color.getRGB(S.fogColor.value,AA(t)),x.isFog?(S.fogNear.value=x.near,S.fogFar.value=x.far):x.isFogExp2&&(S.fogDensity.value=x.density)}function o(S,x,w,E,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(S,x):x.isMeshToonMaterial?(s(S,x),m(S,x)):x.isMeshPhongMaterial?(s(S,x),p(S,x)):x.isMeshStandardMaterial?(s(S,x),g(S,x),x.isMeshPhysicalMaterial&&_(S,x,A)):x.isMeshMatcapMaterial?(s(S,x),b(S,x)):x.isMeshDepthMaterial?s(S,x):x.isMeshDistanceMaterial?(s(S,x),M(S,x)):x.isMeshNormalMaterial?s(S,x):x.isLineBasicMaterial?(u(S,x),x.isLineDashedMaterial&&c(S,x)):x.isPointsMaterial?d(S,x,w,E):x.isSpriteMaterial?h(S,x):x.isShadowMaterial?(S.color.value.copy(x.color),S.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(S,x){S.opacity.value=x.opacity,x.color&&S.diffuse.value.copy(x.color),x.emissive&&S.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(S.map.value=x.map,n(x.map,S.mapTransform)),x.alphaMap&&(S.alphaMap.value=x.alphaMap,n(x.alphaMap,S.alphaMapTransform)),x.bumpMap&&(S.bumpMap.value=x.bumpMap,n(x.bumpMap,S.bumpMapTransform),S.bumpScale.value=x.bumpScale,x.side===gi&&(S.bumpScale.value*=-1)),x.normalMap&&(S.normalMap.value=x.normalMap,n(x.normalMap,S.normalMapTransform),S.normalScale.value.copy(x.normalScale),x.side===gi&&S.normalScale.value.negate()),x.displacementMap&&(S.displacementMap.value=x.displacementMap,n(x.displacementMap,S.displacementMapTransform),S.displacementScale.value=x.displacementScale,S.displacementBias.value=x.displacementBias),x.emissiveMap&&(S.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,S.emissiveMapTransform)),x.specularMap&&(S.specularMap.value=x.specularMap,n(x.specularMap,S.specularMapTransform)),x.alphaTest>0&&(S.alphaTest.value=x.alphaTest);const w=e.get(x),E=w.envMap,A=w.envMapRotation;E&&(S.envMap.value=E,Fo.copy(A),Fo.x*=-1,Fo.y*=-1,Fo.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Fo.y*=-1,Fo.z*=-1),S.envMapRotation.value.setFromMatrix4(uz.makeRotationFromEuler(Fo)),S.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,S.reflectivity.value=x.reflectivity,S.ior.value=x.ior,S.refractionRatio.value=x.refractionRatio),x.lightMap&&(S.lightMap.value=x.lightMap,S.lightMapIntensity.value=x.lightMapIntensity,n(x.lightMap,S.lightMapTransform)),x.aoMap&&(S.aoMap.value=x.aoMap,S.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,S.aoMapTransform))}function u(S,x){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity,x.map&&(S.map.value=x.map,n(x.map,S.mapTransform))}function c(S,x){S.dashSize.value=x.dashSize,S.totalSize.value=x.dashSize+x.gapSize,S.scale.value=x.scale}function d(S,x,w,E){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity,S.size.value=x.size*w,S.scale.value=E*.5,x.map&&(S.map.value=x.map,n(x.map,S.uvTransform)),x.alphaMap&&(S.alphaMap.value=x.alphaMap,n(x.alphaMap,S.alphaMapTransform)),x.alphaTest>0&&(S.alphaTest.value=x.alphaTest)}function h(S,x){S.diffuse.value.copy(x.color),S.opacity.value=x.opacity,S.rotation.value=x.rotation,x.map&&(S.map.value=x.map,n(x.map,S.mapTransform)),x.alphaMap&&(S.alphaMap.value=x.alphaMap,n(x.alphaMap,S.alphaMapTransform)),x.alphaTest>0&&(S.alphaTest.value=x.alphaTest)}function p(S,x){S.specular.value.copy(x.specular),S.shininess.value=Math.max(x.shininess,1e-4)}function m(S,x){x.gradientMap&&(S.gradientMap.value=x.gradientMap)}function g(S,x){S.metalness.value=x.metalness,x.metalnessMap&&(S.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,S.metalnessMapTransform)),S.roughness.value=x.roughness,x.roughnessMap&&(S.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,S.roughnessMapTransform)),x.envMap&&(S.envMapIntensity.value=x.envMapIntensity)}function _(S,x,w){S.ior.value=x.ior,x.sheen>0&&(S.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),S.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(S.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,S.sheenColorMapTransform)),x.sheenRoughnessMap&&(S.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,S.sheenRoughnessMapTransform))),x.clearcoat>0&&(S.clearcoat.value=x.clearcoat,S.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(S.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,S.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(S.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,S.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(S.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,S.clearcoatNormalMapTransform),S.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===gi&&S.clearcoatNormalScale.value.negate())),x.dispersion>0&&(S.dispersion.value=x.dispersion),x.iridescence>0&&(S.iridescence.value=x.iridescence,S.iridescenceIOR.value=x.iridescenceIOR,S.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],S.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(S.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,S.iridescenceMapTransform)),x.iridescenceThicknessMap&&(S.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,S.iridescenceThicknessMapTransform))),x.transmission>0&&(S.transmission.value=x.transmission,S.transmissionSamplerMap.value=w.texture,S.transmissionSamplerSize.value.set(w.width,w.height),x.transmissionMap&&(S.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,S.transmissionMapTransform)),S.thickness.value=x.thickness,x.thicknessMap&&(S.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,S.thicknessMapTransform)),S.attenuationDistance.value=x.attenuationDistance,S.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(S.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(S.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,S.anisotropyMapTransform))),S.specularIntensity.value=x.specularIntensity,S.specularColor.value.copy(x.specularColor),x.specularColorMap&&(S.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,S.specularColorMapTransform)),x.specularIntensityMap&&(S.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,S.specularIntensityMapTransform))}function b(S,x){x.matcap&&(S.matcap.value=x.matcap)}function M(S,x){const w=e.get(x).light;S.referencePosition.value.setFromMatrixPosition(w.matrixWorld),S.nearDistance.value=w.shadow.camera.near,S.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:o}}function fz(t,e,n,i){let o={},s={},u=[];const c=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function d(w,E){const A=E.program;i.uniformBlockBinding(w,A)}function h(w,E){let A=o[w.id];A===void 0&&(b(w),A=p(w),o[w.id]=A,w.addEventListener("dispose",S));const C=E.program;i.updateUBOMapping(w,C);const N=e.render.frame;s[w.id]!==N&&(g(w),s[w.id]=N)}function p(w){const E=m();w.__bindingPointIndex=E;const A=t.createBuffer(),C=w.__size,N=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,C,N),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,E,A),A}function m(){for(let w=0;w<c;w++)if(u.indexOf(w)===-1)return u.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(w){const E=o[w.id],A=w.uniforms,C=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,E);for(let N=0,L=A.length;N<L;N++){const H=Array.isArray(A[N])?A[N]:[A[N]];for(let P=0,U=H.length;P<U;P++){const I=H[P];if(_(I,N,P,C)===!0){const Y=I.__offset,te=Array.isArray(I.value)?I.value:[I.value];let ce=0;for(let oe=0;oe<te.length;oe++){const B=te[oe],q=M(B);typeof B=="number"||typeof B=="boolean"?(I.__data[0]=B,t.bufferSubData(t.UNIFORM_BUFFER,Y+ce,I.__data)):B.isMatrix3?(I.__data[0]=B.elements[0],I.__data[1]=B.elements[1],I.__data[2]=B.elements[2],I.__data[3]=0,I.__data[4]=B.elements[3],I.__data[5]=B.elements[4],I.__data[6]=B.elements[5],I.__data[7]=0,I.__data[8]=B.elements[6],I.__data[9]=B.elements[7],I.__data[10]=B.elements[8],I.__data[11]=0):(B.toArray(I.__data,ce),ce+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,Y,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function _(w,E,A,C){const N=w.value,L=E+"_"+A;if(C[L]===void 0)return typeof N=="number"||typeof N=="boolean"?C[L]=N:C[L]=N.clone(),!0;{const H=C[L];if(typeof N=="number"||typeof N=="boolean"){if(H!==N)return C[L]=N,!0}else if(H.equals(N)===!1)return H.copy(N),!0}return!1}function b(w){const E=w.uniforms;let A=0;const C=16;for(let L=0,H=E.length;L<H;L++){const P=Array.isArray(E[L])?E[L]:[E[L]];for(let U=0,I=P.length;U<I;U++){const Y=P[U],te=Array.isArray(Y.value)?Y.value:[Y.value];for(let ce=0,oe=te.length;ce<oe;ce++){const B=te[ce],q=M(B),X=A%C,ye=X%q.boundary,z=X+ye;A+=ye,z!==0&&C-z<q.storage&&(A+=C-z),Y.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),Y.__offset=A,A+=q.storage}}}const N=A%C;return N>0&&(A+=C-N),w.__size=A,w.__cache={},this}function M(w){const E={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(E.boundary=4,E.storage=4):w.isVector2?(E.boundary=8,E.storage=8):w.isVector3||w.isColor?(E.boundary=16,E.storage=12):w.isVector4?(E.boundary=16,E.storage=16):w.isMatrix3?(E.boundary=48,E.storage=48):w.isMatrix4?(E.boundary=64,E.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),E}function S(w){const E=w.target;E.removeEventListener("dispose",S);const A=u.indexOf(E.__bindingPointIndex);u.splice(A,1),t.deleteBuffer(o[E.id]),delete o[E.id],delete s[E.id]}function x(){for(const w in o)t.deleteBuffer(o[w]);u=[],o={},s={}}return{bind:d,update:h,dispose:x}}class dz{constructor(e={}){const{canvas:n=qP(),context:i=null,depth:o=!0,stencil:s=!1,alpha:u=!1,antialias:c=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:h=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:m=!1,reversedDepthBuffer:g=!1}=e;this.isWebGLRenderer=!0;let _;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=i.getContextAttributes().alpha}else _=u;const b=new Uint32Array(4),M=new Int32Array(4);let S=null,x=null;const w=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=ro,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let C=!1;this._outputColorSpace=$i;let N=0,L=0,H=null,P=-1,U=null;const I=new mn,Y=new mn;let te=null;const ce=new Lt(0);let oe=0,B=n.width,q=n.height,X=1,ye=null,z=null;const J=new mn(0,0,B,q),se=new mn(0,0,B,q);let Ee=!1;const Ne=new RA;let ie=!1,_e=!1;const Te=new xn,Ie=new fe,ge=new mn,De={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Qe=!1;function he(){return H===null?X:1}let V=i;function et(O,K){return n.getContext(O,K)}try{const O={alpha:!0,depth:o,stencil:s,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:h,powerPreference:p,failIfMajorPerformanceCaveat:m};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${ey}`),n.addEventListener("webglcontextlost",Pe,!1),n.addEventListener("webglcontextrestored",Ge,!1),n.addEventListener("webglcontextcreationerror",we,!1),V===null){const K="webgl2";if(V=et(K,O),V===null)throw et(K)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let Ve,ut,ke,It,Xe,dt,rn,an,k,R,ne,me,Me,de,He,Oe,$e,Je,Ae,ze,nt,Ke,Ue,ft;function W(){Ve=new bL(V),Ve.init(),Ke=new rz(V,Ve),ut=new mL(V,Ve,e,Ke),ke=new nz(V,Ve),ut.reversedDepthBuffer&&g&&ke.buffers.depth.setReversed(!0),It=new TL(V),Xe=new VI,dt=new iz(V,Ve,ke,Xe,ut,Ke,It),rn=new gL(A),an=new SL(A),k=new ON(V),Ue=new hL(V,k),R=new ML(V,k,It,Ue),ne=new wL(V,R,k,It),Ae=new AL(V,ut,dt),Oe=new vL(Xe),me=new GI(A,rn,an,Ve,ut,Ue,Oe),Me=new cz(A,Xe),de=new WI,He=new ZI(Ve),Je=new dL(A,rn,an,ke,ne,_,d),$e=new ez(A,ne,ut),ft=new fz(V,It,ut,ke),ze=new pL(V,Ve,It),nt=new EL(V,Ve,It),It.programs=me.programs,A.capabilities=ut,A.extensions=Ve,A.properties=Xe,A.renderLists=de,A.shadowMap=$e,A.state=ke,A.info=It}W();const Re=new lz(A,V);this.xr=Re,this.getContext=function(){return V},this.getContextAttributes=function(){return V.getContextAttributes()},this.forceContextLoss=function(){const O=Ve.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=Ve.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(O){O!==void 0&&(X=O,this.setSize(B,q,!1))},this.getSize=function(O){return O.set(B,q)},this.setSize=function(O,K,le=!0){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=O,q=K,n.width=Math.floor(O*X),n.height=Math.floor(K*X),le===!0&&(n.style.width=O+"px",n.style.height=K+"px"),this.setViewport(0,0,O,K)},this.getDrawingBufferSize=function(O){return O.set(B*X,q*X).floor()},this.setDrawingBufferSize=function(O,K,le){B=O,q=K,X=le,n.width=Math.floor(O*le),n.height=Math.floor(K*le),this.setViewport(0,0,O,K)},this.getCurrentViewport=function(O){return O.copy(I)},this.getViewport=function(O){return O.copy(J)},this.setViewport=function(O,K,le,ue){O.isVector4?J.set(O.x,O.y,O.z,O.w):J.set(O,K,le,ue),ke.viewport(I.copy(J).multiplyScalar(X).round())},this.getScissor=function(O){return O.copy(se)},this.setScissor=function(O,K,le,ue){O.isVector4?se.set(O.x,O.y,O.z,O.w):se.set(O,K,le,ue),ke.scissor(Y.copy(se).multiplyScalar(X).round())},this.getScissorTest=function(){return Ee},this.setScissorTest=function(O){ke.setScissorTest(Ee=O)},this.setOpaqueSort=function(O){ye=O},this.setTransparentSort=function(O){z=O},this.getClearColor=function(O){return O.copy(Je.getClearColor())},this.setClearColor=function(){Je.setClearColor(...arguments)},this.getClearAlpha=function(){return Je.getClearAlpha()},this.setClearAlpha=function(){Je.setClearAlpha(...arguments)},this.clear=function(O=!0,K=!0,le=!0){let ue=0;if(O){let Z=!1;if(H!==null){const Ce=H.texture.format;Z=Ce===oy||Ce===ay||Ce===ry}if(Z){const Ce=H.texture.type,Le=Ce===fa||Ce===as||Ce===nc||Ce===ic||Ce===ny||Ce===iy,je=Je.getClearColor(),Be=Je.getClearAlpha(),rt=je.r,ot=je.g,Ze=je.b;Le?(b[0]=rt,b[1]=ot,b[2]=Ze,b[3]=Be,V.clearBufferuiv(V.COLOR,0,b)):(M[0]=rt,M[1]=ot,M[2]=Ze,M[3]=Be,V.clearBufferiv(V.COLOR,0,M))}else ue|=V.COLOR_BUFFER_BIT}K&&(ue|=V.DEPTH_BUFFER_BIT),le&&(ue|=V.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),V.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Pe,!1),n.removeEventListener("webglcontextrestored",Ge,!1),n.removeEventListener("webglcontextcreationerror",we,!1),Je.dispose(),de.dispose(),He.dispose(),Xe.dispose(),rn.dispose(),an.dispose(),ne.dispose(),Ue.dispose(),ft.dispose(),me.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",Mn),Re.removeEventListener("sessionend",En),sn.stop()};function Pe(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const O=It.autoReset,K=$e.enabled,le=$e.autoUpdate,ue=$e.needsUpdate,Z=$e.type;W(),It.autoReset=O,$e.enabled=K,$e.autoUpdate=le,$e.needsUpdate=ue,$e.type=Z}function we(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function be(O){const K=O.target;K.removeEventListener("dispose",be),Ye(K)}function Ye(O){ct(O),Xe.remove(O)}function ct(O){const K=Xe.get(O).programs;K!==void 0&&(K.forEach(function(le){me.releaseProgram(le)}),O.isShaderMaterial&&me.releaseShaderCache(O))}this.renderBufferDirect=function(O,K,le,ue,Z,Ce){K===null&&(K=De);const Le=Z.isMesh&&Z.matrixWorld.determinant()<0,je=Ma(O,K,le,ue,Z);ke.setMaterial(ue,Le);let Be=le.index,rt=1;if(ue.wireframe===!0){if(Be=R.getWireframeAttribute(le),Be===void 0)return;rt=2}const ot=le.drawRange,Ze=le.attributes.position;let vt=ot.start*rt,Rt=(ot.start+ot.count)*rt;Ce!==null&&(vt=Math.max(vt,Ce.start*rt),Rt=Math.min(Rt,(Ce.start+Ce.count)*rt)),Be!==null?(vt=Math.max(vt,0),Rt=Math.min(Rt,Be.count)):Ze!=null&&(vt=Math.max(vt,0),Rt=Math.min(Rt,Ze.count));const en=Rt-vt;if(en<0||en===1/0)return;Ue.setup(Z,ue,je,le,Be);let kt,gt=ze;if(Be!==null&&(kt=k.get(Be),gt=nt,gt.setIndex(kt)),Z.isMesh)ue.wireframe===!0?(ke.setLineWidth(ue.wireframeLinewidth*he()),gt.setMode(V.LINES)):gt.setMode(V.TRIANGLES);else if(Z.isLine){let it=ue.linewidth;it===void 0&&(it=1),ke.setLineWidth(it*he()),Z.isLineSegments?gt.setMode(V.LINES):Z.isLineLoop?gt.setMode(V.LINE_LOOP):gt.setMode(V.LINE_STRIP)}else Z.isPoints?gt.setMode(V.POINTS):Z.isSprite&&gt.setMode(V.TRIANGLES);if(Z.isBatchedMesh)if(Z._multiDrawInstances!==null)ml("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),gt.renderMultiDrawInstances(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount,Z._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))gt.renderMultiDraw(Z._multiDrawStarts,Z._multiDrawCounts,Z._multiDrawCount);else{const it=Z._multiDrawStarts,Zt=Z._multiDrawCounts,St=Z._multiDrawCount,Kn=Be?k.get(Be).bytesPerElement:1,or=Xe.get(ue).currentProgram.getUniforms();for(let ii=0;ii<St;ii++)or.setValue(V,"_gl_DrawID",ii),gt.render(it[ii]/Kn,Zt[ii])}else if(Z.isInstancedMesh)gt.renderInstances(vt,en,Z.count);else if(le.isInstancedBufferGeometry){const it=le._maxInstanceCount!==void 0?le._maxInstanceCount:1/0,Zt=Math.min(le.instanceCount,it);gt.renderInstances(vt,en,Zt)}else gt.render(vt,en)};function Ut(O,K,le){O.transparent===!0&&O.side===Cr&&O.forceSinglePass===!1?(O.side=gi,O.needsUpdate=!0,Sr(O,K,le),O.side=so,O.needsUpdate=!0,Sr(O,K,le),O.side=Cr):Sr(O,K,le)}this.compile=function(O,K,le=null){le===null&&(le=O),x=He.get(le),x.init(K),E.push(x),le.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(x.pushLight(Z),Z.castShadow&&x.pushShadow(Z))}),O!==le&&O.traverseVisible(function(Z){Z.isLight&&Z.layers.test(K.layers)&&(x.pushLight(Z),Z.castShadow&&x.pushShadow(Z))}),x.setupLights();const ue=new Set;return O.traverse(function(Z){if(!(Z.isMesh||Z.isPoints||Z.isLine||Z.isSprite))return;const Ce=Z.material;if(Ce)if(Array.isArray(Ce))for(let Le=0;Le<Ce.length;Le++){const je=Ce[Le];Ut(je,le,Z),ue.add(je)}else Ut(Ce,le,Z),ue.add(Ce)}),x=E.pop(),ue},this.compileAsync=function(O,K,le=null){const ue=this.compile(O,K,le);return new Promise(Z=>{function Ce(){if(ue.forEach(function(Le){Xe.get(Le).currentProgram.isReady()&&ue.delete(Le)}),ue.size===0){Z(O);return}setTimeout(Ce,10)}Ve.get("KHR_parallel_shader_compile")!==null?Ce():setTimeout(Ce,10)})};let Ct=null;function ar(O){Ct&&Ct(O)}function Mn(){sn.stop()}function En(){sn.start()}const sn=new OA;sn.setAnimationLoop(ar),typeof self<"u"&&sn.setContext(self),this.setAnimationLoop=function(O){Ct=O,Re.setAnimationLoop(O),O===null?sn.stop():sn.start()},Re.addEventListener("sessionstart",Mn),Re.addEventListener("sessionend",En),this.render=function(O,K){if(K!==void 0&&K.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;if(O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),K.parent===null&&K.matrixWorldAutoUpdate===!0&&K.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(K),K=Re.getCamera()),O.isScene===!0&&O.onBeforeRender(A,O,K,H),x=He.get(O,E.length),x.init(K),E.push(x),Te.multiplyMatrices(K.projectionMatrix,K.matrixWorldInverse),Ne.setFromProjectionMatrix(Te,Dr,K.reversedDepth),_e=this.localClippingEnabled,ie=Oe.init(this.clippingPlanes,_e),S=de.get(O,w.length),S.init(),w.push(S),Re.enabled===!0&&Re.isPresenting===!0){const Ce=A.xr.getDepthSensingMesh();Ce!==null&&xr(Ce,K,-1/0,A.sortObjects)}xr(O,K,0,A.sortObjects),S.finish(),A.sortObjects===!0&&S.sort(ye,z),Qe=Re.enabled===!1||Re.isPresenting===!1||Re.hasDepthSensing()===!1,Qe&&Je.addToRenderList(S,O),this.info.render.frame++,ie===!0&&Oe.beginShadows();const le=x.state.shadowsArray;$e.render(le,O,K),ie===!0&&Oe.endShadows(),this.info.autoReset===!0&&this.info.reset();const ue=S.opaque,Z=S.transmissive;if(x.setupLights(),K.isArrayCamera){const Ce=K.cameras;if(Z.length>0)for(let Le=0,je=Ce.length;Le<je;Le++){const Be=Ce[Le];Ic(ue,Z,O,Be)}Qe&&Je.render(O);for(let Le=0,je=Ce.length;Le<je;Le++){const Be=Ce[Le];vs(S,O,Be,Be.viewport)}}else Z.length>0&&Ic(ue,Z,O,K),Qe&&Je.render(O),vs(S,O,K);H!==null&&L===0&&(dt.updateMultisampleRenderTarget(H),dt.updateRenderTargetMipmap(H)),O.isScene===!0&&O.onAfterRender(A,O,K),Ue.resetDefaultState(),P=-1,U=null,E.pop(),E.length>0?(x=E[E.length-1],ie===!0&&Oe.setGlobalState(A.clippingPlanes,x.state.camera)):x=null,w.pop(),w.length>0?S=w[w.length-1]:S=null};function xr(O,K,le,ue){if(O.visible===!1)return;if(O.layers.test(K.layers)){if(O.isGroup)le=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(K);else if(O.isLight)x.pushLight(O),O.castShadow&&x.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||Ne.intersectsSprite(O)){ue&&ge.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Te);const Le=ne.update(O),je=O.material;je.visible&&S.push(O,Le,je,le,ge.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||Ne.intersectsObject(O))){const Le=ne.update(O),je=O.material;if(ue&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),ge.copy(O.boundingSphere.center)):(Le.boundingSphere===null&&Le.computeBoundingSphere(),ge.copy(Le.boundingSphere.center)),ge.applyMatrix4(O.matrixWorld).applyMatrix4(Te)),Array.isArray(je)){const Be=Le.groups;for(let rt=0,ot=Be.length;rt<ot;rt++){const Ze=Be[rt],vt=je[Ze.materialIndex];vt&&vt.visible&&S.push(O,Le,vt,le,ge.z,Ze)}}else je.visible&&S.push(O,Le,je,le,ge.z,null)}}const Ce=O.children;for(let Le=0,je=Ce.length;Le<je;Le++)xr(Ce[Le],K,le,ue)}function vs(O,K,le,ue){const Z=O.opaque,Ce=O.transmissive,Le=O.transparent;x.setupLightsView(le),ie===!0&&Oe.setGlobalState(A.clippingPlanes,le),ue&&ke.viewport(I.copy(ue)),Z.length>0&&gs(Z,K,le),Ce.length>0&&gs(Ce,K,le),Le.length>0&&gs(Le,K,le),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1)}function Ic(O,K,le,ue){if((le.isScene===!0?le.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[ue.id]===void 0&&(x.state.transmissionRenderTarget[ue.id]=new os(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?vc:fa,minFilter:Yo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ot.workingColorSpace}));const Ce=x.state.transmissionRenderTarget[ue.id],Le=ue.viewport||I;Ce.setSize(Le.z*A.transmissionResolutionScale,Le.w*A.transmissionResolutionScale);const je=A.getRenderTarget(),Be=A.getActiveCubeFace(),rt=A.getActiveMipmapLevel();A.setRenderTarget(Ce),A.getClearColor(ce),oe=A.getClearAlpha(),oe<1&&A.setClearColor(16777215,.5),A.clear(),Qe&&Je.render(le);const ot=A.toneMapping;A.toneMapping=ro;const Ze=ue.viewport;if(ue.viewport!==void 0&&(ue.viewport=void 0),x.setupLightsView(ue),ie===!0&&Oe.setGlobalState(A.clippingPlanes,ue),gs(O,le,ue),dt.updateMultisampleRenderTarget(Ce),dt.updateRenderTargetMipmap(Ce),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let vt=!1;for(let Rt=0,en=K.length;Rt<en;Rt++){const kt=K[Rt],gt=kt.object,it=kt.geometry,Zt=kt.material,St=kt.group;if(Zt.side===Cr&&gt.layers.test(ue.layers)){const Kn=Zt.side;Zt.side=gi,Zt.needsUpdate=!0,jl(gt,le,ue,it,Zt,St),Zt.side=Kn,Zt.needsUpdate=!0,vt=!0}}vt===!0&&(dt.updateMultisampleRenderTarget(Ce),dt.updateRenderTargetMipmap(Ce))}A.setRenderTarget(je,Be,rt),A.setClearColor(ce,oe),Ze!==void 0&&(ue.viewport=Ze),A.toneMapping=ot}function gs(O,K,le){const ue=K.isScene===!0?K.overrideMaterial:null;for(let Z=0,Ce=O.length;Z<Ce;Z++){const Le=O[Z],je=Le.object,Be=Le.geometry,rt=Le.group;let ot=Le.material;ot.allowOverride===!0&&ue!==null&&(ot=ue),je.layers.test(le.layers)&&jl(je,K,le,Be,ot,rt)}}function jl(O,K,le,ue,Z,Ce){O.onBeforeRender(A,K,le,ue,Z,Ce),O.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),Z.onBeforeRender(A,K,le,ue,O,Ce),Z.transparent===!0&&Z.side===Cr&&Z.forceSinglePass===!1?(Z.side=gi,Z.needsUpdate=!0,A.renderBufferDirect(le,K,ue,Z,O,Ce),Z.side=so,Z.needsUpdate=!0,A.renderBufferDirect(le,K,ue,Z,O,Ce),Z.side=Cr):A.renderBufferDirect(le,K,ue,Z,O,Ce),O.onAfterRender(A,K,le,ue,Z,Ce)}function Sr(O,K,le){K.isScene!==!0&&(K=De);const ue=Xe.get(O),Z=x.state.lights,Ce=x.state.shadowsArray,Le=Z.state.version,je=me.getParameters(O,Z.state,Ce,K,le),Be=me.getProgramCacheKey(je);let rt=ue.programs;ue.environment=O.isMeshStandardMaterial?K.environment:null,ue.fog=K.fog,ue.envMap=(O.isMeshStandardMaterial?an:rn).get(O.envMap||ue.environment),ue.envMapRotation=ue.environment!==null&&O.envMap===null?K.environmentRotation:O.envMapRotation,rt===void 0&&(O.addEventListener("dispose",be),rt=new Map,ue.programs=rt);let ot=rt.get(Be);if(ot!==void 0){if(ue.currentProgram===ot&&ue.lightsStateVersion===Le)return Lr(O,je),ot}else je.uniforms=me.getUniforms(O),O.onBeforeCompile(je,A),ot=me.acquireProgram(je,Be),rt.set(Be,ot),ue.uniforms=je.uniforms;const Ze=ue.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(Ze.clippingPlanes=Oe.uniform),Lr(O,je),ue.needsLights=Ea(O),ue.lightsStateVersion=Le,ue.needsLights&&(Ze.ambientLightColor.value=Z.state.ambient,Ze.lightProbe.value=Z.state.probe,Ze.directionalLights.value=Z.state.directional,Ze.directionalLightShadows.value=Z.state.directionalShadow,Ze.spotLights.value=Z.state.spot,Ze.spotLightShadows.value=Z.state.spotShadow,Ze.rectAreaLights.value=Z.state.rectArea,Ze.ltc_1.value=Z.state.rectAreaLTC1,Ze.ltc_2.value=Z.state.rectAreaLTC2,Ze.pointLights.value=Z.state.point,Ze.pointLightShadows.value=Z.state.pointShadow,Ze.hemisphereLights.value=Z.state.hemi,Ze.directionalShadowMap.value=Z.state.directionalShadowMap,Ze.directionalShadowMatrix.value=Z.state.directionalShadowMatrix,Ze.spotShadowMap.value=Z.state.spotShadowMap,Ze.spotLightMatrix.value=Z.state.spotLightMatrix,Ze.spotLightMap.value=Z.state.spotLightMap,Ze.pointShadowMap.value=Z.state.pointShadowMap,Ze.pointShadowMatrix.value=Z.state.pointShadowMatrix),ue.currentProgram=ot,ue.uniformsList=null,ot}function ys(O){if(O.uniformsList===null){const K=O.currentProgram.getUniforms();O.uniformsList=Od.seqWithValue(K.seq,O.uniforms)}return O.uniformsList}function Lr(O,K){const le=Xe.get(O);le.outputColorSpace=K.outputColorSpace,le.batching=K.batching,le.batchingColor=K.batchingColor,le.instancing=K.instancing,le.instancingColor=K.instancingColor,le.instancingMorph=K.instancingMorph,le.skinning=K.skinning,le.morphTargets=K.morphTargets,le.morphNormals=K.morphNormals,le.morphColors=K.morphColors,le.morphTargetsCount=K.morphTargetsCount,le.numClippingPlanes=K.numClippingPlanes,le.numIntersection=K.numClipIntersection,le.vertexAlphas=K.vertexAlphas,le.vertexTangents=K.vertexTangents,le.toneMapping=K.toneMapping}function Ma(O,K,le,ue,Z){K.isScene!==!0&&(K=De),dt.resetTextureUnits();const Ce=K.fog,Le=ue.isMeshStandardMaterial?K.environment:null,je=H===null?A.outputColorSpace:H.isXRRenderTarget===!0?H.texture.colorSpace:bl,Be=(ue.isMeshStandardMaterial?an:rn).get(ue.envMap||Le),rt=ue.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,ot=!!le.attributes.tangent&&(!!ue.normalMap||ue.anisotropy>0),Ze=!!le.morphAttributes.position,vt=!!le.morphAttributes.normal,Rt=!!le.morphAttributes.color;let en=ro;ue.toneMapped&&(H===null||H.isXRRenderTarget===!0)&&(en=A.toneMapping);const kt=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,gt=kt!==void 0?kt.length:0,it=Xe.get(ue),Zt=x.state.lights;if(ie===!0&&(_e===!0||O!==U)){const ln=O===U&&ue.id===P;Oe.setState(ue,O,ln)}let St=!1;ue.version===it.__version?(it.needsLights&&it.lightsStateVersion!==Zt.state.version||it.outputColorSpace!==je||Z.isBatchedMesh&&it.batching===!1||!Z.isBatchedMesh&&it.batching===!0||Z.isBatchedMesh&&it.batchingColor===!0&&Z.colorTexture===null||Z.isBatchedMesh&&it.batchingColor===!1&&Z.colorTexture!==null||Z.isInstancedMesh&&it.instancing===!1||!Z.isInstancedMesh&&it.instancing===!0||Z.isSkinnedMesh&&it.skinning===!1||!Z.isSkinnedMesh&&it.skinning===!0||Z.isInstancedMesh&&it.instancingColor===!0&&Z.instanceColor===null||Z.isInstancedMesh&&it.instancingColor===!1&&Z.instanceColor!==null||Z.isInstancedMesh&&it.instancingMorph===!0&&Z.morphTexture===null||Z.isInstancedMesh&&it.instancingMorph===!1&&Z.morphTexture!==null||it.envMap!==Be||ue.fog===!0&&it.fog!==Ce||it.numClippingPlanes!==void 0&&(it.numClippingPlanes!==Oe.numPlanes||it.numIntersection!==Oe.numIntersection)||it.vertexAlphas!==rt||it.vertexTangents!==ot||it.morphTargets!==Ze||it.morphNormals!==vt||it.morphColors!==Rt||it.toneMapping!==en||it.morphTargetsCount!==gt)&&(St=!0):(St=!0,it.__version=ue.version);let Kn=it.currentProgram;St===!0&&(Kn=Sr(ue,K,Z));let or=!1,ii=!1,Nn=!1;const qt=Kn.getUniforms(),ri=it.uniforms;if(ke.useProgram(Kn.program)&&(or=!0,ii=!0,Nn=!0),ue.id!==P&&(P=ue.id,ii=!0),or||U!==O){ke.buffers.depth.getReversed()&&O.reversedDepth!==!0&&(O._reversedDepth=!0,O.updateProjectionMatrix()),qt.setValue(V,"projectionMatrix",O.projectionMatrix),qt.setValue(V,"viewMatrix",O.matrixWorldInverse);const Gn=qt.map.cameraPosition;Gn!==void 0&&Gn.setValue(V,Ie.setFromMatrixPosition(O.matrixWorld)),ut.logarithmicDepthBuffer&&qt.setValue(V,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&qt.setValue(V,"isOrthographic",O.isOrthographicCamera===!0),U!==O&&(U=O,ii=!0,Nn=!0)}if(Z.isSkinnedMesh){qt.setOptional(V,Z,"bindMatrix"),qt.setOptional(V,Z,"bindMatrixInverse");const ln=Z.skeleton;ln&&(ln.boneTexture===null&&ln.computeBoneTexture(),qt.setValue(V,"boneTexture",ln.boneTexture,dt))}Z.isBatchedMesh&&(qt.setOptional(V,Z,"batchingTexture"),qt.setValue(V,"batchingTexture",Z._matricesTexture,dt),qt.setOptional(V,Z,"batchingIdTexture"),qt.setValue(V,"batchingIdTexture",Z._indirectTexture,dt),qt.setOptional(V,Z,"batchingColorTexture"),Z._colorsTexture!==null&&qt.setValue(V,"batchingColorTexture",Z._colorsTexture,dt));const $n=le.morphAttributes;if(($n.position!==void 0||$n.normal!==void 0||$n.color!==void 0)&&Ae.update(Z,le,Kn),(ii||it.receiveShadow!==Z.receiveShadow)&&(it.receiveShadow=Z.receiveShadow,qt.setValue(V,"receiveShadow",Z.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(ri.envMap.value=Be,ri.flipEnvMap.value=Be.isCubeTexture&&Be.isRenderTargetTexture===!1?-1:1),ue.isMeshStandardMaterial&&ue.envMap===null&&K.environment!==null&&(ri.envMapIntensity.value=K.environmentIntensity),ii&&(qt.setValue(V,"toneMappingExposure",A.toneMappingExposure),it.needsLights&&go(ri,Nn),Ce&&ue.fog===!0&&Me.refreshFogUniforms(ri,Ce),Me.refreshMaterialUniforms(ri,ue,X,q,x.state.transmissionRenderTarget[O.id]),Od.upload(V,ys(it),ri,dt)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Od.upload(V,ys(it),ri,dt),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&qt.setValue(V,"center",Z.center),qt.setValue(V,"modelViewMatrix",Z.modelViewMatrix),qt.setValue(V,"normalMatrix",Z.normalMatrix),qt.setValue(V,"modelMatrix",Z.matrixWorld),ue.isShaderMaterial||ue.isRawShaderMaterial){const ln=ue.uniformsGroups;for(let Gn=0,_s=ln.length;Gn<_s;Gn++){const ui=ln[Gn];ft.update(ui,Kn),ft.bind(ui,Kn)}}return Kn}function go(O,K){O.ambientLightColor.needsUpdate=K,O.lightProbe.needsUpdate=K,O.directionalLights.needsUpdate=K,O.directionalLightShadows.needsUpdate=K,O.pointLights.needsUpdate=K,O.pointLightShadows.needsUpdate=K,O.spotLights.needsUpdate=K,O.spotLightShadows.needsUpdate=K,O.rectAreaLights.needsUpdate=K,O.hemisphereLights.needsUpdate=K}function Ea(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return N},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return H},this.setRenderTargetTextures=function(O,K,le){const ue=Xe.get(O);ue.__autoAllocateDepthBuffer=O.resolveDepthBuffer===!1,ue.__autoAllocateDepthBuffer===!1&&(ue.__useRenderToTexture=!1),Xe.get(O.texture).__webglTexture=K,Xe.get(O.depthTexture).__webglTexture=ue.__autoAllocateDepthBuffer?void 0:le,ue.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(O,K){const le=Xe.get(O);le.__webglFramebuffer=K,le.__useDefaultFramebuffer=K===void 0};const vn=V.createFramebuffer();this.setRenderTarget=function(O,K=0,le=0){H=O,N=K,L=le;let ue=!0,Z=null,Ce=!1,Le=!1;if(O){const Be=Xe.get(O);if(Be.__useDefaultFramebuffer!==void 0)ke.bindFramebuffer(V.FRAMEBUFFER,null),ue=!1;else if(Be.__webglFramebuffer===void 0)dt.setupRenderTarget(O);else if(Be.__hasExternalTextures)dt.rebindTextures(O,Xe.get(O.texture).__webglTexture,Xe.get(O.depthTexture).__webglTexture);else if(O.depthBuffer){const Ze=O.depthTexture;if(Be.__boundDepthTexture!==Ze){if(Ze!==null&&Xe.has(Ze)&&(O.width!==Ze.image.width||O.height!==Ze.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");dt.setupDepthRenderbuffer(O)}}const rt=O.texture;(rt.isData3DTexture||rt.isDataArrayTexture||rt.isCompressedArrayTexture)&&(Le=!0);const ot=Xe.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(ot[K])?Z=ot[K][le]:Z=ot[K],Ce=!0):O.samples>0&&dt.useMultisampledRTT(O)===!1?Z=Xe.get(O).__webglMultisampledFramebuffer:Array.isArray(ot)?Z=ot[le]:Z=ot,I.copy(O.viewport),Y.copy(O.scissor),te=O.scissorTest}else I.copy(J).multiplyScalar(X).floor(),Y.copy(se).multiplyScalar(X).floor(),te=Ee;if(le!==0&&(Z=vn),ke.bindFramebuffer(V.FRAMEBUFFER,Z)&&ue&&ke.drawBuffers(O,Z),ke.viewport(I),ke.scissor(Y),ke.setScissorTest(te),Ce){const Be=Xe.get(O.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_CUBE_MAP_POSITIVE_X+K,Be.__webglTexture,le)}else if(Le){const Be=K;for(let rt=0;rt<O.textures.length;rt++){const ot=Xe.get(O.textures[rt]);V.framebufferTextureLayer(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0+rt,ot.__webglTexture,le,Be)}}else if(O!==null&&le!==0){const Be=Xe.get(O.texture);V.framebufferTexture2D(V.FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,Be.__webglTexture,le)}P=-1},this.readRenderTargetPixels=function(O,K,le,ue,Z,Ce,Le,je=0){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Be=Xe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Le!==void 0&&(Be=Be[Le]),Be){ke.bindFramebuffer(V.FRAMEBUFFER,Be);try{const rt=O.textures[je],ot=rt.format,Ze=rt.type;if(!ut.textureFormatReadable(ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ut.textureTypeReadable(Ze)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}K>=0&&K<=O.width-ue&&le>=0&&le<=O.height-Z&&(O.textures.length>1&&V.readBuffer(V.COLOR_ATTACHMENT0+je),V.readPixels(K,le,ue,Z,Ke.convert(ot),Ke.convert(Ze),Ce))}finally{const rt=H!==null?Xe.get(H).__webglFramebuffer:null;ke.bindFramebuffer(V.FRAMEBUFFER,rt)}}},this.readRenderTargetPixelsAsync=async function(O,K,le,ue,Z,Ce,Le,je=0){if(!(O&&O.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Be=Xe.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&Le!==void 0&&(Be=Be[Le]),Be)if(K>=0&&K<=O.width-ue&&le>=0&&le<=O.height-Z){ke.bindFramebuffer(V.FRAMEBUFFER,Be);const rt=O.textures[je],ot=rt.format,Ze=rt.type;if(!ut.textureFormatReadable(ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ut.textureTypeReadable(Ze))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const vt=V.createBuffer();V.bindBuffer(V.PIXEL_PACK_BUFFER,vt),V.bufferData(V.PIXEL_PACK_BUFFER,Ce.byteLength,V.STREAM_READ),O.textures.length>1&&V.readBuffer(V.COLOR_ATTACHMENT0+je),V.readPixels(K,le,ue,Z,Ke.convert(ot),Ke.convert(Ze),0);const Rt=H!==null?Xe.get(H).__webglFramebuffer:null;ke.bindFramebuffer(V.FRAMEBUFFER,Rt);const en=V.fenceSync(V.SYNC_GPU_COMMANDS_COMPLETE,0);return V.flush(),await YP(V,en,4),V.bindBuffer(V.PIXEL_PACK_BUFFER,vt),V.getBufferSubData(V.PIXEL_PACK_BUFFER,0,Ce),V.deleteBuffer(vt),V.deleteSync(en),Ce}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(O,K=null,le=0){const ue=Math.pow(2,-le),Z=Math.floor(O.image.width*ue),Ce=Math.floor(O.image.height*ue),Le=K!==null?K.x:0,je=K!==null?K.y:0;dt.setTexture2D(O,0),V.copyTexSubImage2D(V.TEXTURE_2D,le,0,0,Le,je,Z,Ce),ke.unbindTexture()};const zc=V.createFramebuffer(),Bc=V.createFramebuffer();this.copyTextureToTexture=function(O,K,le=null,ue=null,Z=0,Ce=null){Ce===null&&(Z!==0?(ml("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ce=Z,Z=0):Ce=0);let Le,je,Be,rt,ot,Ze,vt,Rt,en;const kt=O.isCompressedTexture?O.mipmaps[Ce]:O.image;if(le!==null)Le=le.max.x-le.min.x,je=le.max.y-le.min.y,Be=le.isBox3?le.max.z-le.min.z:1,rt=le.min.x,ot=le.min.y,Ze=le.isBox3?le.min.z:0;else{const $n=Math.pow(2,-Z);Le=Math.floor(kt.width*$n),je=Math.floor(kt.height*$n),O.isDataArrayTexture?Be=kt.depth:O.isData3DTexture?Be=Math.floor(kt.depth*$n):Be=1,rt=0,ot=0,Ze=0}ue!==null?(vt=ue.x,Rt=ue.y,en=ue.z):(vt=0,Rt=0,en=0);const gt=Ke.convert(K.format),it=Ke.convert(K.type);let Zt;K.isData3DTexture?(dt.setTexture3D(K,0),Zt=V.TEXTURE_3D):K.isDataArrayTexture||K.isCompressedArrayTexture?(dt.setTexture2DArray(K,0),Zt=V.TEXTURE_2D_ARRAY):(dt.setTexture2D(K,0),Zt=V.TEXTURE_2D),V.pixelStorei(V.UNPACK_FLIP_Y_WEBGL,K.flipY),V.pixelStorei(V.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),V.pixelStorei(V.UNPACK_ALIGNMENT,K.unpackAlignment);const St=V.getParameter(V.UNPACK_ROW_LENGTH),Kn=V.getParameter(V.UNPACK_IMAGE_HEIGHT),or=V.getParameter(V.UNPACK_SKIP_PIXELS),ii=V.getParameter(V.UNPACK_SKIP_ROWS),Nn=V.getParameter(V.UNPACK_SKIP_IMAGES);V.pixelStorei(V.UNPACK_ROW_LENGTH,kt.width),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,kt.height),V.pixelStorei(V.UNPACK_SKIP_PIXELS,rt),V.pixelStorei(V.UNPACK_SKIP_ROWS,ot),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Ze);const qt=O.isDataArrayTexture||O.isData3DTexture,ri=K.isDataArrayTexture||K.isData3DTexture;if(O.isDepthTexture){const $n=Xe.get(O),ln=Xe.get(K),Gn=Xe.get($n.__renderTarget),_s=Xe.get(ln.__renderTarget);ke.bindFramebuffer(V.READ_FRAMEBUFFER,Gn.__webglFramebuffer),ke.bindFramebuffer(V.DRAW_FRAMEBUFFER,_s.__webglFramebuffer);for(let ui=0;ui<Be;ui++)qt&&(V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Xe.get(O).__webglTexture,Z,Ze+ui),V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,Xe.get(K).__webglTexture,Ce,en+ui)),V.blitFramebuffer(rt,ot,Le,je,vt,Rt,Le,je,V.DEPTH_BUFFER_BIT,V.NEAREST);ke.bindFramebuffer(V.READ_FRAMEBUFFER,null),ke.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else if(Z!==0||O.isRenderTargetTexture||Xe.has(O)){const $n=Xe.get(O),ln=Xe.get(K);ke.bindFramebuffer(V.READ_FRAMEBUFFER,zc),ke.bindFramebuffer(V.DRAW_FRAMEBUFFER,Bc);for(let Gn=0;Gn<Be;Gn++)qt?V.framebufferTextureLayer(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,$n.__webglTexture,Z,Ze+Gn):V.framebufferTexture2D(V.READ_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,$n.__webglTexture,Z),ri?V.framebufferTextureLayer(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,ln.__webglTexture,Ce,en+Gn):V.framebufferTexture2D(V.DRAW_FRAMEBUFFER,V.COLOR_ATTACHMENT0,V.TEXTURE_2D,ln.__webglTexture,Ce),Z!==0?V.blitFramebuffer(rt,ot,Le,je,vt,Rt,Le,je,V.COLOR_BUFFER_BIT,V.NEAREST):ri?V.copyTexSubImage3D(Zt,Ce,vt,Rt,en+Gn,rt,ot,Le,je):V.copyTexSubImage2D(Zt,Ce,vt,Rt,rt,ot,Le,je);ke.bindFramebuffer(V.READ_FRAMEBUFFER,null),ke.bindFramebuffer(V.DRAW_FRAMEBUFFER,null)}else ri?O.isDataTexture||O.isData3DTexture?V.texSubImage3D(Zt,Ce,vt,Rt,en,Le,je,Be,gt,it,kt.data):K.isCompressedArrayTexture?V.compressedTexSubImage3D(Zt,Ce,vt,Rt,en,Le,je,Be,gt,kt.data):V.texSubImage3D(Zt,Ce,vt,Rt,en,Le,je,Be,gt,it,kt):O.isDataTexture?V.texSubImage2D(V.TEXTURE_2D,Ce,vt,Rt,Le,je,gt,it,kt.data):O.isCompressedTexture?V.compressedTexSubImage2D(V.TEXTURE_2D,Ce,vt,Rt,kt.width,kt.height,gt,kt.data):V.texSubImage2D(V.TEXTURE_2D,Ce,vt,Rt,Le,je,gt,it,kt);V.pixelStorei(V.UNPACK_ROW_LENGTH,St),V.pixelStorei(V.UNPACK_IMAGE_HEIGHT,Kn),V.pixelStorei(V.UNPACK_SKIP_PIXELS,or),V.pixelStorei(V.UNPACK_SKIP_ROWS,ii),V.pixelStorei(V.UNPACK_SKIP_IMAGES,Nn),Ce===0&&K.generateMipmaps&&V.generateMipmap(Zt),ke.unbindTexture()},this.copyTextureToTexture3D=function(O,K,le=null,ue=null,Z=0){return ml('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(O,K,le,ue,Z)},this.initRenderTarget=function(O){Xe.get(O).__webglFramebuffer===void 0&&dt.setupRenderTarget(O)},this.initTexture=function(O){O.isCubeTexture?dt.setTextureCube(O,0):O.isData3DTexture?dt.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?dt.setTexture2DArray(O,0):dt.setTexture2D(O,0),ke.unbindTexture()},this.resetState=function(){N=0,L=0,H=null,ke.reset(),Ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Dr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Ot._getDrawingBufferColorSpace(e),n.unpackColorSpace=Ot._getUnpackColorSpace()}}const hz=({count:t=45e3,sensorValue:e=0})=>{const n=F.useRef(null),i=F.useRef(null),o=F.useRef(null),s=F.useRef(null),u=F.useRef(null),c=F.useRef(null),d=F.useRef(null),h=F.useRef(null);return F.useEffect(()=>{if(!n.current)return;const p=n.current,m=p.clientWidth,g=p.clientHeight,_=new _N;_.background=new Lt("#F0EEE6"),o.current=_;const b=new Zi(75,m/g,.1,1e3);b.position.z=5,u.current=b;const M=new dz({antialias:!0,powerPreference:"high-performance",alpha:!1,stencil:!1,depth:!0});M.setSize(m,g),M.setPixelRatio(Math.min(window.devicePixelRatio,2)),p.appendChild(M.domElement),s.current=M;const S=new ha({uniforms:{time:{value:0},opacity:{value:.6},speedFactor:{value:1}},vertexShader:`
        uniform float time;
        uniform float speedFactor;
        attribute float size;
        attribute vec3 customColor;
        varying vec3 vColor;

        // Heart modulation in polar form (lightweight, stable)
        // Base cardioid-like curve: r ~ (1.0 - sin(theta)), tweaked for a heart silhouette.
        float heartFactor(float a){
          // a in radians
          float s = sin(a);
          // cardioid component (1 - sin) scaled + offset to stay positive
          float base = 0.65 + 0.55 * (1.0 - s);
          // subtle "cleft" emphasis using |cos|
          float cleft = 0.4 * pow(abs(cos(a)), 0.8);
          return clamp(base + cleft, 0.4, 1.6);
        }

        void main() {
          vColor = customColor;
          vec3 pos = position;

          float radius = length(pos.xz);
          float angle = atan(pos.z, pos.x);
          float height = pos.y;

          // Vessel falloff (keeps an "empty" inner volume)
          float vessel = smoothstep(0.3, 0.7, radius) * smoothstep(1.0, 0.7, radius);

          // Rotation & breathing space modulated by speedFactor (from BLE)
          angle += time * 0.08;
          float space = sin(time * 0.3 * speedFactor + radius * 3.0) * 0.1;

          // Heart modulation of radial distance in XZ plane
          float h = heartFactor(angle);
          float newRadius = (radius + space) * vessel * h * speedFactor;

          vec3 newPos;
          newPos.x = cos(angle) * newRadius;
          newPos.z = sin(angle) * newRadius;
          newPos.y = height * vessel - 1.2;

          // Global scale to fit canvas
          newPos *= 2.75;

          vec4 mvPosition = modelViewMatrix * vec4(newPos, 1.0);
          gl_PointSize = size * (128.0 / -mvPosition.z);
          gl_Position = projectionMatrix * mvPosition;
        }
      `,fragmentShader:`
        uniform float opacity;
        varying vec3 vColor;
        void main() {
          vec2 c = gl_PointCoord - vec2(0.5);
          float d2 = dot(c, c);
          if (d2 > 0.25) discard; // stay circular
          float alpha = (1.0 - smoothstep(0.2025, 0.25, d2)) * opacity;
          gl_FragColor = vec4(vColor, alpha);
        }
      `,transparent:!0,depthWrite:!1,blending:Jo,side:Cr,vertexColors:!0});d.current=S;const x=new Float32Array(t*3),w=new Float32Array(t*3),E=new Float32Array(t);let A=0;for(let U=0;U<t;U++){const I=U/t,Y=Math.pow(I,.5),te=I*Math.PI*40,ce=Math.sin(I*Math.PI)*1.8,oe=Y+(Math.random()-.5)*.05,B=te+(Math.random()-.5)*.1;x[A]=Math.cos(B)*oe,x[A+1]=ce,x[A+2]=Math.sin(B)*oe;const q=.1+Math.sqrt(Y)*.1+Math.random()*.02;w[A]=q,w[A+1]=q,w[A+2]=q,E[U]=(1-Math.abs(ce*.5))*.2+.1,A+=3}const C=new ya;C.setAttribute("position",new zi(x,3)),C.setAttribute("customColor",new zi(w,3)),C.setAttribute("size",new zi(E,1)),c.current=C;const N=new EN(C,S);_.add(N),h.current=N;const L=new RN,H=()=>{i.current=requestAnimationFrame(H);const U=L.getElapsedTime();S.uniforms.time.value=U,M.render(_,b)};H();const P=()=>{const U=p.clientWidth,I=p.clientHeight;b.aspect=U/I,b.updateProjectionMatrix(),M.setSize(U,I)};return window.addEventListener("resize",P,{passive:!0}),()=>{window.removeEventListener("resize",P),i.current&&cancelAnimationFrame(i.current),h.current&&_.remove(h.current),c.current&&c.current.dispose(),d.current&&d.current.dispose(),s.current&&(s.current.dispose(),s.current.domElement.parentNode&&s.current.domElement.parentNode.removeChild(s.current.domElement))}},[t]),F.useEffect(()=>{d.current&&(d.current.uniforms.speedFactor.value=.5+e/50)},[e]),Tt.jsx("div",{ref:n,style:{width:"100vw",height:"100vh"}})};class pz{constructor(e,n,i){this.lowCut=e,this.highCut=n,this.sampleRate=i,this.b0=this.b1=this.b2=this.a1=this.a2=0,this.z1=this.z2=0,this.updateCoeffs()}updateCoeffs(){this.sampleRate/2;let e=Math.sqrt(this.lowCut*this.highCut),n=(this.highCut-this.lowCut)/e;e<=0&&(e=.1),n<=0&&(n=.1);const i=2*Math.PI*e/this.sampleRate,o=Math.sin(i)*Math.sinh(Math.log(2)/2*n*i/Math.sin(i)),s=Math.cos(i);this.b0=o,this.b1=0,this.b2=-o,this.a0=1+o,this.a1=-2*s,this.a2=1-o,this.b0/=this.a0,this.b1/=this.a0,this.b2/=this.a0,this.a1/=this.a0,this.a2/=this.a0}process(e){const n=this.b0*e+this.b1*this.z1+this.b2*this.z2-this.a1*this.z1-this.a2*this.z2;return this.z2=this.z1,this.z1=n,n}}function zA(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=zA(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function Fn(){for(var t,e,n=0,i="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=zA(t))&&(i&&(i+=" "),i+=e);return i}var Cv={},Rv={},aE;function mz(){return aE||(aE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(Rv)),Rv}var Dv={},oE;function vz(){return oE||(oE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dv)),Dv}var Ov={},sE;function gz(){return sE||(sE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Ov)),Ov}var Pv={},lE;function BA(){return lE||(lE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const i=[],o=n.length;if(o===0)return i;let s=0,u="",c="",d=!1;for(n.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const h=n[s];c?h==="\\"&&s+1<o?(s++,u+=n[s]):h===c?c="":u+=h:d?h==='"'||h==="'"?c=h:h==="]"?(d=!1,i.push(u),u=""):u+=h:h==="["?(d=!0,u&&(i.push(u),u="")):h==="."?u&&(i.push(u),u=""):u+=h,s++}return u&&i.push(u),i}t.toPath=e})(Pv)),Pv}var uE;function yz(){return uE||(uE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mz(),n=vz(),i=gz(),o=BA();function s(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const p=c[d];return p===void 0?n.isDeepKey(d)?s(c,o.toPath(d),h):h:p}case"number":case"symbol":{typeof d=="number"&&(d=i.toKey(d));const p=c[d];return p===void 0?h:p}default:{if(Array.isArray(d))return u(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const p=c[d];return p===void 0?h:p}}}function u(c,d,h){if(d.length===0)return h;let p=c;for(let m=0;m<d.length;m++){if(p==null||e.isUnsafeProperty(d[m]))return h;p=p[d[m]]}return p===void 0?h:p}t.get=s})(Cv)),Cv}var Nv,cE;function _z(){return cE||(cE=1,Nv=yz().get),Nv}var xz=_z();const ss=lo(xz);var Uv={exports:{}},jt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function Sz(){if(fE)return jt;fE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function b(M){if(typeof M=="object"&&M!==null){var S=M.$$typeof;switch(S){case t:switch(M=M.type,M){case n:case o:case i:case d:case h:case g:return M;default:switch(M=M&&M.$$typeof,M){case u:case c:case m:case p:return M;case s:return M;default:return S}}case e:return S}}}return jt.ContextConsumer=s,jt.ContextProvider=u,jt.Element=t,jt.ForwardRef=c,jt.Fragment=n,jt.Lazy=m,jt.Memo=p,jt.Portal=e,jt.Profiler=o,jt.StrictMode=i,jt.Suspense=d,jt.SuspenseList=h,jt.isContextConsumer=function(M){return b(M)===s},jt.isContextProvider=function(M){return b(M)===u},jt.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===t},jt.isForwardRef=function(M){return b(M)===c},jt.isFragment=function(M){return b(M)===n},jt.isLazy=function(M){return b(M)===m},jt.isMemo=function(M){return b(M)===p},jt.isPortal=function(M){return b(M)===e},jt.isProfiler=function(M){return b(M)===o},jt.isStrictMode=function(M){return b(M)===i},jt.isSuspense=function(M){return b(M)===d},jt.isSuspenseList=function(M){return b(M)===h},jt.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===n||M===o||M===i||M===d||M===h||typeof M=="object"&&M!==null&&(M.$$typeof===m||M.$$typeof===p||M.$$typeof===u||M.$$typeof===s||M.$$typeof===c||M.$$typeof===_||M.getModuleId!==void 0)},jt.typeOf=b,jt}var dE;function bz(){return dE||(dE=1,Uv.exports=Sz()),Uv.exports}var Mz=bz(),Or=t=>t===0?0:t>0?1:-1,er=t=>typeof t=="number"&&t!=+t,Ko=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ht=t=>(typeof t=="number"||t instanceof Number)&&!er(t),El=t=>ht(t)||typeof t=="string",Ez=0,oc=t=>{var e=++Ez;return"".concat(t||"").concat(e)},ls=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ht(e)&&typeof e!="string")return i;var s;if(Ko(e)){if(n==null)return i;var u=e.indexOf("%");s=n*parseFloat(e.slice(0,u))/100}else s=+e;return er(s)&&(s=i),o&&n!=null&&s>n&&(s=n),s},FA=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},i=0;i<e;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1};function ju(t,e,n){return ht(t)&&ht(e)?t+n*(e-t):e}function kA(t,e,n){if(!(!t||!t.length))return t.find(i=>i&&(typeof e=="function"?e(i):ss(i,e))===n)}var Cn=t=>t===null||typeof t>"u",uy=t=>Cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),Tz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cy(t){if(typeof t!="string")return!1;var e=Tz;return e.includes(t)}var Az=["viewBox","children"],hE=["points","pathLength"],Lv={svg:Az,polygon:hE,polyline:hE},fy=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(F.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(o=>{cy(o)&&(i[o]=(s=>n[o](n,s)))}),i},wz=(t,e,n)=>i=>(t(e,n,i),null),Cz=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var i=null;return Object.keys(t).forEach(o=>{var s=t[o];cy(o)&&typeof s=="function"&&(i||(i={}),i[o]=wz(s,e,n))}),i},Rz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function HA(t){if(typeof t!="string")return!1;var e=Rz;return e.includes(t)}function Il(t){var e=Object.entries(t).filter(n=>{var[i]=n;return HA(i)});return Object.fromEntries(e)}var pE=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",mE=null,Iv=null,GA=t=>{if(t===mE&&Array.isArray(Iv))return Iv;var e=[];return F.Children.forEach(t,n=>{Cn(n)||(Mz.isFragment(n)?e=e.concat(GA(n.props.children)):e.push(n))}),Iv=e,mE=t,e};function VA(t,e){var n=[],i=[];return Array.isArray(e)?i=e.map(o=>pE(o)):i=[pE(e)],GA(t).forEach(o=>{var s=ss(o,"type.displayName")||ss(o,"type.name");i.indexOf(s)!==-1&&n.push(o)}),n}var jA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Dz=(t,e,n,i)=>{var o;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(o=i&&Lv?.[i])!==null&&o!==void 0?o:[],u=e.startsWith("data-"),c=typeof t!="function"&&(!!i&&s.includes(e)||HA(e)),d=!!n&&cy(e);return u||c||d},Ii=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(F.isValidElement(t)&&(i=t.props),typeof i!="object"&&typeof i!="function")return null;var o={};return Object.keys(i).forEach(s=>{var u;Dz((u=i)===null||u===void 0?void 0:u[s],s,e,n)&&(o[s]=i[s])}),o},Oz=["children","width","height","viewBox","className","style","title","desc"];function x0(){return x0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},x0.apply(null,arguments)}function Pz(t,e){if(t==null)return{};var n,i,o=Nz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Nz(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var WA=F.forwardRef((t,e)=>{var{children:n,width:i,height:o,viewBox:s,className:u,style:c,title:d,desc:h}=t,p=Pz(t,Oz),m=s||{width:i,height:o,x:0,y:0},g=Fn("recharts-surface",u);return F.createElement("svg",x0({},Ii(p,!0,"svg"),{className:g,width:i,height:o,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),F.createElement("title",null,d),F.createElement("desc",null,h),n)}),Uz=["children","className"];function S0(){return S0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S0.apply(null,arguments)}function Lz(t,e){if(t==null)return{};var n,i,o=Iz(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Iz(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Tl=F.forwardRef((t,e)=>{var{children:n,className:i}=t,o=Lz(t,Uz),s=Fn("recharts-layer",i);return F.createElement("g",S0({className:s},Ii(o,!0),{ref:e}),n)}),zz=F.createContext(null);function dn(t){return function(){return t}}const b0=Math.PI,M0=2*b0,Go=1e-6,Bz=M0-Go;function XA(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Fz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return XA;const n=10**e;return function(i){this._+=i[0];for(let o=1,s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class kz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?XA:Fz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,s,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+s},${this._y1=+u}`}arcTo(e,n,i,o,s){if(e=+e,n=+n,i=+i,o=+o,s=+s,s<0)throw new Error(`negative radius: ${s}`);let u=this._x1,c=this._y1,d=i-e,h=o-n,p=u-e,m=c-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>Go)if(!(Math.abs(m*d-h*p)>Go)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-u,b=o-c,M=d*d+h*h,S=_*_+b*b,x=Math.sqrt(M),w=Math.sqrt(g),E=s*Math.tan((b0-Math.acos((M+g-S)/(2*x*w)))/2),A=E/w,C=E/x;Math.abs(A-1)>Go&&this._append`L${e+A*p},${n+A*m}`,this._append`A${s},${s},0,0,${+(m*_>p*b)},${this._x1=e+C*d},${this._y1=n+C*h}`}}arc(e,n,i,o,s,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),d=i*Math.sin(o),h=e+c,p=n+d,m=1^u,g=u?o-s:s-o;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>Go||Math.abs(this._y1-p)>Go)&&this._append`L${h},${p}`,i&&(g<0&&(g=g%M0+M0),g>Bz?this._append`A${i},${i},0,1,${m},${e-c},${n-d}A${i},${i},0,1,${m},${this._x1=h},${this._y1=p}`:g>Go&&this._append`A${i},${i},0,${+(g>=b0)},${m},${this._x1=e+i*Math.cos(s)},${this._y1=n+i*Math.sin(s)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function qA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const i=Math.floor(n);if(!(i>=0))throw new RangeError(`invalid digits: ${n}`);e=i}return t},()=>new kz(e)}function dy(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YA(t){this._context=t}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function gh(t){return new YA(t)}function KA(t){return t[0]}function $A(t){return t[1]}function ZA(t,e){var n=dn(!0),i=null,o=gh,s=null,u=qA(c);t=typeof t=="function"?t:t===void 0?KA:dn(t),e=typeof e=="function"?e:e===void 0?$A:dn(e);function c(d){var h,p=(d=dy(d)).length,m,g=!1,_;for(i==null&&(s=o(_=u())),h=0;h<=p;++h)!(h<p&&n(m=d[h],h,d))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,h,d),+e(m,h,d));if(_)return s=null,_+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:dn(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:dn(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:dn(!!d),c):n},c.curve=function(d){return arguments.length?(o=d,i!=null&&(s=o(i)),c):o},c.context=function(d){return arguments.length?(d==null?i=s=null:s=o(i=d),c):i},c}function vd(t,e,n){var i=null,o=dn(!0),s=null,u=gh,c=null,d=qA(h);t=typeof t=="function"?t:t===void 0?KA:dn(+t),e=typeof e=="function"?e:dn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?$A:dn(+n);function h(m){var g,_,b,M=(m=dy(m)).length,S,x=!1,w,E=new Array(M),A=new Array(M);for(s==null&&(c=u(w=d())),g=0;g<=M;++g){if(!(g<M&&o(S=m[g],g,m))===x)if(x=!x)_=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=_;--b)c.point(E[b],A[b]);c.lineEnd(),c.areaEnd()}x&&(E[g]=+t(S,g,m),A[g]=+e(S,g,m),c.point(i?+i(S,g,m):E[g],n?+n(S,g,m):A[g]))}if(w)return c=null,w+""||null}function p(){return ZA().defined(o).curve(u).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:dn(+m),i=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:dn(+m),h):t},h.x1=function(m){return arguments.length?(i=m==null?null:typeof m=="function"?m:dn(+m),h):i},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:dn(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:dn(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:dn(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(i).y(e)},h.defined=function(m){return arguments.length?(o=typeof m=="function"?m:dn(!!m),h):o},h.curve=function(m){return arguments.length?(u=m,s!=null&&(c=u(s)),h):u},h.context=function(m){return arguments.length?(m==null?s=c=null:c=u(s=m),h):s},h}class QA{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Hz(t){return new QA(t,!0)}function Gz(t){return new QA(t,!1)}function Id(){}function zd(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function JA(t){this._context=t}JA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Vz(t){return new JA(t)}function ew(t){this._context=t}ew.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jz(t){return new ew(t)}function tw(t){this._context=t}tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:zd(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Wz(t){return new tw(t)}function nw(t){this._context=t}nw.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Xz(t){return new nw(t)}function vE(t){return t<0?-1:1}function gE(t,e,n){var i=t._x1-t._x0,o=e-t._x1,s=(t._y1-t._y0)/(i||o<0&&-0),u=(n-t._y1)/(o||i<0&&-0),c=(s*o+u*i)/(i+o);return(vE(s)+vE(u))*Math.min(Math.abs(s),Math.abs(u),.5*Math.abs(c))||0}function yE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zv(t,e,n){var i=t._x0,o=t._y0,s=t._x1,u=t._y1,c=(s-i)/3;t._context.bezierCurveTo(i+c,o+c*e,s-c,u-c*n,s,u)}function Bd(t){this._context=t}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zv(this,this._t0,yE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zv(this,yE(this,n=gE(this,t,e)),n);break;default:zv(this,this._t0,n=gE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function iw(t){this._context=new rw(t)}(iw.prototype=Object.create(Bd.prototype)).point=function(t,e){Bd.prototype.point.call(this,e,t)};function rw(t){this._context=t}rw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,o,s){this._context.bezierCurveTo(e,t,i,n,s,o)}};function qz(t){return new Bd(t)}function Yz(t){return new iw(t)}function aw(t){this._context=t}aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=_E(t),o=_E(e),s=0,u=1;u<n;++s,++u)this._context.bezierCurveTo(i[0][s],o[0][s],i[1][s],o[1][s],t[u],e[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _E(t){var e,n=t.length-1,i,o=new Array(n),s=new Array(n),u=new Array(n);for(o[0]=0,s[0]=2,u[0]=t[0]+2*t[1],e=1;e<n-1;++e)o[e]=1,s[e]=4,u[e]=4*t[e]+2*t[e+1];for(o[n-1]=2,s[n-1]=7,u[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=o[e]/s[e-1],s[e]-=i,u[e]-=i*u[e-1];for(o[n-1]=u[n-1]/s[n-1],e=n-2;e>=0;--e)o[e]=(u[e]-o[e+1])/s[e];for(s[n-1]=(t[n]+o[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-o[e+1];return[o,s]}function Kz(t){return new aw(t)}function yh(t,e){this._context=t,this._t=e}yh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function $z(t){return new yh(t,.5)}function Zz(t){return new yh(t,0)}function Qz(t){return new yh(t,1)}function Al(t,e){if((u=t.length)>1)for(var n=1,i,o,s=t[e[0]],u,c=s.length;n<u;++n)for(o=s,s=t[e[n]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(o[i][1])?o[i][0]:o[i][1]}function E0(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Jz(t,e){return t[e]}function eB(t){const e=[];return e.key=t,e}function tB(){var t=dn([]),e=E0,n=Al,i=Jz;function o(s){var u=Array.from(t.apply(this,arguments),eB),c,d=u.length,h=-1,p;for(const m of s)for(c=0,++h;c<d;++c)(u[c][h]=[0,+i(m,u[c].key,h,s)]).data=m;for(c=0,p=dy(e(u));c<d;++c)u[p[c]].index=c;return n(u,p),u}return o.keys=function(s){return arguments.length?(t=typeof s=="function"?s:dn(Array.from(s)),o):t},o.value=function(s){return arguments.length?(i=typeof s=="function"?s:dn(+s),o):i},o.order=function(s){return arguments.length?(e=s==null?E0:typeof s=="function"?s:dn(Array.from(s)),o):e},o.offset=function(s){return arguments.length?(n=s??Al,o):n},o}function nB(t,e){if((i=t.length)>0){for(var n,i,o=0,s=t[0].length,u;o<s;++o){for(u=n=0;n<i;++n)u+=t[n][o][1]||0;if(u)for(n=0;n<i;++n)t[n][o][1]/=u}Al(t,e)}}function iB(t,e){if((o=t.length)>0){for(var n=0,i=t[e[0]],o,s=i.length;n<s;++n){for(var u=0,c=0;u<o;++u)c+=t[u][n][1]||0;i[n][1]+=i[n][0]=-c/2}Al(t,e)}}function rB(t,e){if(!(!((u=t.length)>0)||!((s=(o=t[e[0]]).length)>0))){for(var n=0,i=1,o,s,u;i<s;++i){for(var c=0,d=0,h=0;c<u;++c){for(var p=t[e[c]],m=p[i][1]||0,g=p[i-1][1]||0,_=(m-g)/2,b=0;b<c;++b){var M=t[e[b]],S=M[i][1]||0,x=M[i-1][1]||0;_+=S-x}d+=m,h+=_*m}o[i-1][1]+=o[i-1][0]=n,d&&(n-=h/d)}o[i-1][1]+=o[i-1][0]=n,Al(t,e)}}var Bv={},Fv={},xE;function aB(){return xE||(xE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Fv)),Fv}var SE;function ow(){return SE||(SE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aB();function n(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}t.isArrayLike=n})(Bv)),Bv}var kv={},bE;function oB(){return bE||(bE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(kv)),kv}var Hv={},ME;function sB(){return ME||(ME=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i){return n===i||Number.isNaN(n)&&Number.isNaN(i)}t.eq=e})(Hv)),Hv}var Gv={},EE;function lB(){return EE||(EE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(i,o=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<o;case"symbol":return!1;case"string":return e.test(i)}}t.isIndex=n})(Gv)),Gv}var Vv={exports:{}},jv={},Wv={exports:{}},Xv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function uB(){if(TE)return Xv;TE=1;var t=Nl();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,o=t.useEffect,s=t.useLayoutEffect,u=t.useDebugValue;function c(m,g){var _=g(),b=i({inst:{value:_,getSnapshot:g}}),M=b[0].inst,S=b[1];return s(function(){M.value=_,M.getSnapshot=g,d(M)&&S({inst:M})},[m,_,g]),o(function(){return d(M)&&S({inst:M}),m(function(){d(M)&&S({inst:M})})},[m]),u(_),_}function d(m){var g=m.getSnapshot;m=m.value;try{var _=g();return!n(m,_)}catch{return!0}}function h(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Xv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Xv}var AE;function cB(){return AE||(AE=1,Wv.exports=uB()),Wv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function fB(){if(wE)return jv;wE=1;var t=Nl(),e=cB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var i=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,s=t.useRef,u=t.useEffect,c=t.useMemo,d=t.useDebugValue;return jv.useSyncExternalStoreWithSelector=function(h,p,m,g,_){var b=s(null);if(b.current===null){var M={hasValue:!1,value:null};b.current=M}else M=b.current;b=c(function(){function x(N){if(!w){if(w=!0,E=N,N=g(N),_!==void 0&&M.hasValue){var L=M.value;if(_(L,N))return A=L}return A=N}if(L=A,i(E,N))return L;var H=g(N);return _!==void 0&&_(L,H)?(E=N,L):(E=N,A=H)}var w=!1,E,A,C=m===void 0?null:m;return[function(){return x(p())},C===null?void 0:function(){return x(C())}]},[p,m,g,_]);var S=o(h,b[0],b[1]);return u(function(){M.hasValue=!0,M.value=S},[S]),d(S),S},jv}var CE;function dB(){return CE||(CE=1,Vv.exports=fB()),Vv.exports}var hB=dB(),hy=F.createContext(null),pB=t=>t,xi=()=>{var t=F.useContext(hy);return t?t.store.dispatch:pB},Pd=()=>{},mB=()=>Pd,vB=(t,e)=>t===e;function Et(t){var e=F.useContext(hy);return hB.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:mB,e?e.store.getState:Pd,e?e.store.getState:Pd,e?t:Pd,vB)}function gB(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function yB(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function _B(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${n}]`)}}var RE=t=>Array.isArray(t)?t:[t];function xB(t){const e=Array.isArray(t[0])?t[0]:t;return _B(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function SB(t,e){const n=[],{length:i}=t;for(let o=0;o<i;o++)n.push(t[o].apply(null,e));return n}var bB=class{constructor(t){this.value=t}deref(){return this.value}},MB=typeof WeakRef<"u"?WeakRef:bB,EB=0,DE=1;function gd(){return{s:EB,v:void 0,o:null,p:null}}function sw(t,e={}){let n=gd();const{resultEqualityCheck:i}=e;let o,s=0;function u(){let c=n;const{length:d}=arguments;for(let m=0,g=d;m<g;m++){const _=arguments[m];if(typeof _=="function"||typeof _=="object"&&_!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const M=b.get(_);M===void 0?(c=gd(),b.set(_,c)):c=M}else{let b=c.p;b===null&&(c.p=b=new Map);const M=b.get(_);M===void 0?(c=gd(),b.set(_,c)):c=M}}const h=c;let p;if(c.s===DE)p=c.v;else if(p=t.apply(null,arguments),s++,i){const m=o?.deref?.()??o;m!=null&&i(m,p)&&(p=m,s!==0&&s--),o=typeof p=="object"&&p!==null||typeof p=="function"?new MB(p):p}return h.s=DE,h.v=p,p}return u.clearCache=()=>{n=gd(),u.resetResultsCount()},u.resultsCount=()=>s,u.resetResultsCount=()=>{s=0},u}function TB(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,i=(...o)=>{let s=0,u=0,c,d={},h=o.pop();typeof h=="object"&&(d=h,h=o.pop()),gB(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...d},{memoize:m,memoizeOptions:g=[],argsMemoize:_=sw,argsMemoizeOptions:b=[]}=p,M=RE(g),S=RE(b),x=xB(o),w=m(function(){return s++,h.apply(null,arguments)},...M),E=_(function(){u++;const C=SB(x,arguments);return c=w.apply(null,C),c},...S);return Object.assign(E,{resultFunc:h,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:_})};return Object.assign(i,{withTypes:()=>i}),i}var pe=TB(sw),AB=Object.assign((t,e=pe)=>{yB(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),i=n.map(s=>t[s]);return e(i,(...s)=>s.reduce((u,c,d)=>(u[n[d]]=c,u),{}))},{withTypes:()=>AB}),qv={},Yv={},Kv={},OE;function wB(){return OE||(OE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const n=(i,o,s)=>{if(i!==o){const u=e(i),c=e(o);if(u===c&&u===0){if(i<o)return s==="desc"?1:-1;if(i>o)return s==="desc"?-1:1}return s==="desc"?c-u:u-c}return 0};t.compareValues=n})(Kv)),Kv}var $v={},Zv={},PE;function lw(){return PE||(PE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Zv)),Zv}var NE;function CB(){return NE||(NE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lw(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function o(s,u){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!n.test(s))||u!=null&&Object.hasOwn(u,s)}t.isKey=o})($v)),$v}var UE;function RB(){return UE||(UE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wB(),n=CB(),i=BA();function o(s,u,c,d){if(s==null)return[];c=d?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(_=>String(_));const h=(_,b)=>{let M=_;for(let S=0;S<b.length&&M!=null;++S)M=M[b[S]];return M},p=(_,b)=>b==null||_==null?b:typeof _=="object"&&"key"in _?Object.hasOwn(b,_.key)?b[_.key]:h(b,_.path):typeof _=="function"?_(b):Array.isArray(_)?h(b,_):typeof b=="object"?b[_]:b,m=u.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:i.toPath(_)}));return s.map(_=>({original:_,criteria:m.map(b=>p(b,_))})).slice().sort((_,b)=>{for(let M=0;M<m.length;M++){const S=e.compareValues(_.criteria[M],b.criteria[M],c[M]);if(S!==0)return S}return 0}).map(_=>_.original)}t.orderBy=o})(Yv)),Yv}var Qv={},LE;function DB(){return LE||(LE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i=1){const o=[],s=Math.floor(i),u=(c,d)=>{for(let h=0;h<c.length;h++){const p=c[h];Array.isArray(p)&&d<s?u(p,d+1):o.push(p)}};return u(n,0),o}t.flatten=e})(Qv)),Qv}var Jv={},IE;function uw(){return IE||(IE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lB(),n=ow(),i=oB(),o=sB();function s(u,c,d){return i.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?o.eq(d[c],u):!1}t.isIterateeCall=s})(Jv)),Jv}var zE;function OB(){return zE||(zE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=RB(),n=DB(),i=uw();function o(s,...u){const c=u.length;return c>1&&i.isIterateeCall(s,u[0],u[1])?u=[]:c>2&&i.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),e.orderBy(s,n.flatten(u),["asc"])}t.sortBy=o})(qv)),qv}var eg,BE;function PB(){return BE||(BE=1,eg=OB().sortBy),eg}var NB=PB();const py=lo(NB);var cw=t=>t.legend.settings,UB=t=>t.legend.size,LB=t=>t.legend.payload;pe([LB,cw],(t,e)=>{var{itemSorter:n}=e,i=t.flat(1);return n?py(i,n):i});function Xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var IB=typeof Symbol=="function"&&Symbol.observable||"@@observable",FE=IB,tg=()=>Math.random().toString(36).substring(7).split("").join("."),zB={INIT:`@@redux/INIT${tg()}`,REPLACE:`@@redux/REPLACE${tg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tg()}`},Fd=zB;function my(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fw(t,e,n){if(typeof t!="function")throw new Error(Xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Xn(1));return n(fw)(t,e)}let i=t,o=e,s=new Map,u=s,c=0,d=!1;function h(){u===s&&(u=new Map,s.forEach((S,x)=>{u.set(x,S)}))}function p(){if(d)throw new Error(Xn(3));return o}function m(S){if(typeof S!="function")throw new Error(Xn(4));if(d)throw new Error(Xn(5));let x=!0;h();const w=c++;return u.set(w,S),function(){if(x){if(d)throw new Error(Xn(6));x=!1,h(),u.delete(w),s=null}}}function g(S){if(!my(S))throw new Error(Xn(7));if(typeof S.type>"u")throw new Error(Xn(8));if(typeof S.type!="string")throw new Error(Xn(17));if(d)throw new Error(Xn(9));try{d=!0,o=i(o,S)}finally{d=!1}return(s=u).forEach(w=>{w()}),S}function _(S){if(typeof S!="function")throw new Error(Xn(10));i=S,g({type:Fd.REPLACE})}function b(){const S=m;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Xn(11));function w(){const A=x;A.next&&A.next(p())}return w(),{unsubscribe:S(w)}},[FE](){return this}}}return g({type:Fd.INIT}),{dispatch:g,subscribe:m,getState:p,replaceReducer:_,[FE]:b}}function BB(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Fd.INIT})>"u")throw new Error(Xn(12));if(typeof n(void 0,{type:Fd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xn(13))})}function dw(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const u=e[s];typeof t[u]=="function"&&(n[u]=t[u])}const i=Object.keys(n);let o;try{BB(n)}catch(s){o=s}return function(u={},c){if(o)throw o;let d=!1;const h={};for(let p=0;p<i.length;p++){const m=i[p],g=n[m],_=u[m],b=g(_,c);if(typeof b>"u")throw c&&c.type,new Error(Xn(14));h[m]=b,d=d||b!==_}return d=d||i.length!==Object.keys(u).length,d?h:u}}function kd(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function FB(...t){return e=>(n,i)=>{const o=e(n,i);let s=()=>{throw new Error(Xn(15))};const u={getState:o.getState,dispatch:(d,...h)=>s(d,...h)},c=t.map(d=>d(u));return s=kd(...c)(o.dispatch),{...o,dispatch:s}}}function hw(t){return my(t)&&"type"in t&&typeof t.type=="string"}var pw=Symbol.for("immer-nothing"),kE=Symbol.for("immer-draftable"),Fi=Symbol.for("immer-state");function mr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wl=Object.getPrototypeOf;function us(t){return!!t&&!!t[Fi]}function pa(t){return t?mw(t)||Array.isArray(t)||!!t[kE]||!!t.constructor?.[kE]||bc(t)||xh(t):!1}var kB=Object.prototype.constructor.toString();function mw(t){if(!t||typeof t!="object")return!1;const e=wl(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===kB}function Hd(t,e){_h(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,i)=>e(i,n,t))}function _h(t){const e=t[Fi];return e?e.type_:Array.isArray(t)?1:bc(t)?2:xh(t)?3:0}function T0(t,e){return _h(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function vw(t,e,n){const i=_h(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function HB(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bc(t){return t instanceof Map}function xh(t){return t instanceof Set}function Vo(t){return t.copy_||t.base_}function A0(t,e){if(bc(t))return new Map(t);if(xh(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mw(t);if(e===!0||e==="class_only"&&!n){const i=Object.getOwnPropertyDescriptors(t);delete i[Fi];let o=Reflect.ownKeys(i);for(let s=0;s<o.length;s++){const u=o[s],c=i[u];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[u]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[u]})}return Object.create(wl(t),i)}else{const i=wl(t);if(i!==null&&n)return{...t};const o=Object.create(i);return Object.assign(o,t)}}function vy(t,e=!1){return Sh(t)||us(t)||!pa(t)||(_h(t)>1&&Object.defineProperties(t,{set:{value:yd},add:{value:yd},clear:{value:yd},delete:{value:yd}}),Object.freeze(t),e&&Object.values(t).forEach(n=>vy(n,!0))),t}function yd(){mr(2)}function Sh(t){return Object.isFrozen(t)}var GB={};function cs(t){const e=GB[t];return e||mr(0,t),e}var sc;function gw(){return sc}function VB(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HE(t,e){e&&(cs("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function w0(t){C0(t),t.drafts_.forEach(jB),t.drafts_=null}function C0(t){t===sc&&(sc=t.parent_)}function GE(t){return sc=VB(sc,t)}function jB(t){const e=t[Fi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VE(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Fi].modified_&&(w0(e),mr(4)),pa(t)&&(t=Gd(e,t),e.parent_||Vd(e,t)),e.patches_&&cs("Patches").generateReplacementPatches_(n[Fi].base_,t,e.patches_,e.inversePatches_)):t=Gd(e,n,[]),w0(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pw?t:void 0}function Gd(t,e,n){if(Sh(e))return e;const i=e[Fi];if(!i)return Hd(e,(o,s)=>jE(t,i,e,o,s,n)),e;if(i.scope_!==t)return e;if(!i.modified_)return Vd(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),Hd(s,(c,d)=>jE(t,i,o,c,d,n,u)),Vd(t,o,!1),n&&t.patches_&&cs("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function jE(t,e,n,i,o,s,u){if(us(o)){const c=s&&e&&e.type_!==3&&!T0(e.assigned_,i)?s.concat(i):void 0,d=Gd(t,o,c);if(vw(n,i,d),us(d))t.canAutoFreeze_=!1;else return}else u&&n.add(o);if(pa(o)&&!Sh(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Gd(t,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(bc(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))&&Vd(t,o)}}function Vd(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vy(e,n)}function WB(t,e){const n=Array.isArray(t),i={type_:n?1:0,scope_:e?e.scope_:gw(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,s=gy;n&&(o=[i],s=lc);const{revoke:u,proxy:c}=Proxy.revocable(o,s);return i.draft_=c,i.revoke_=u,c}var gy={get(t,e){if(e===Fi)return t;const n=Vo(t);if(!T0(n,e))return XB(t,n,e);const i=n[e];return t.finalized_||!pa(i)?i:i===ng(t.base_,e)?(ig(t),t.copy_[e]=D0(i,t)):i},has(t,e){return e in Vo(t)},ownKeys(t){return Reflect.ownKeys(Vo(t))},set(t,e,n){const i=yw(Vo(t),e);if(i?.set)return i.set.call(t.draft_,n),!0;if(!t.modified_){const o=ng(Vo(t),e),s=o?.[Fi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(HB(n,o)&&(n!==void 0||T0(t.base_,e)))return!0;ig(t),R0(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return ng(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ig(t),R0(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Vo(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty(){mr(11)},getPrototypeOf(t){return wl(t.base_)},setPrototypeOf(){mr(12)}},lc={};Hd(gy,(t,e)=>{lc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});lc.deleteProperty=function(t,e){return lc.set.call(this,t,e,void 0)};lc.set=function(t,e,n){return gy.set.call(this,t[0],e,n,t[0])};function ng(t,e){const n=t[Fi];return(n?Vo(n):t)[e]}function XB(t,e,n){const i=yw(e,n);return i?"value"in i?i.value:i.get?.call(t.draft_):void 0}function yw(t,e){if(!(e in t))return;let n=wl(t);for(;n;){const i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=wl(n)}}function R0(t){t.modified_||(t.modified_=!0,t.parent_&&R0(t.parent_))}function ig(t){t.copy_||(t.copy_=A0(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var qB=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,i)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const u=this;return function(d=s,...h){return u.produce(d,p=>n.call(this,p,...h))}}typeof n!="function"&&mr(6),i!==void 0&&typeof i!="function"&&mr(7);let o;if(pa(e)){const s=GE(this),u=D0(e,void 0);let c=!0;try{o=n(u),c=!1}finally{c?w0(s):C0(s)}return HE(s,i),VE(o,s)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===pw&&(o=void 0),this.autoFreeze_&&vy(o,!0),i){const s=[],u=[];cs("Patches").generateReplacementPatches_(e,o,s,u),i(s,u)}return o}else mr(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(u,...c)=>this.produceWithPatches(u,d=>e(d,...c));let i,o;return[this.produce(e,n,(u,c)=>{i=u,o=c}),i,o]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){pa(t)||mr(8),us(t)&&(t=ua(t));const e=GE(this),n=D0(t,void 0);return n[Fi].isManual_=!0,C0(e),n}finishDraft(t,e){const n=t&&t[Fi];(!n||!n.isManual_)&&mr(9);const{scope_:i}=n;return HE(i,e),VE(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const i=cs("Patches").applyPatches_;return us(t)?i(t,e):this.produce(t,o=>i(o,e))}};function D0(t,e){const n=bc(t)?cs("MapSet").proxyMap_(t,e):xh(t)?cs("MapSet").proxySet_(t,e):WB(t,e);return(e?e.scope_:gw()).drafts_.push(n),n}function ua(t){return us(t)||mr(10,t),_w(t)}function _w(t){if(!pa(t)||Sh(t))return t;const e=t[Fi];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=A0(t,e.scope_.immer_.useStrictShallowCopy_)}else n=A0(t,!0);return Hd(n,(i,o)=>{vw(n,i,_w(o))}),e&&(e.finalized_=!1),n}var YB=new qB,xw=YB.produce;function Sw(t){return({dispatch:n,getState:i})=>o=>s=>typeof s=="function"?s(n,i,t):o(s)}var KB=Sw(),$B=Sw,ZB=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?kd:kd.apply(null,arguments)};function tr(t,e){function n(...i){if(e){let o=e(...i);if(!o)throw new Error(Bi(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:i[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=i=>hw(i)&&i.type===t,n}var bw=class Qu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qu.prototype)}static get[Symbol.species](){return Qu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qu(...e[0].concat(this)):new Qu(...e.concat(this))}};function WE(t){return pa(t)?xw(t,()=>{}):t}function _d(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QB(t){return typeof t=="boolean"}var JB=()=>function(e){const{thunk:n=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:s=!0}=e??{};let u=new bw;return n&&(QB(n)?u.push(KB):u.push($B(n.extraArgument))),u},eF="RTK_autoBatch",XE=t=>e=>{setTimeout(e,t)},tF=(t={type:"raf"})=>e=>(...n)=>{const i=e(...n);let o=!0,s=!1,u=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XE(10):t.type==="callback"?t.queueNotification:XE(t.timeout),h=()=>{u=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},i,{subscribe(p){const m=()=>o&&p(),g=i.subscribe(m);return c.add(p),()=>{g(),c.delete(p)}},dispatch(p){try{return o=!p?.meta?.[eF],s=!o,s&&(u||(u=!0,d(h))),i.dispatch(p)}finally{o=!0}}})},nF=t=>function(n){const{autoBatch:i=!0}=n??{};let o=new bw(t);return i&&o.push(tF(typeof i=="object"?i:void 0)),o};function iF(t){const e=JB(),{reducer:n=void 0,middleware:i,devTools:o=!0,preloadedState:s=void 0,enhancers:u=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(my(n))c=dw(n);else throw new Error(Bi(1));let d;typeof i=="function"?d=i(e):d=e();let h=kd;o&&(h=ZB({trace:!1,...typeof o=="object"&&o}));const p=FB(...d),m=nF(p);let g=typeof u=="function"?u(m):m();const _=h(...g);return fw(c,s,_)}function Mw(t){const e={},n=[];let i;const o={addCase(s,u){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Bi(28));if(c in e)throw new Error(Bi(29));return e[c]=u,o},addMatcher(s,u){return n.push({matcher:s,reducer:u}),o},addDefaultCase(s){return i=s,o}};return t(o),[e,n,i]}function rF(t){return typeof t=="function"}function aF(t,e){let[n,i,o]=Mw(e),s;if(rF(t))s=()=>WE(t());else{const c=WE(t);s=()=>c}function u(c=s(),d){let h=[n[d.type],...i.filter(({matcher:p})=>p(d)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[o]),h.reduce((p,m)=>{if(m)if(us(p)){const _=m(p,d);return _===void 0?p:_}else{if(pa(p))return xw(p,g=>m(g,d));{const g=m(p,d);if(g===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return p},c)}return u.getInitialState=s,u}var oF="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sF=(t=21)=>{let e="",n=t;for(;n--;)e+=oF[Math.random()*64|0];return e},lF=Symbol.for("rtk-slice-createasyncthunk");function uF(t,e){return`${t}/${e}`}function cF({creators:t}={}){const e=t?.asyncThunk?.[lF];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Bi(11));const u=(typeof i.reducers=="function"?i.reducers(dF()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(E,A){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(Bi(12));if(C in d.sliceCaseReducersByType)throw new Error(Bi(13));return d.sliceCaseReducersByType[C]=A,h},addMatcher(E,A){return d.sliceMatchers.push({matcher:E,reducer:A}),h},exposeAction(E,A){return d.actionCreators[E]=A,h},exposeCaseReducer(E,A){return d.sliceCaseReducersByName[E]=A,h}};c.forEach(E=>{const A=u[E],C={reducerName:E,type:uF(o,E),createNotation:typeof i.reducers=="function"};pF(A)?vF(C,A,h,e):hF(C,A,h)});function p(){const[E={},A=[],C=void 0]=typeof i.extraReducers=="function"?Mw(i.extraReducers):[i.extraReducers],N={...E,...d.sliceCaseReducersByType};return aF(i.initialState,L=>{for(let H in N)L.addCase(H,N[H]);for(let H of d.sliceMatchers)L.addMatcher(H.matcher,H.reducer);for(let H of A)L.addMatcher(H.matcher,H.reducer);C&&L.addDefaultCase(C)})}const m=E=>E,g=new Map,_=new WeakMap;let b;function M(E,A){return b||(b=p()),b(E,A)}function S(){return b||(b=p()),b.getInitialState()}function x(E,A=!1){function C(L){let H=L[E];return typeof H>"u"&&A&&(H=_d(_,C,S)),H}function N(L=m){const H=_d(g,A,()=>new WeakMap);return _d(H,L,()=>{const P={};for(const[U,I]of Object.entries(i.selectors??{}))P[U]=fF(I,L,()=>_d(_,L,S),A);return P})}return{reducerPath:E,getSelectors:N,get selectors(){return N(C)},selectSlice:C}}const w={name:o,reducer:M,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:S,...x(s),injectInto(E,{reducerPath:A,...C}={}){const N=A??s;return E.inject({reducerPath:N,reducer:M},C),{...w,...x(N,!0)}}};return w}}function fF(t,e,n,i){function o(s,...u){let c=e(s);return typeof c>"u"&&i&&(c=n()),t(c,...u)}return o.unwrapped=t,o}var ki=cF();function dF(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hF({type:t,reducerName:e,createNotation:n},i,o){let s,u;if("reducer"in i){if(n&&!mF(i))throw new Error(Bi(17));s=i.reducer,u=i.prepare}else s=i;o.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,u?tr(t,u):tr(t))}function pF(t){return t._reducerDefinitionType==="asyncThunk"}function mF(t){return t._reducerDefinitionType==="reducerWithPrepare"}function vF({type:t,reducerName:e},n,i,o){if(!o)throw new Error(Bi(18));const{payloadCreator:s,fulfilled:u,pending:c,rejected:d,settled:h,options:p}=n,m=o(t,s,p);i.exposeAction(e,m),u&&i.addCase(m.fulfilled,u),c&&i.addCase(m.pending,c),d&&i.addCase(m.rejected,d),h&&i.addMatcher(m.settled,h),i.exposeCaseReducer(e,{fulfilled:u||xd,pending:c||xd,rejected:d||xd,settled:h||xd})}function xd(){}var gF="task",Ew="listener",Tw="completed",yy="cancelled",yF=`task-${yy}`,_F=`task-${Tw}`,O0=`${Ew}-${yy}`,xF=`${Ew}-${Tw}`,bh=class{constructor(t){this.code=t,this.message=`${gF} ${yy} (reason: ${t})`}name="TaskAbortError";message},_y=(t,e)=>{if(typeof t!="function")throw new TypeError(Bi(32))},jd=()=>{},Aw=(t,e=jd)=>(t.catch(e),t),ww=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),ts=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},ns=t=>{if(t.aborted){const{reason:e}=t;throw new bh(e)}};function Cw(t,e){let n=jd;return new Promise((i,o)=>{const s=()=>o(new bh(t.reason));if(t.aborted){s();return}n=ww(t,s),e.finally(()=>n()).then(i,o)}).finally(()=>{n=jd})}var SF=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof bh?"cancelled":"rejected",error:n}}finally{e?.()}},Wd=t=>e=>Aw(Cw(t,e).then(n=>(ns(t),n))),Rw=t=>{const e=Wd(t);return n=>e(new Promise(i=>setTimeout(i,n)))},{assign:gl}=Object,qE={},Mh="listenerMiddleware",bF=(t,e)=>{const n=i=>ww(t,()=>ts(i,t.reason));return(i,o)=>{_y(i);const s=new AbortController;n(s);const u=SF(async()=>{ns(t),ns(s.signal);const c=await i({pause:Wd(s.signal),delay:Rw(s.signal),signal:s.signal});return ns(s.signal),c},()=>ts(s,_F));return o?.autoJoin&&e.push(u.catch(jd)),{result:Wd(t)(u),cancel(){ts(s,yF)}}}},MF=(t,e)=>{const n=async(i,o)=>{ns(e);let s=()=>{};const c=[new Promise((d,h)=>{let p=t({predicate:i,effect:(m,g)=>{g.unsubscribe(),d([m,g.getState(),g.getOriginalState()])}});s=()=>{p(),h()}})];o!=null&&c.push(new Promise(d=>setTimeout(d,o,null)));try{const d=await Cw(e,Promise.race(c));return ns(e),d}finally{s()}};return(i,o)=>Aw(n(i,o))},Dw=t=>{let{type:e,actionCreator:n,matcher:i,predicate:o,effect:s}=t;if(e)o=tr(e).match;else if(n)e=n.type,o=n.match;else if(i)o=i;else if(!o)throw new Error(Bi(21));return _y(s),{predicate:o,type:e,effect:s}},Ow=gl(t=>{const{type:e,predicate:n,effect:i}=Dw(t);return{id:sF(),effect:i,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bi(22))}}},{withTypes:()=>Ow}),YE=(t,e)=>{const{type:n,effect:i,predicate:o}=Dw(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===o)&&s.effect===i)},P0=t=>{t.pending.forEach(e=>{ts(e,O0)})},EF=t=>()=>{t.forEach(P0),t.clear()},KE=(t,e,n)=>{try{t(e,n)}catch(i){setTimeout(()=>{throw i},0)}},Pw=gl(tr(`${Mh}/add`),{withTypes:()=>Pw}),TF=tr(`${Mh}/removeAll`),Nw=gl(tr(`${Mh}/remove`),{withTypes:()=>Nw}),AF=(...t)=>{console.error(`${Mh}/error`,...t)},Mc=(t={})=>{const e=new Map,{extra:n,onError:i=AF}=t;_y(i);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),m=>{p.unsubscribe(),m?.cancelActive&&P0(p)}),s=p=>{const m=YE(e,p)??Ow(p);return o(m)};gl(s,{withTypes:()=>s});const u=p=>{const m=YE(e,p);return m&&(m.unsubscribe(),p.cancelActive&&P0(m)),!!m};gl(u,{withTypes:()=>u});const c=async(p,m,g,_)=>{const b=new AbortController,M=MF(s,b.signal),S=[];try{p.pending.add(b),await Promise.resolve(p.effect(m,gl({},g,{getOriginalState:_,condition:(x,w)=>M(x,w).then(Boolean),take:M,delay:Rw(b.signal),pause:Wd(b.signal),extra:n,signal:b.signal,fork:bF(b.signal,S),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((x,w,E)=>{x!==b&&(ts(x,O0),E.delete(x))})},cancel:()=>{ts(b,O0),p.pending.delete(b)},throwIfCancelled:()=>{ns(b.signal)}})))}catch(x){x instanceof bh||KE(i,x,{raisedBy:"effect"})}finally{await Promise.all(S),ts(b,xF),p.pending.delete(b)}},d=EF(e);return{middleware:p=>m=>g=>{if(!hw(g))return m(g);if(Pw.match(g))return s(g.payload);if(TF.match(g)){d();return}if(Nw.match(g))return u(g.payload);let _=p.getState();const b=()=>{if(_===qE)throw new Error(Bi(23));return _};let M;try{if(M=m(g),e.size>0){const S=p.getState(),x=Array.from(e.values());for(const w of x){let E=!1;try{E=w.predicate(g,S,_)}catch(A){E=!1,KE(i,A,{raisedBy:"predicate"})}E&&c(w,g,p,b)}}}finally{_=qE}return M},startListening:s,stopListening:u,clearListeners:d}};function Bi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wF={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Uw=ki({name:"chartLayout",initialState:wF,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:CF,setLayout:RF,setChartSize:DF,setScale:OF}=Uw.actions,PF=Uw.reducer;function $E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ZE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(i){NF(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function NF(t,e,n){return(e=UF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UF(t){var e=LF(t,"string");return typeof e=="symbol"?e:e+""}function LF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QE=Math.PI/180,IF=t=>t*180/Math.PI,Cl=(t,e,n,i)=>({x:t+Math.cos(-QE*i)*n,y:e+Math.sin(-QE*i)*n}),zF=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(n-(i.top||0)-(i.bottom||0)))/2},BF=(t,e)=>{var{x:n,y:i}=t,{x:o,y:s}=e;return Math.sqrt((n-o)**2+(i-s)**2)},FF=(t,e)=>{var{x:n,y:i}=t,{cx:o,cy:s}=e,u=BF({x:n,y:i},{x:o,y:s});if(u<=0)return{radius:u,angle:0};var c=(n-o)/u,d=Math.acos(c);return i>s&&(d=2*Math.PI-d),{radius:u,angle:IF(d),angleInRadian:d}},kF=t=>{var{startAngle:e,endAngle:n}=t,i=Math.floor(e/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:e-s*360,endAngle:n-s*360}},HF=(t,e)=>{var{startAngle:n,endAngle:i}=e,o=Math.floor(n/360),s=Math.floor(i/360),u=Math.min(o,s);return t+u*360},GF=(t,e)=>{var{x:n,y:i}=t,{radius:o,angle:s}=FF({x:n,y:i},e),{innerRadius:u,outerRadius:c}=e;if(o<u||o>c||o===0)return null;var{startAngle:d,endAngle:h}=kF(e),p=s,m;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;m=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=d}return m?ZE(ZE({},e),{},{radius:o,angle:HF(p,e)}):null};function Lw(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function JE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JE(Object(n),!0).forEach(function(i){VF(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function VF(t,e,n){return(e=jF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jF(t){var e=WF(t,"string");return typeof e=="symbol"?e:e+""}function WF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function li(t,e,n){return Cn(t)||Cn(e)?n:El(e)?ss(t,e,n):typeof e=="function"?e(t):n}var XF=(t,e,n,i,o)=>{var s,u=-1,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||t==null)return 0;if(i==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?n[d-1].coordinate:n[c-1].coordinate,p=n[d].coordinate,m=d>=c-1?n[0].coordinate:n[d+1].coordinate,g=void 0;if(Or(p-h)!==Or(m-p)){var _=[];if(Or(m-p)===Or(o[1]-o[0])){g=m;var b=p+o[1]-o[0];_[0]=Math.min(b,(b+h)/2),_[1]=Math.max(b,(b+h)/2)}else{g=h;var M=m+o[1]-o[0];_[0]=Math.min(p,(M+p)/2),_[1]=Math.max(p,(M+p)/2)}var S=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(t>S[0]&&t<=S[1]||t>=_[0]&&t<=_[1]){({index:u}=n[d]);break}}else{var x=Math.min(h,m),w=Math.max(h,m);if(t>(x+p)/2&&t<=(w+p)/2){({index:u}=n[d]);break}}}else if(e){for(var E=0;E<c;E++)if(E===0&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E>0&&E<c-1&&t>(e[E].coordinate+e[E-1].coordinate)/2&&t<=(e[E].coordinate+e[E+1].coordinate)/2||E===c-1&&t>(e[E].coordinate+e[E-1].coordinate)/2){({index:u}=e[E]);break}}return u},qF=(t,e,n)=>{if(e&&n){var{width:i,height:o}=n,{align:s,verticalAlign:u,layout:c}=e;if((c==="vertical"||c==="horizontal"&&u==="middle")&&s!=="center"&&ht(t[s]))return Qi(Qi({},t),{},{[s]:t[s]+(i||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&u!=="middle"&&ht(t[u]))return Qi(Qi({},t),{},{[u]:t[u]+(o||0)})}return t},uo=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Iw=(t,e,n,i)=>{if(i)return t.map(c=>c.coordinate);var o,s,u=t.map(c=>(c.coordinate===e&&(o=!0),c.coordinate===n&&(s=!0),c.coordinate));return o||u.push(e),s||u.push(n),u},zw=(t,e,n)=>{if(!t)return null;var{duplicateDomain:i,type:o,range:s,scale:u,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:g,axisType:_}=t;if(!u)return null;var b=c==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,M=o==="category"&&u.bandwidth?u.bandwidth()/b:0;if(M=_==="angleAxis"&&s&&s.length>=2?Or(s[0]-s[1])*2*M:M,m||g){var S=(m||g||[]).map((x,w)=>{var E=i?i.indexOf(x):x;return{coordinate:u(E)+M,value:x,offset:M,index:w}});return S.filter(x=>!er(x.coordinate))}return d&&h?h.map((x,w)=>({coordinate:u(x)+M,value:x,index:w,offset:M})):u.ticks&&p!=null?u.ticks(p).map((x,w)=>({coordinate:u(x)+M,value:x,offset:M,index:w})):u.domain().map((x,w)=>({coordinate:u(x)+M,value:i?i[x]:x,index:w,offset:M}))},e1=1e-4,YF=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,i=t.range(),o=Math.min(i[0],i[1])-e1,s=Math.max(i[0],i[1])+e1,u=t(e[0]),c=t(e[n-1]);(u<o||u>s||c<o||c>s)&&t.domain([e[0],e[n-1]])}},KF=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0,u=0;u<e;++u){var c=er(t[u][n][1])?t[u][n][0]:t[u][n][1];c>=0?(t[u][n][0]=o,t[u][n][1]=o+c,o=t[u][n][1]):(t[u][n][0]=s,t[u][n][1]=s+c,s=t[u][n][1])}},$F=t=>{var e=t.length;if(!(e<=0))for(var n=0,i=t[0].length;n<i;++n)for(var o=0,s=0;s<e;++s){var u=er(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=o,t[s][n][1]=o+u,o=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},ZF={sign:KF,expand:nB,none:Al,silhouette:iB,wiggle:rB,positive:$F},QF=(t,e,n)=>{var i=ZF[n],o=tB().keys(e).value((s,u)=>+li(s,u,0)).order(E0).offset(i);return o(t)};function t1(t){var{axis:e,ticks:n,bandSize:i,entry:o,index:s,dataKey:u}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Cn(o[e.dataKey])){var c=kA(n,"value",o[e.dataKey]);if(c)return c.coordinate+i/2}return n[s]?n[s].coordinate+i/2:null}var d=li(o,Cn(u)?e.dataKey:u);return Cn(d)?null:e.scale(d)}var JF=t=>{var e=t.flat(2).filter(ht);return[Math.min(...e),Math.max(...e)]},e4=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],t4=(t,e,n)=>{if(t!=null)return e4(Object.keys(t).reduce((i,o)=>{var s=t[o],{stackedData:u}=s,c=u.reduce((d,h)=>{var p=Lw(h,e,n),m=JF(p);return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},n1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,i1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r1=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();return i}if(t&&e&&e.length>=2){for(var o=py(e,p=>p.coordinate),s=1/0,u=1,c=o.length;u<c;u++){var d=o[u],h=o[u-1];s=Math.min((d.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function a1(t){var{tooltipEntrySettings:e,dataKey:n,payload:i,value:o,name:s}=t;return Qi(Qi({},e),{},{dataKey:n,payload:i,value:o,name:s})}function Bw(t,e){if(t)return String(t);if(typeof e=="string")return e}function n4(t,e,n,i,o){if(n==="horizontal"||n==="vertical"){var s=t>=o.left&&t<=o.left+o.width&&e>=o.top&&e<=o.top+o.height;return s?{x:t,y:e}:null}return i?GF({x:t,y:e},i):null}var i4=(t,e,n,i)=>{var o=e.find(h=>h&&h.index===n);if(o){if(t==="horizontal")return{x:o.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:o.coordinate};if(t==="centric"){var s=o.coordinate,{radius:u}=i;return Qi(Qi(Qi({},i),Cl(i.cx,i.cy,u,s)),{},{angle:s,radius:u})}var c=o.coordinate,{angle:d}=i;return Qi(Qi(Qi({},i),Cl(i.cx,i.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},r4=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,_a=t=>t.layout.width,xa=t=>t.layout.height,a4=t=>t.layout.scale,Fw=t=>t.layout.margin,xy=pe(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Sy=pe(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),o4="data-recharts-item-index",s4="data-recharts-item-data-key",Eh=60;function o1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o1(Object(n),!0).forEach(function(i){l4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function l4(t,e,n){return(e=u4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=c4(t,"string");return typeof e=="symbol"?e:e+""}function c4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f4=t=>t.brush.height,Yn=pe([_a,xa,Fw,f4,xy,Sy,cw,UB],(t,e,n,i,o,s,u,c)=>{var d=s.reduce((b,M)=>{var{orientation:S}=M;if(!M.mirror&&!M.hide){var x=typeof M.width=="number"?M.width:Eh;return Ja(Ja({},b),{},{[S]:b[S]+x})}return b},{left:n.left||0,right:n.right||0}),h=o.reduce((b,M)=>{var{orientation:S}=M;return!M.mirror&&!M.hide?Ja(Ja({},b),{},{[S]:ss(b,"".concat(S))+M.height}):b},{top:n.top||0,bottom:n.bottom||0}),p=Ja(Ja({},h),d),m=p.bottom;p.bottom+=i,p=qF(p,u,c);var g=t-p.left-p.right,_=e-p.top-p.bottom;return Ja(Ja({brushBottom:m},p),{},{width:Math.max(g,0),height:Math.max(_,0)})}),d4=pe(Yn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),kw=pe(_a,xa,(t,e)=>({x:0,y:0,width:t,height:e})),h4=F.createContext(null),ir=()=>F.useContext(h4)!=null,Th=t=>t.brush,Ah=pe([Th,Yn,Fw],(t,e,n)=>({height:t.height,x:ht(t.x)?t.x:e.left,y:ht(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ht(t.width)?t.width:e.width})),Hw=()=>{var t,e=ir(),n=Et(d4),i=Et(Ah),o=(t=Et(Th))===null||t===void 0?void 0:t.padding;return!e||!i||!o?n:{width:i.width-o.left-o.right,height:i.height-o.top-o.bottom,x:o.left,y:o.top}},p4={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},m4=()=>{var t;return(t=Et(Yn))!==null&&t!==void 0?t:p4},Gw=()=>Et(_a),Vw=()=>Et(xa),Jt=t=>t.layout.layoutType,jw=()=>Et(Jt),v4={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ww=ki({name:"legend",initialState:v4,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=ua(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:Uj,setLegendSettings:Lj,addLegendPayload:g4,removeLegendPayload:y4}=Ww.actions,_4=Ww.reducer,x4=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wh={isSsr:x4()},S4=()=>Et(t=>t.rootProps.accessibilityLayer);function _r(t){return Number.isFinite(t)}function Xd(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},N0.apply(null,arguments)}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(i){b4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function b4(t,e,n){return(e=M4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M4(t){var e=E4(t,"string");return typeof e=="symbol"?e:e+""}function E4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1={curveBasisClosed:jz,curveBasisOpen:Wz,curveBasis:Vz,curveBumpX:Hz,curveBumpY:Gz,curveLinearClosed:Xz,curveLinear:gh,curveMonotoneX:qz,curveMonotoneY:Yz,curveNatural:Kz,curveStep:$z,curveStepAfter:Qz,curveStepBefore:Zz},Sd=t=>_r(t.x)&&_r(t.y),Wu=t=>t.x,Xu=t=>t.y,T4=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(uy(t));return(n==="curveMonotone"||n==="curveBump")&&e?u1["".concat(n).concat(e==="vertical"?"Y":"X")]:u1[n]||gh},A4=t=>{var{type:e="linear",points:n=[],baseLine:i,layout:o,connectNulls:s=!1}=t,u=T4(e,o),c=s?n.filter(Sd):n,d;if(Array.isArray(i)){var h=s?i.filter(m=>Sd(m)):i,p=c.map((m,g)=>l1(l1({},m),{},{base:h[g]}));return o==="vertical"?d=vd().y(Xu).x1(Wu).x0(m=>m.base.x):d=vd().x(Wu).y1(Xu).y0(m=>m.base.y),d.defined(Sd).curve(u),d(p)}return o==="vertical"&&ht(i)?d=vd().y(Xu).x1(Wu).x0(i):ht(i)?d=vd().x(Wu).y1(Xu).y0(i):d=ZA().x(Wu).y(Xu),d.defined(Sd).curve(u),d(c)},w4=t=>{var{className:e,points:n,path:i,pathRef:o}=t;if((!n||!n.length)&&!i)return null;var s=n&&n.length?A4(t):i;return F.createElement("path",N0({},Il(t),fy(t),{className:Fn("recharts-curve",e),d:s===null?void 0:s,ref:o}))};function c1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function C4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c1(Object(n),!0).forEach(function(i){R4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function R4(t,e,n){return(e=D4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D4(t){var e=O4(t,"string");return typeof e=="symbol"?e:e+""}function O4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ec(t,e){var n=C4({},t),i=e,o=Object.keys(e),s=o.reduce((u,c)=>(u[c]===void 0&&i[c]!==void 0&&(u[c]=i[c]),u),n);return s}var qd=1e-4,Xw=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],qw=(t,e)=>t.map((n,i)=>n*e**i).reduce((n,i)=>n+i),f1=(t,e)=>n=>{var i=Xw(t,e);return qw(i,n)},P4=(t,e)=>n=>{var i=Xw(t,e),o=[...i.map((s,u)=>s*u).slice(1),0];return qw(o,n)},d1=function(){for(var e,n,i,o,s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];if(u.length===1)switch(u[0]){case"linear":[e,i,n,o]=[0,0,1,1];break;case"ease":[e,i,n,o]=[.25,.1,.25,1];break;case"ease-in":[e,i,n,o]=[.42,0,1,1];break;case"ease-out":[e,i,n,o]=[.42,0,.58,1];break;case"ease-in-out":[e,i,n,o]=[0,0,.58,1];break;default:{var d=u[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,i,n,o]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else u.length===4&&([e,i,n,o]=u);var h=f1(e,n),p=f1(i,o),m=P4(e,n),g=b=>b>1?1:b<0?0:b,_=b=>{for(var M=b>1?1:b,S=M,x=0;x<8;++x){var w=h(S)-M,E=m(S);if(Math.abs(w-M)<qd||E<qd)return p(S);S=g(S-w/E)}return p(S)};return _.isStepper=!1,_},N4=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:i=8,dt:o=17}=e,s=(u,c,d)=>{var h=-(u-c)*n,p=d*i,m=d+(h-p)*o/1e3,g=d*o/1e3+u;return Math.abs(g-c)<qd&&Math.abs(m)<qd?[c,0]:[g,m]};return s.isStepper=!0,s.dt=o,s},U4=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return d1(t);case"spring":return N4();default:if(t.split("(")[0]==="cubic-bezier")return d1(t)}return typeof t=="function"?t:null};function h1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function p1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h1(Object(n),!0).forEach(function(i){L4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function L4(t,e,n){return(e=I4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I4(t){var e=z4(t,"string");return typeof e=="symbol"?e:e+""}function z4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B4=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,i)=>n.filter(o=>i.includes(o))),uc=(t,e)=>Object.keys(e).reduce((n,i)=>p1(p1({},n),{},{[i]:t(i,e[i])}),{});function m1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m1(Object(n),!0).forEach(function(i){F4(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function F4(t,e,n){return(e=k4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k4(t){var e=H4(t,"string");return typeof e=="symbol"?e:e+""}function H4(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yd=(t,e,n)=>t+(e-t)*n,U0=t=>{var{from:e,to:n}=t;return e!==n},Yw=(t,e,n)=>{var i=uc((o,s)=>{if(U0(s)){var[u,c]=t(s.from,s.to,s.velocity);return qn(qn({},s),{},{from:u,velocity:c})}return s},e);return n<1?uc((o,s)=>U0(s)?qn(qn({},s),{},{velocity:Yd(s.velocity,i[o].velocity,n),from:Yd(s.from,i[o].from,n)}):s,e):Yw(t,i,n-1)};function G4(t,e,n,i,o,s){var u,c=i.reduce((g,_)=>qn(qn({},g),{},{[_]:{from:t[_],velocity:0,to:e[_]}}),{}),d=()=>uc((g,_)=>_.from,c),h=()=>!Object.values(c).filter(U0).length,p=null,m=g=>{u||(u=g);var _=g-u,b=_/n.dt;c=Yw(n,c,b),o(qn(qn(qn({},t),e),d())),u=g,h()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{p()})}function V4(t,e,n,i,o,s,u){var c=null,d=o.reduce((m,g)=>qn(qn({},m),{},{[g]:[t[g],e[g]]}),{}),h,p=m=>{h||(h=m);var g=(m-h)/i,_=uc((M,S)=>Yd(...S,n(g)),d);if(s(qn(qn(qn({},t),e),_)),g<1)c=u.setTimeout(p);else{var b=uc((M,S)=>Yd(...S,n(1)),d);s(qn(qn(qn({},t),e),b))}};return()=>(c=u.setTimeout(p),()=>{c()})}const j4=(t,e,n,i,o,s)=>{var u=B4(t,e);return n.isStepper===!0?G4(t,e,n,u,o,s):V4(t,e,n,i,u,o,s)};function W4(t){var e,n=()=>null,i=!1,o=null,s=u=>{if(!i){if(Array.isArray(u)){if(!u.length)return;var c=u,[d,...h]=c;if(typeof d=="number"){o=t.setTimeout(s.bind(null,h),d);return}s(d),o=t.setTimeout(s.bind(null,h));return}typeof u=="string"&&(e=u,n(e)),typeof u=="object"&&(e=u,n(e)),typeof u=="function"&&u()}};return{stop:()=>{i=!0},start:u=>{i=!1,o&&(o(),o=null),s(u)},subscribe:u=>(n=u,()=>{n=()=>null}),getTimeoutController:()=>t}}class X4{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),o=null,s=u=>{u-i>=n?e(u):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(s))};return o=requestAnimationFrame(s),()=>{cancelAnimationFrame(o)}}}function q4(){return W4(new X4)}var Y4=F.createContext(q4);function K4(t,e){var n=F.useContext(Y4);return F.useMemo(()=>e??n(t),[t,e,n])}var rg={},ag={},og={},v1;function $4(){return v1||(v1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lw();function n(i){return e.isSymbol(i)?NaN:Number(i)}t.toNumber=n})(og)),og}var g1;function Z4(){return g1||(g1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$4();function n(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}t.toFinite=n})(ag)),ag}var y1;function Q4(){return y1||(y1=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uw(),n=Z4();function i(o,s,u){u&&typeof u!="number"&&e.isIterateeCall(o,s,u)&&(s=u=void 0),o=n.toFinite(o),s===void 0?(s=o,o=0):s=n.toFinite(s),u=u===void 0?o<s?1:-1:n.toFinite(u);const c=Math.max(Math.ceil((s-o)/(u||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=o,o+=u;return d}t.range=i})(rg)),rg}var sg,_1;function J4(){return _1||(_1=1,sg=Q4().range),sg}var ek=J4();const Kw=lo(ek);function ao(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tk(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function by(t){let e,n,i;t.length!==2?(e=ao,n=(c,d)=>ao(t(c),d),i=(c,d)=>t(c)-d):(e=t===ao||t===tk?t:nk,n=t,i=t);function o(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;n(c[m],d)<0?h=m+1:p=m}while(h<p)}return h}function s(c,d,h=0,p=c.length){if(h<p){if(e(d,d)!==0)return p;do{const m=h+p>>>1;n(c[m],d)<=0?h=m+1:p=m}while(h<p)}return h}function u(c,d,h=0,p=c.length){const m=o(c,d,h,p-1);return m>h&&i(c[m-1],d)>-i(c[m],d)?m-1:m}return{left:o,center:u,right:s}}function nk(){return 0}function $w(t){return t===null?NaN:+t}function*ik(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const rk=by(ao),Tc=rk.right;by($w).center;class x1 extends Map{constructor(e,n=sk){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(S1(this,e))}has(e){return super.has(S1(this,e))}set(e,n){return super.set(ak(this,e),n)}delete(e){return super.delete(ok(this,e))}}function S1({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function ak({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function ok({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function sk(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lk(t=ao){if(t===ao)return Zw;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function Zw(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const uk=Math.sqrt(50),ck=Math.sqrt(10),fk=Math.sqrt(2);function Kd(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),s=i/Math.pow(10,o),u=s>=uk?10:s>=ck?5:s>=fk?2:1;let c,d,h;return o<0?(h=Math.pow(10,-o)/u,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,o)*u,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?Kd(t,e,n*2):[c,d,h]}function L0(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,s,u]=i?Kd(e,t,n):Kd(t,e,n);if(!(s>=o))return[];const c=s-o+1,d=new Array(c);if(i)if(u<0)for(let h=0;h<c;++h)d[h]=(s-h)/-u;else for(let h=0;h<c;++h)d[h]=(s-h)*u;else if(u<0)for(let h=0;h<c;++h)d[h]=(o+h)/-u;else for(let h=0;h<c;++h)d[h]=(o+h)*u;return d}function I0(t,e,n){return e=+e,t=+t,n=+n,Kd(t,e,n)[2]}function z0(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?I0(e,t,n):I0(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function b1(t,e){let n;for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);return n}function M1(t,e){let n;for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);return n}function Qw(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?Zw:lk(o);i>n;){if(i-n>600){const d=i-n+1,h=e-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(h-d/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/d+g)),b=Math.min(i,Math.floor(e+(d-h)*m/d+g));Qw(t,e,_,b,o)}const s=t[e];let u=n,c=i;for(qu(t,n,e),o(t[i],s)>0&&qu(t,n,i);u<c;){for(qu(t,u,c),++u,--c;o(t[u],s)<0;)++u;for(;o(t[c],s)>0;)--c}o(t[n],s)===0?qu(t,n,c):(++c,qu(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function qu(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function dk(t,e,n){if(t=Float64Array.from(ik(t)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return M1(t);if(e>=1)return b1(t);var i,o=(i-1)*e,s=Math.floor(o),u=b1(Qw(t,s).subarray(0,s+1)),c=M1(t.subarray(s+1));return u+(c-u)*(o-s)}}function hk(t,e,n=$w){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,s=Math.floor(o),u=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return u+(c-u)*(o-s)}}function pk(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(o);++i<o;)s[i]=t+i*n;return s}function rr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Sa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const B0=Symbol("implicit");function My(){var t=new x1,e=[],n=[],i=B0;function o(s){let u=t.get(s);if(u===void 0){if(i!==B0)return i;t.set(s,u=e.push(s)-1)}return n[u%n.length]}return o.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new x1;for(const u of s)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(s){return arguments.length?(n=Array.from(s),o):n.slice()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return My(e,n).unknown(i)},rr.apply(o,arguments),o}function Ey(){var t=My().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,s,u,c=!1,d=0,h=0,p=.5;delete t.unknown;function m(){var g=e().length,_=o<i,b=_?o:i,M=_?i:o;s=(M-b)/Math.max(1,g-d+h*2),c&&(s=Math.floor(s)),b+=(M-b-s*(g-d))*p,u=s*(1-d),c&&(b=Math.round(b),u=Math.round(u));var S=pk(g).map(function(x){return b+s*x});return n(_?S.reverse():S)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,m()):[i,o]},t.rangeRound=function(g){return[i,o]=g,i=+i,o=+o,c=!0,m()},t.bandwidth=function(){return u},t.step=function(){return s},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(d=Math.min(1,h=+g),m()):d},t.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},t.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return Ey(e(),[i,o]).round(c).paddingInner(d).paddingOuter(h).align(p)},rr.apply(m(),arguments)}function Jw(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Jw(e())},t}function mk(){return Jw(Ey.apply(null,arguments).paddingInner(1))}function Ty(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function eC(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Ac(){}var cc=.7,$d=1/cc,yl="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vk=/^#([0-9a-f]{3,8})$/,gk=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),yk=new RegExp(`^rgb\\(${Nr},${Nr},${Nr}\\)$`),_k=new RegExp(`^rgba\\(${yl},${yl},${yl},${fc}\\)$`),xk=new RegExp(`^rgba\\(${Nr},${Nr},${Nr},${fc}\\)$`),Sk=new RegExp(`^hsl\\(${fc},${Nr},${Nr}\\)$`),bk=new RegExp(`^hsla\\(${fc},${Nr},${Nr},${fc}\\)$`),E1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ty(Ac,dc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:T1,formatHex:T1,formatHex8:Mk,formatHsl:Ek,formatRgb:A1,toString:A1});function T1(){return this.rgb().formatHex()}function Mk(){return this.rgb().formatHex8()}function Ek(){return tC(this).formatHsl()}function A1(){return this.rgb().formatRgb()}function dc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vk.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?w1(e):n===3?new vi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gk.exec(t))?new vi(e[1],e[2],e[3],1):(e=yk.exec(t))?new vi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_k.exec(t))?bd(e[1],e[2],e[3],e[4]):(e=xk.exec(t))?bd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sk.exec(t))?D1(e[1],e[2]/100,e[3]/100,1):(e=bk.exec(t))?D1(e[1],e[2]/100,e[3]/100,e[4]):E1.hasOwnProperty(t)?w1(E1[t]):t==="transparent"?new vi(NaN,NaN,NaN,0):null}function w1(t){return new vi(t>>16&255,t>>8&255,t&255,1)}function bd(t,e,n,i){return i<=0&&(t=e=n=NaN),new vi(t,e,n,i)}function Tk(t){return t instanceof Ac||(t=dc(t)),t?(t=t.rgb(),new vi(t.r,t.g,t.b,t.opacity)):new vi}function F0(t,e,n,i){return arguments.length===1?Tk(t):new vi(t,e,n,i??1)}function vi(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ty(vi,F0,eC(Ac,{brighter(t){return t=t==null?$d:Math.pow($d,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cc:Math.pow(cc,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vi(is(this.r),is(this.g),is(this.b),Zd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C1,formatHex:C1,formatHex8:Ak,formatRgb:R1,toString:R1}));function C1(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}`}function Ak(){return`#${$o(this.r)}${$o(this.g)}${$o(this.b)}${$o((isNaN(this.opacity)?1:this.opacity)*255)}`}function R1(){const t=Zd(this.opacity);return`${t===1?"rgb(":"rgba("}${is(this.r)}, ${is(this.g)}, ${is(this.b)}${t===1?")":`, ${t})`}`}function Zd(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function is(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function $o(t){return t=is(t),(t<16?"0":"")+t.toString(16)}function D1(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new vr(t,e,n,i)}function tC(t){if(t instanceof vr)return new vr(t.h,t.s,t.l,t.opacity);if(t instanceof Ac||(t=dc(t)),!t)return new vr;if(t instanceof vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),s=Math.max(e,n,i),u=NaN,c=s-o,d=(s+o)/2;return c?(e===s?u=(n-i)/c+(n<i)*6:n===s?u=(i-e)/c+2:u=(e-n)/c+4,c/=d<.5?s+o:2-s-o,u*=60):c=d>0&&d<1?0:u,new vr(u,c,d,t.opacity)}function wk(t,e,n,i){return arguments.length===1?tC(t):new vr(t,e,n,i??1)}function vr(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ty(vr,wk,eC(Ac,{brighter(t){return t=t==null?$d:Math.pow($d,t),new vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cc:Math.pow(cc,t),new vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new vi(lg(t>=240?t-240:t+120,o,i),lg(t,o,i),lg(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new vr(O1(this.h),Md(this.s),Md(this.l),Zd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zd(this.opacity);return`${t===1?"hsl(":"hsla("}${O1(this.h)}, ${Md(this.s)*100}%, ${Md(this.l)*100}%${t===1?")":`, ${t})`}`}}));function O1(t){return t=(t||0)%360,t<0?t+360:t}function Md(t){return Math.max(0,Math.min(1,t||0))}function lg(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Ay=t=>()=>t;function Ck(t,e){return function(n){return t+n*e}}function Rk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Dk(t){return(t=+t)==1?nC:function(e,n){return n-e?Rk(e,n,t):Ay(isNaN(e)?n:e)}}function nC(t,e){var n=e-t;return n?Ck(t,n):Ay(isNaN(t)?e:t)}const P1=(function t(e){var n=Dk(e);function i(o,s){var u=n((o=F0(o)).r,(s=F0(s)).r),c=n(o.g,s.g),d=n(o.b,s.b),h=nC(o.opacity,s.opacity);return function(p){return o.r=u(p),o.g=c(p),o.b=d(p),o.opacity=h(p),o+""}}return i.gamma=t,i})(1);function Ok(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(s){for(o=0;o<n;++o)i[o]=t[o]*(1-s)+e[o]*s;return i}}function Pk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nk(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),s=new Array(n),u;for(u=0;u<i;++u)o[u]=zl(t[u],e[u]);for(;u<n;++u)s[u]=e[u];return function(c){for(u=0;u<i;++u)s[u]=o[u](c);return s}}function Uk(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Qd(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Lk(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=zl(t[o],e[o]):i[o]=e[o];return function(s){for(o in n)i[o]=n[o](s);return i}}var k0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ug=new RegExp(k0.source,"g");function Ik(t){return function(){return t}}function zk(t){return function(e){return t(e)+""}}function Bk(t,e){var n=k0.lastIndex=ug.lastIndex=0,i,o,s,u=-1,c=[],d=[];for(t=t+"",e=e+"";(i=k0.exec(t))&&(o=ug.exec(e));)(s=o.index)>n&&(s=e.slice(n,s),c[u]?c[u]+=s:c[++u]=s),(i=i[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,d.push({i:u,x:Qd(i,o)})),n=ug.lastIndex;return n<e.length&&(s=e.slice(n),c[u]?c[u]+=s:c[++u]=s),c.length<2?d[0]?zk(d[0].x):Ik(e):(e=d.length,function(h){for(var p=0,m;p<e;++p)c[(m=d[p]).i]=m.x(h);return c.join("")})}function zl(t,e){var n=typeof e,i;return e==null||n==="boolean"?Ay(e):(n==="number"?Qd:n==="string"?(i=dc(e))?(e=i,P1):Bk:e instanceof dc?P1:e instanceof Date?Uk:Pk(e)?Ok:Array.isArray(e)?Nk:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Lk:Qd)(t,e)}function wy(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Fk(t,e){e===void 0&&(e=t,t=zl);for(var n=0,i=e.length-1,o=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(o,o=e[++n]);return function(u){var c=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return s[c](u-c)}}function kk(t){return function(){return t}}function Jd(t){return+t}var N1=[0,1];function si(t){return t}function H0(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:kk(isNaN(e)?NaN:.5)}function Hk(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function Gk(t,e,n){var i=t[0],o=t[1],s=e[0],u=e[1];return o<i?(i=H0(o,i),s=n(u,s)):(i=H0(i,o),s=n(s,u)),function(c){return s(i(c))}}function Vk(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),s=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=H0(t[u],t[u+1]),s[u]=n(e[u],e[u+1]);return function(c){var d=Tc(t,c,1,i)-1;return s[d](o[d](c))}}function wc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ch(){var t=N1,e=N1,n=zl,i,o,s,u=si,c,d,h;function p(){var g=Math.min(t.length,e.length);return u!==si&&(u=Hk(t[0],t[g-1])),c=g>2?Vk:Gk,d=h=null,m}function m(g){return g==null||isNaN(g=+g)?s:(d||(d=c(t.map(i),e,n)))(i(u(g)))}return m.invert=function(g){return u(o((h||(h=c(e,t.map(i),Qd)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Jd),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=wy,p()},m.clamp=function(g){return arguments.length?(u=g?!0:si,p()):u!==si},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,_){return i=g,o=_,p()}}function Cy(){return Ch()(si,si)}function jk(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eh(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Rl(t){return t=eh(Math.abs(t)),t?t[1]:NaN}function Wk(t,e){return function(n,i){for(var o=n.length,s=[],u=0,c=t[0],d=0;o>0&&c>0&&(d+c+1>i&&(c=Math.max(1,i-d)),s.push(n.substring(o-=c,o+c)),!((d+=c+1)>i));)c=t[u=(u+1)%t.length];return s.reverse().join(e)}}function Xk(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qk=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hc(t){if(!(e=qk.exec(t)))throw new Error("invalid format: "+t);var e;return new Ry({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}hc.prototype=Ry.prototype;function Ry(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ry.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yk(t){e:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break e;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var iC;function Kk(t,e){var n=eh(t,e);if(!n)return t+"";var i=n[0],o=n[1],s=o-(iC=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return s===u?i:s>u?i+new Array(s-u+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+eh(t,Math.max(0,e+s-1))[0]}function U1(t,e){var n=eh(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const L1={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:jk,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>U1(t*100,e),r:U1,s:Kk,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function I1(t){return t}var z1=Array.prototype.map,B1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $k(t){var e=t.grouping===void 0||t.thousands===void 0?I1:Wk(z1.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?I1:Xk(z1.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(m){m=hc(m);var g=m.fill,_=m.align,b=m.sign,M=m.symbol,S=m.zero,x=m.width,w=m.comma,E=m.precision,A=m.trim,C=m.type;C==="n"?(w=!0,C="g"):L1[C]||(E===void 0&&(E=12),A=!0,C="g"),(S||g==="0"&&_==="=")&&(S=!0,g="0",_="=");var N=M==="$"?n:M==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",L=M==="$"?i:/[%p]/.test(C)?u:"",H=L1[C],P=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function U(I){var Y=N,te=L,ce,oe,B;if(C==="c")te=H(I)+te,I="";else{I=+I;var q=I<0||1/I<0;if(I=isNaN(I)?d:H(Math.abs(I),E),A&&(I=Yk(I)),q&&+I==0&&b!=="+"&&(q=!1),Y=(q?b==="("?b:c:b==="-"||b==="("?"":b)+Y,te=(C==="s"?B1[8+iC/3]:"")+te+(q&&b==="("?")":""),P){for(ce=-1,oe=I.length;++ce<oe;)if(B=I.charCodeAt(ce),48>B||B>57){te=(B===46?o+I.slice(ce+1):I.slice(ce))+te,I=I.slice(0,ce);break}}}w&&!S&&(I=e(I,1/0));var X=Y.length+I.length+te.length,ye=X<x?new Array(x-X+1).join(g):"";switch(w&&S&&(I=e(ye+I,ye.length?x-te.length:1/0),ye=""),_){case"<":I=Y+I+te+ye;break;case"=":I=Y+ye+I+te;break;case"^":I=ye.slice(0,X=ye.length>>1)+Y+I+te+ye.slice(X);break;default:I=ye+Y+I+te;break}return s(I)}return U.toString=function(){return m+""},U}function p(m,g){var _=h((m=hc(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Rl(g)/3)))*3,M=Math.pow(10,-b),S=B1[8+b/3];return function(x){return _(M*x)+S}}return{format:h,formatPrefix:p}}var Ed,Dy,rC;Zk({thousands:",",grouping:[3],currency:["$",""]});function Zk(t){return Ed=$k(t),Dy=Ed.format,rC=Ed.formatPrefix,Ed}function Qk(t){return Math.max(0,-Rl(Math.abs(t)))}function Jk(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(e)/3)))*3-Rl(Math.abs(t)))}function eH(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rl(e)-Rl(t))+1}function aC(t,e,n,i){var o=z0(t,e,n),s;switch(i=hc(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(s=Jk(o,u))&&(i.precision=s),rC(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=eH(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=Qk(o))&&(i.precision=s-(i.type==="%")*2);break}}return Dy(i)}function co(t){var e=t.domain;return t.ticks=function(n){var i=e();return L0(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return aC(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,s=i.length-1,u=i[o],c=i[s],d,h,p=10;for(c<u&&(h=u,u=c,c=h,h=o,o=s,s=h);p-- >0;){if(h=I0(u,c,n),h===d)return i[o]=u,i[s]=c,e(i);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function oC(){var t=Cy();return t.copy=function(){return wc(t,oC())},rr.apply(t,arguments),co(t)}function sC(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Jd),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return sC(t).unknown(e)},t=arguments.length?Array.from(t,Jd):[0,1],co(n)}function lC(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],s=t[i],u;return s<o&&(u=n,n=i,i=u,u=o,o=s,s=u),t[n]=e.floor(o),t[i]=e.ceil(s),t}function F1(t){return Math.log(t)}function k1(t){return Math.exp(t)}function tH(t){return-Math.log(-t)}function nH(t){return-Math.exp(-t)}function iH(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rH(t){return t===10?iH:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aH(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function H1(t){return(e,n)=>-t(-e,n)}function Oy(t){const e=t(F1,k1),n=e.domain;let i=10,o,s;function u(){return o=aH(i),s=rH(i),n()[0]<0?(o=H1(o),s=H1(s),t(tH,nH)):t(F1,k1),e}return e.base=function(c){return arguments.length?(i=+c,u()):i},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const d=n();let h=d[0],p=d[d.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=o(h),_=o(p),b,M;const S=c==null?10:+c;let x=[];if(!(i%1)&&_-g<S){if(g=Math.floor(g),_=Math.ceil(_),h>0){for(;g<=_;++g)for(b=1;b<i;++b)if(M=g<0?b/s(-g):b*s(g),!(M<h)){if(M>p)break;x.push(M)}}else for(;g<=_;++g)for(b=i-1;b>=1;--b)if(M=g>0?b/s(-g):b*s(g),!(M<h)){if(M>p)break;x.push(M)}x.length*2<S&&(x=L0(h,p,S))}else x=L0(g,_,Math.min(_-g,S)).map(s);return m?x.reverse():x},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=i===10?"s":","),typeof d!="function"&&(!(i%1)&&(d=hc(d)).precision==null&&(d.trim=!0),d=Dy(d)),c===1/0)return d;const h=Math.max(1,i*c/e.ticks().length);return p=>{let m=p/s(Math.round(o(p)));return m*i<i-.5&&(m*=i),m<=h?d(p):""}},e.nice=()=>n(lC(n(),{floor:c=>s(Math.floor(o(c))),ceil:c=>s(Math.ceil(o(c)))})),e}function uC(){const t=Oy(Ch()).domain([1,10]);return t.copy=()=>wc(t,uC()).base(t.base()),rr.apply(t,arguments),t}function G1(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function V1(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Py(t){var e=1,n=t(G1(e),V1(e));return n.constant=function(i){return arguments.length?t(G1(e=+i),V1(e)):e},co(n)}function cC(){var t=Py(Ch());return t.copy=function(){return wc(t,cC()).constant(t.constant())},rr.apply(t,arguments)}function j1(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oH(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sH(t){return t<0?-t*t:t*t}function Ny(t){var e=t(si,si),n=1;function i(){return n===1?t(si,si):n===.5?t(oH,sH):t(j1(n),j1(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},co(e)}function Uy(){var t=Ny(Ch());return t.copy=function(){return wc(t,Uy()).exponent(t.exponent())},rr.apply(t,arguments),t}function lH(){return Uy.apply(null,arguments).exponent(.5)}function W1(t){return Math.sign(t)*t*t}function uH(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function fC(){var t=Cy(),e=[0,1],n=!1,i;function o(s){var u=uH(t(s));return isNaN(u)?i:n?Math.round(u):u}return o.invert=function(s){return t.invert(W1(s))},o.domain=function(s){return arguments.length?(t.domain(s),o):t.domain()},o.range=function(s){return arguments.length?(t.range((e=Array.from(s,Jd)).map(W1)),o):e.slice()},o.rangeRound=function(s){return o.range(s).round(!0)},o.round=function(s){return arguments.length?(n=!!s,o):n},o.clamp=function(s){return arguments.length?(t.clamp(s),o):t.clamp()},o.unknown=function(s){return arguments.length?(i=s,o):i},o.copy=function(){return fC(t.domain(),e).round(n).clamp(t.clamp()).unknown(i)},rr.apply(o,arguments),co(o)}function dC(){var t=[],e=[],n=[],i;function o(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=hk(t,u/c);return s}function s(u){return u==null||isNaN(u=+u)?i:e[Tc(n,u)]}return s.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(ao),o()},s.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},s.unknown=function(u){return arguments.length?(i=u,s):i},s.quantiles=function(){return n.slice()},s.copy=function(){return dC().domain(t).range(e).unknown(i)},rr.apply(s,arguments)}function hC(){var t=0,e=1,n=1,i=[.5],o=[0,1],s;function u(d){return d!=null&&d<=d?o[Tc(i,d,0,n)]:s}function c(){var d=-1;for(i=new Array(n);++d<n;)i[d]=((d+1)*e-(d-n)*t)/(n+1);return u}return u.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},u.range=function(d){return arguments.length?(n=(o=Array.from(d)).length-1,c()):o.slice()},u.invertExtent=function(d){var h=o.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,i[0]]:h>=n?[i[n-1],e]:[i[h-1],i[h]]},u.unknown=function(d){return arguments.length&&(s=d),u},u.thresholds=function(){return i.slice()},u.copy=function(){return hC().domain([t,e]).range(o).unknown(s)},rr.apply(co(u),arguments)}function pC(){var t=[.5],e=[0,1],n,i=1;function o(s){return s!=null&&s<=s?e[Tc(t,s,0,i)]:n}return o.domain=function(s){return arguments.length?(t=Array.from(s),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(s){var u=e.indexOf(s);return[t[u-1],t[u]]},o.unknown=function(s){return arguments.length?(n=s,o):n},o.copy=function(){return pC().domain(t).range(e).unknown(n)},rr.apply(o,arguments)}const cg=new Date,fg=new Date;function On(t,e,n,i){function o(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return o.floor=s=>(t(s=new Date(+s)),s),o.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),o.round=s=>{const u=o(s),c=o.ceil(s);return s-u<c-s?u:c},o.offset=(s,u)=>(e(s=new Date(+s),u==null?1:Math.floor(u)),s),o.range=(s,u,c)=>{const d=[];if(s=o.ceil(s),c=c==null?1:Math.floor(c),!(s<u)||!(c>0))return d;let h;do d.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<u);return d},o.filter=s=>On(u=>{if(u>=u)for(;t(u),!s(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!s(u););else for(;--c>=0;)for(;e(u,1),!s(u););}),n&&(o.count=(s,u)=>(cg.setTime(+s),fg.setTime(+u),t(cg),t(fg),Math.floor(n(cg,fg))),o.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?o.filter(i?u=>i(u)%s===0:u=>o.count(0,u)%s===0):o)),o}const th=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);th.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):th);th.range;const oa=1e3,Ji=oa*60,sa=Ji*60,ma=sa*24,Ly=ma*7,X1=ma*30,dg=ma*365,Zo=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCSeconds());Zo.range;const Iy=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getMinutes());Iy.range;const zy=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCMinutes());zy.range;const By=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa-t.getMinutes()*Ji)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getHours());By.range;const Fy=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*sa)},(t,e)=>(e-t)/sa,t=>t.getUTCHours());Fy.range;const Cc=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ji)/ma,t=>t.getDate()-1);Cc.range;const Rh=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ma,t=>t.getUTCDate()-1);Rh.range;const mC=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ma,t=>Math.floor(t/ma));mC.range;function hs(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ji)/Ly)}const Dh=hs(0),nh=hs(1),cH=hs(2),fH=hs(3),Dl=hs(4),dH=hs(5),hH=hs(6);Dh.range;nh.range;cH.range;fH.range;Dl.range;dH.range;hH.range;function ps(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ly)}const Oh=ps(0),ih=ps(1),pH=ps(2),mH=ps(3),Ol=ps(4),vH=ps(5),gH=ps(6);Oh.range;ih.range;pH.range;mH.range;Ol.range;vH.range;gH.range;const ky=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());ky.range;const Hy=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Hy.range;const va=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());va.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});va.range;const ga=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ga.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ga.range;function vC(t,e,n,i,o,s){const u=[[Zo,1,oa],[Zo,5,5*oa],[Zo,15,15*oa],[Zo,30,30*oa],[s,1,Ji],[s,5,5*Ji],[s,15,15*Ji],[s,30,30*Ji],[o,1,sa],[o,3,3*sa],[o,6,6*sa],[o,12,12*sa],[i,1,ma],[i,2,2*ma],[n,1,Ly],[e,1,X1],[e,3,3*X1],[t,1,dg]];function c(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:d(h,p,m),b=_?_.range(h,+p+1):[];return g?b.reverse():b}function d(h,p,m){const g=Math.abs(p-h)/m,_=by(([,,S])=>S).right(u,g);if(_===u.length)return t.every(z0(h/dg,p/dg,m));if(_===0)return th.every(Math.max(z0(h,p,m),1));const[b,M]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return b.every(M)}return[c,d]}const[yH,_H]=vC(ga,Hy,Oh,mC,Fy,zy),[xH,SH]=vC(va,ky,Dh,Cc,By,Iy);function hg(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pg(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bH(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,s=t.days,u=t.shortDays,c=t.months,d=t.shortMonths,h=Ku(o),p=$u(o),m=Ku(s),g=$u(s),_=Ku(u),b=$u(u),M=Ku(c),S=$u(c),x=Ku(d),w=$u(d),E={a:q,A:X,b:ye,B:z,c:null,d:Q1,e:Q1,f:WH,g:tG,G:iG,H:GH,I:VH,j:jH,L:gC,m:XH,M:qH,p:J,q:se,Q:tT,s:nT,S:YH,u:KH,U:$H,V:ZH,w:QH,W:JH,x:null,X:null,y:eG,Y:nG,Z:rG,"%":eT},A={a:Ee,A:Ne,b:ie,B:_e,c:null,d:J1,e:J1,f:lG,g:yG,G:xG,H:aG,I:oG,j:sG,L:_C,m:uG,M:cG,p:Te,q:Ie,Q:tT,s:nT,S:fG,u:dG,U:hG,V:pG,w:mG,W:vG,x:null,X:null,y:gG,Y:_G,Z:SG,"%":eT},C={a:U,A:I,b:Y,B:te,c:ce,d:$1,e:$1,f:BH,g:K1,G:Y1,H:Z1,I:Z1,j:UH,L:zH,m:NH,M:LH,p:P,q:PH,Q:kH,s:HH,S:IH,u:wH,U:CH,V:RH,w:AH,W:DH,x:oe,X:B,y:K1,Y:Y1,Z:OH,"%":FH};E.x=N(n,E),E.X=N(i,E),E.c=N(e,E),A.x=N(n,A),A.X=N(i,A),A.c=N(e,A);function N(ge,De){return function(Qe){var he=[],V=-1,et=0,Ve=ge.length,ut,ke,It;for(Qe instanceof Date||(Qe=new Date(+Qe));++V<Ve;)ge.charCodeAt(V)===37&&(he.push(ge.slice(et,V)),(ke=q1[ut=ge.charAt(++V)])!=null?ut=ge.charAt(++V):ke=ut==="e"?" ":"0",(It=De[ut])&&(ut=It(Qe,ke)),he.push(ut),et=V+1);return he.push(ge.slice(et,V)),he.join("")}}function L(ge,De){return function(Qe){var he=Yu(1900,void 0,1),V=H(he,ge,Qe+="",0),et,Ve;if(V!=Qe.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(De&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(et=pg(Yu(he.y,0,1)),Ve=et.getUTCDay(),et=Ve>4||Ve===0?ih.ceil(et):ih(et),et=Rh.offset(et,(he.V-1)*7),he.y=et.getUTCFullYear(),he.m=et.getUTCMonth(),he.d=et.getUTCDate()+(he.w+6)%7):(et=hg(Yu(he.y,0,1)),Ve=et.getDay(),et=Ve>4||Ve===0?nh.ceil(et):nh(et),et=Cc.offset(et,(he.V-1)*7),he.y=et.getFullYear(),he.m=et.getMonth(),he.d=et.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ve="Z"in he?pg(Yu(he.y,0,1)).getUTCDay():hg(Yu(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ve+5)%7:he.w+he.U*7-(Ve+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,pg(he)):hg(he)}}function H(ge,De,Qe,he){for(var V=0,et=De.length,Ve=Qe.length,ut,ke;V<et;){if(he>=Ve)return-1;if(ut=De.charCodeAt(V++),ut===37){if(ut=De.charAt(V++),ke=C[ut in q1?De.charAt(V++):ut],!ke||(he=ke(ge,Qe,he))<0)return-1}else if(ut!=Qe.charCodeAt(he++))return-1}return he}function P(ge,De,Qe){var he=h.exec(De.slice(Qe));return he?(ge.p=p.get(he[0].toLowerCase()),Qe+he[0].length):-1}function U(ge,De,Qe){var he=_.exec(De.slice(Qe));return he?(ge.w=b.get(he[0].toLowerCase()),Qe+he[0].length):-1}function I(ge,De,Qe){var he=m.exec(De.slice(Qe));return he?(ge.w=g.get(he[0].toLowerCase()),Qe+he[0].length):-1}function Y(ge,De,Qe){var he=x.exec(De.slice(Qe));return he?(ge.m=w.get(he[0].toLowerCase()),Qe+he[0].length):-1}function te(ge,De,Qe){var he=M.exec(De.slice(Qe));return he?(ge.m=S.get(he[0].toLowerCase()),Qe+he[0].length):-1}function ce(ge,De,Qe){return H(ge,e,De,Qe)}function oe(ge,De,Qe){return H(ge,n,De,Qe)}function B(ge,De,Qe){return H(ge,i,De,Qe)}function q(ge){return u[ge.getDay()]}function X(ge){return s[ge.getDay()]}function ye(ge){return d[ge.getMonth()]}function z(ge){return c[ge.getMonth()]}function J(ge){return o[+(ge.getHours()>=12)]}function se(ge){return 1+~~(ge.getMonth()/3)}function Ee(ge){return u[ge.getUTCDay()]}function Ne(ge){return s[ge.getUTCDay()]}function ie(ge){return d[ge.getUTCMonth()]}function _e(ge){return c[ge.getUTCMonth()]}function Te(ge){return o[+(ge.getUTCHours()>=12)]}function Ie(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var De=N(ge+="",E);return De.toString=function(){return ge},De},parse:function(ge){var De=L(ge+="",!1);return De.toString=function(){return ge},De},utcFormat:function(ge){var De=N(ge+="",A);return De.toString=function(){return ge},De},utcParse:function(ge){var De=L(ge+="",!0);return De.toString=function(){return ge},De}}}var q1={"-":"",_:" ",0:"0"},kn=/^\s*\d+/,MH=/^%/,EH=/[\\^$*+?|[\]().{}]/g;function Pt(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",s=o.length;return i+(s<n?new Array(n-s+1).join(e)+o:o)}function TH(t){return t.replace(EH,"\\$&")}function Ku(t){return new RegExp("^(?:"+t.map(TH).join("|")+")","i")}function $u(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function AH(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function wH(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function CH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function RH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function DH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Y1(t,e,n){var i=kn.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function K1(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function OH(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function PH(t,e,n){var i=kn.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function NH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function $1(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function UH(t,e,n){var i=kn.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function Z1(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function LH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function IH(t,e,n){var i=kn.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function zH(t,e,n){var i=kn.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function BH(t,e,n){var i=kn.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function FH(t,e,n){var i=MH.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function kH(t,e,n){var i=kn.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function HH(t,e,n){var i=kn.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function Q1(t,e){return Pt(t.getDate(),e,2)}function GH(t,e){return Pt(t.getHours(),e,2)}function VH(t,e){return Pt(t.getHours()%12||12,e,2)}function jH(t,e){return Pt(1+Cc.count(va(t),t),e,3)}function gC(t,e){return Pt(t.getMilliseconds(),e,3)}function WH(t,e){return gC(t,e)+"000"}function XH(t,e){return Pt(t.getMonth()+1,e,2)}function qH(t,e){return Pt(t.getMinutes(),e,2)}function YH(t,e){return Pt(t.getSeconds(),e,2)}function KH(t){var e=t.getDay();return e===0?7:e}function $H(t,e){return Pt(Dh.count(va(t)-1,t),e,2)}function yC(t){var e=t.getDay();return e>=4||e===0?Dl(t):Dl.ceil(t)}function ZH(t,e){return t=yC(t),Pt(Dl.count(va(t),t)+(va(t).getDay()===4),e,2)}function QH(t){return t.getDay()}function JH(t,e){return Pt(nh.count(va(t)-1,t),e,2)}function eG(t,e){return Pt(t.getFullYear()%100,e,2)}function tG(t,e){return t=yC(t),Pt(t.getFullYear()%100,e,2)}function nG(t,e){return Pt(t.getFullYear()%1e4,e,4)}function iG(t,e){var n=t.getDay();return t=n>=4||n===0?Dl(t):Dl.ceil(t),Pt(t.getFullYear()%1e4,e,4)}function rG(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pt(e/60|0,"0",2)+Pt(e%60,"0",2)}function J1(t,e){return Pt(t.getUTCDate(),e,2)}function aG(t,e){return Pt(t.getUTCHours(),e,2)}function oG(t,e){return Pt(t.getUTCHours()%12||12,e,2)}function sG(t,e){return Pt(1+Rh.count(ga(t),t),e,3)}function _C(t,e){return Pt(t.getUTCMilliseconds(),e,3)}function lG(t,e){return _C(t,e)+"000"}function uG(t,e){return Pt(t.getUTCMonth()+1,e,2)}function cG(t,e){return Pt(t.getUTCMinutes(),e,2)}function fG(t,e){return Pt(t.getUTCSeconds(),e,2)}function dG(t){var e=t.getUTCDay();return e===0?7:e}function hG(t,e){return Pt(Oh.count(ga(t)-1,t),e,2)}function xC(t){var e=t.getUTCDay();return e>=4||e===0?Ol(t):Ol.ceil(t)}function pG(t,e){return t=xC(t),Pt(Ol.count(ga(t),t)+(ga(t).getUTCDay()===4),e,2)}function mG(t){return t.getUTCDay()}function vG(t,e){return Pt(ih.count(ga(t)-1,t),e,2)}function gG(t,e){return Pt(t.getUTCFullYear()%100,e,2)}function yG(t,e){return t=xC(t),Pt(t.getUTCFullYear()%100,e,2)}function _G(t,e){return Pt(t.getUTCFullYear()%1e4,e,4)}function xG(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ol(t):Ol.ceil(t),Pt(t.getUTCFullYear()%1e4,e,4)}function SG(){return"+0000"}function eT(){return"%"}function tT(t){return+t}function nT(t){return Math.floor(+t/1e3)}var fl,SC,bC;bG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bG(t){return fl=bH(t),SC=fl.format,fl.parse,bC=fl.utcFormat,fl.utcParse,fl}function MG(t){return new Date(t)}function EG(t){return t instanceof Date?+t:+new Date(+t)}function Gy(t,e,n,i,o,s,u,c,d,h){var p=Cy(),m=p.invert,g=p.domain,_=h(".%L"),b=h(":%S"),M=h("%I:%M"),S=h("%I %p"),x=h("%a %d"),w=h("%b %d"),E=h("%B"),A=h("%Y");function C(N){return(d(N)<N?_:c(N)<N?b:u(N)<N?M:s(N)<N?S:i(N)<N?o(N)<N?x:w:n(N)<N?E:A)(N)}return p.invert=function(N){return new Date(m(N))},p.domain=function(N){return arguments.length?g(Array.from(N,EG)):g().map(MG)},p.ticks=function(N){var L=g();return t(L[0],L[L.length-1],N??10)},p.tickFormat=function(N,L){return L==null?C:h(L)},p.nice=function(N){var L=g();return(!N||typeof N.range!="function")&&(N=e(L[0],L[L.length-1],N??10)),N?g(lC(L,N)):p},p.copy=function(){return wc(p,Gy(t,e,n,i,o,s,u,c,d,h))},p}function TG(){return rr.apply(Gy(xH,SH,va,ky,Dh,Cc,By,Iy,Zo,SC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AG(){return rr.apply(Gy(yH,_H,ga,Hy,Oh,Rh,Fy,zy,Zo,bC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ph(){var t=0,e=1,n,i,o,s,u=si,c=!1,d;function h(m){return m==null||isNaN(m=+m)?d:u(o===0?.5:(m=(s(m)-n)*o,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),i=s(e=+e),o=n===i?0:1/(i-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var _,b;return arguments.length?([_,b]=g,u=m(_,b),h):[u(0),u(1)]}}return h.range=p(zl),h.rangeRound=p(wy),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return s=m,n=m(t),i=m(e),o=n===i?0:1/(i-n),h}}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function MC(){var t=co(Ph()(si));return t.copy=function(){return fo(t,MC())},Sa.apply(t,arguments)}function EC(){var t=Oy(Ph()).domain([1,10]);return t.copy=function(){return fo(t,EC()).base(t.base())},Sa.apply(t,arguments)}function TC(){var t=Py(Ph());return t.copy=function(){return fo(t,TC()).constant(t.constant())},Sa.apply(t,arguments)}function Vy(){var t=Ny(Ph());return t.copy=function(){return fo(t,Vy()).exponent(t.exponent())},Sa.apply(t,arguments)}function wG(){return Vy.apply(null,arguments).exponent(.5)}function AC(){var t=[],e=si;function n(i){if(i!=null&&!isNaN(i=+i))return e((Tc(t,i,1)-1)/(t.length-1))}return n.domain=function(i){if(!arguments.length)return t.slice();t=[];for(let o of i)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(ao),n},n.interpolator=function(i){return arguments.length?(e=i,n):e},n.range=function(){return t.map((i,o)=>e(o/(t.length-1)))},n.quantiles=function(i){return Array.from({length:i+1},(o,s)=>dk(t,s/i))},n.copy=function(){return AC(e).domain(t)},Sa.apply(n,arguments)}function Nh(){var t=0,e=.5,n=1,i=1,o,s,u,c,d,h=si,p,m=!1,g;function _(M){return isNaN(M=+M)?g:(M=.5+((M=+p(M))-s)*(i*M<i*s?c:d),h(m?Math.max(0,Math.min(1,M)):M))}_.domain=function(M){return arguments.length?([t,e,n]=M,o=p(t=+t),s=p(e=+e),u=p(n=+n),c=o===s?0:.5/(s-o),d=s===u?0:.5/(u-s),i=s<o?-1:1,_):[t,e,n]},_.clamp=function(M){return arguments.length?(m=!!M,_):m},_.interpolator=function(M){return arguments.length?(h=M,_):h};function b(M){return function(S){var x,w,E;return arguments.length?([x,w,E]=S,h=Fk(M,[x,w,E]),_):[h(0),h(.5),h(1)]}}return _.range=b(zl),_.rangeRound=b(wy),_.unknown=function(M){return arguments.length?(g=M,_):g},function(M){return p=M,o=M(t),s=M(e),u=M(n),c=o===s?0:.5/(s-o),d=s===u?0:.5/(u-s),i=s<o?-1:1,_}}function wC(){var t=co(Nh()(si));return t.copy=function(){return fo(t,wC())},Sa.apply(t,arguments)}function CC(){var t=Oy(Nh()).domain([.1,1,10]);return t.copy=function(){return fo(t,CC()).base(t.base())},Sa.apply(t,arguments)}function RC(){var t=Py(Nh());return t.copy=function(){return fo(t,RC()).constant(t.constant())},Sa.apply(t,arguments)}function jy(){var t=Ny(Nh());return t.copy=function(){return fo(t,jy()).exponent(t.exponent())},Sa.apply(t,arguments)}function CG(){return jy.apply(null,arguments).exponent(.5)}const Ju=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ey,scaleDiverging:wC,scaleDivergingLog:CC,scaleDivergingPow:jy,scaleDivergingSqrt:CG,scaleDivergingSymlog:RC,scaleIdentity:sC,scaleImplicit:B0,scaleLinear:oC,scaleLog:uC,scaleOrdinal:My,scalePoint:mk,scalePow:Uy,scaleQuantile:dC,scaleQuantize:hC,scaleRadial:fC,scaleSequential:MC,scaleSequentialLog:EC,scaleSequentialPow:Vy,scaleSequentialQuantile:AC,scaleSequentialSqrt:wG,scaleSequentialSymlog:TC,scaleSqrt:lH,scaleSymlog:cC,scaleThreshold:pC,scaleTime:TG,scaleUtc:AG,tickFormat:aC},Symbol.toStringTag,{value:"Module"}));var ho=t=>t.chartData,RG=pe([ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Wy=(t,e,n,i)=>i?RG(t):ho(t);function Pl(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(_r(e)&&_r(n))return!0}return!1}function iT(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function DG(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,i]=t,o,s;if(_r(n))o=n;else if(typeof n=="function")return;if(_r(i))s=i;else if(typeof i=="function")return;var u=[o,s];if(Pl(u))return u}}function OG(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var i=t(e,n);if(Pl(i))return iT(i,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[o,s]=t,u,c;if(o==="auto")e!=null&&(u=Math.min(...e));else if(ht(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e?.[0]))}catch{}else if(typeof o=="string"&&n1.test(o)){var d=n1.exec(o);if(d==null||e==null)u=void 0;else{var h=+d[1];u=e[0]-h}}else u=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(ht(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&i1.test(s)){var p=i1.exec(s);if(p==null||e==null)c=void 0;else{var m=+p[1];c=e[1]+m}}else c=e?.[1];var g=[u,c];if(Pl(g))return e==null?g:iT(g,e,n)}}}var Bl=1e9,PG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qy,nn=!0,nr="[DecimalError] ",rs=nr+"Invalid argument: ",Xy=nr+"Exponent out of range: ",Fl=Math.floor,jo=Math.pow,NG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li,Bn=1e7,Qt=7,DC=9007199254740991,rh=Fl(DC/Qt),We={};We.absoluteValue=We.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};We.comparedTo=We.cmp=function(t){var e,n,i,o,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(i=s.d.length,o=t.d.length,e=0,n=i<o?i:o;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return i===o?0:i>o^s.s<0?1:-1};We.decimalPlaces=We.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(t){return ca(this,new this.constructor(t))};We.dividedToIntegerBy=We.idiv=function(t){var e=this,n=e.constructor;return Kt(ca(e,new n(t),0,1),n.precision)};We.equals=We.eq=function(t){return!this.cmp(t)};We.exponent=function(){return Sn(this)};We.greaterThan=We.gt=function(t){return this.cmp(t)>0};We.greaterThanOrEqualTo=We.gte=function(t){return this.cmp(t)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(t){return this.cmp(t)<0};We.lessThanOrEqualTo=We.lte=function(t){return this.cmp(t)<1};We.logarithm=We.log=function(t){var e,n=this,i=n.constructor,o=i.precision,s=o+5;if(t===void 0)t=new i(10);else if(t=new i(t),t.s<1||t.eq(Li))throw Error(nr+"NaN");if(n.s<1)throw Error(nr+(n.s?"NaN":"-Infinity"));return n.eq(Li)?new i(0):(nn=!1,e=ca(pc(n,s),pc(t,s),s),nn=!0,Kt(e,o))};We.minus=We.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?NC(e,t):OC(e,(t.s=-t.s,t))};We.modulo=We.mod=function(t){var e,n=this,i=n.constructor,o=i.precision;if(t=new i(t),!t.s)throw Error(nr+"NaN");return n.s?(nn=!1,e=ca(n,t,0,1).times(t),nn=!0,n.minus(e)):Kt(new i(n),o)};We.naturalExponential=We.exp=function(){return PC(this)};We.naturalLogarithm=We.ln=function(){return pc(this)};We.negated=We.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};We.plus=We.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OC(e,t):NC(e,(t.s=-t.s,t))};We.precision=We.sd=function(t){var e,n,i,o=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rs+t);if(e=Sn(o)+1,i=o.d.length-1,n=i*Qt+1,i=o.d[i],i){for(;i%10==0;i/=10)n--;for(i=o.d[0];i>=10;i/=10)n++}return t&&e>n?e:n};We.squareRoot=We.sqrt=function(){var t,e,n,i,o,s,u,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(nr+"NaN")}for(t=Sn(c),nn=!1,o=Math.sqrt(+c),o==0||o==1/0?(e=Pr(c.d),(e.length+t)%2==0&&(e+="0"),o=Math.sqrt(e),t=Fl((t+1)/2)-(t<0||t%2),o==1/0?e="5e"+t:(e=o.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),i=new d(e)):i=new d(o.toString()),n=d.precision,o=u=n+3;;)if(s=i,i=s.plus(ca(c,s,u+2)).times(.5),Pr(s.d).slice(0,u)===(e=Pr(i.d)).slice(0,u)){if(e=e.slice(u-3,u+1),o==u&&e=="4999"){if(Kt(s,n+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;u+=4}return nn=!0,Kt(i,n)};We.times=We.mul=function(t){var e,n,i,o,s,u,c,d,h,p=this,m=p.constructor,g=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,d=g.length,h=_.length,d<h&&(s=g,g=_,_=s,u=d,d=h,h=u),s=[],u=d+h,i=u;i--;)s.push(0);for(i=h;--i>=0;){for(e=0,o=d+i;o>i;)c=s[o]+_[i]*g[o-i-1]+e,s[o--]=c%Bn|0,e=c/Bn|0;s[o]=(s[o]+e)%Bn|0}for(;!s[--u];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,nn?Kt(t,m.precision):t};We.toDecimalPlaces=We.todp=function(t,e){var n=this,i=n.constructor;return n=new i(n),t===void 0?n:(Ur(t,0,Bl),e===void 0?e=i.rounding:Ur(e,0,8),Kt(n,t+Sn(n)+1,e))};We.toExponential=function(t,e){var n,i=this,o=i.constructor;return t===void 0?n=fs(i,!0):(Ur(t,0,Bl),e===void 0?e=o.rounding:Ur(e,0,8),i=Kt(new o(i),t+1,e),n=fs(i,!0,t+1)),n};We.toFixed=function(t,e){var n,i,o=this,s=o.constructor;return t===void 0?fs(o):(Ur(t,0,Bl),e===void 0?e=s.rounding:Ur(e,0,8),i=Kt(new s(o),t+Sn(o)+1,e),n=fs(i.abs(),!1,t+Sn(i)+1),o.isneg()&&!o.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var t=this,e=t.constructor;return Kt(new e(t),Sn(t)+1,e.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(t){var e,n,i,o,s,u,c=this,d=c.constructor,h=12,p=+(t=new d(t));if(!t.s)return new d(Li);if(c=new d(c),!c.s){if(t.s<1)throw Error(nr+"Infinity");return c}if(c.eq(Li))return c;if(i=d.precision,t.eq(Li))return Kt(c,i);if(e=t.e,n=t.d.length-1,u=e>=n,s=c.s,u){if((n=p<0?-p:p)<=DC){for(o=new d(Li),e=Math.ceil(i/Qt+4),nn=!1;n%2&&(o=o.times(c),aT(o.d,e)),n=Fl(n/2),n!==0;)c=c.times(c),aT(c.d,e);return nn=!0,t.s<0?new d(Li).div(o):Kt(o,i)}}else if(s<0)throw Error(nr+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,nn=!1,o=t.times(pc(c,i+h)),nn=!0,o=PC(o),o.s=s,o};We.toPrecision=function(t,e){var n,i,o=this,s=o.constructor;return t===void 0?(n=Sn(o),i=fs(o,n<=s.toExpNeg||n>=s.toExpPos)):(Ur(t,1,Bl),e===void 0?e=s.rounding:Ur(e,0,8),o=Kt(new s(o),t,e),n=Sn(o),i=fs(o,t<=n||n<=s.toExpNeg,t)),i};We.toSignificantDigits=We.tosd=function(t,e){var n=this,i=n.constructor;return t===void 0?(t=i.precision,e=i.rounding):(Ur(t,1,Bl),e===void 0?e=i.rounding:Ur(e,0,8)),Kt(new i(n),t,e)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return fs(t,e<=n.toExpNeg||e>=n.toExpPos)};function OC(t,e){var n,i,o,s,u,c,d,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),nn?Kt(e,m):e;if(d=t.d,h=e.d,u=t.e,o=e.e,d=d.slice(),s=u-o,s){for(s<0?(i=d,s=-s,c=h.length):(i=h,o=u,c=d.length),u=Math.ceil(m/Qt),c=u>c?u+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=d.length,s=h.length,c-s<0&&(s=c,i=h,h=d,d=i),n=0;s;)n=(d[--s]=d[s]+h[s]+n)/Bn|0,d[s]%=Bn;for(n&&(d.unshift(n),++o),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=o,nn?Kt(e,m):e}function Ur(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rs+t)}function Pr(t){var e,n,i,o=t.length-1,s="",u=t[0];if(o>0){for(s+=u,e=1;e<o;e++)i=t[e]+"",n=Qt-i.length,n&&(s+=eo(n)),s+=i;u=t[e],i=u+"",n=Qt-i.length,n&&(s+=eo(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return s+u}var ca=(function(){function t(i,o){var s,u=0,c=i.length;for(i=i.slice();c--;)s=i[c]*o+u,i[c]=s%Bn|0,u=s/Bn|0;return u&&i.unshift(u),i}function e(i,o,s,u){var c,d;if(s!=u)d=s>u?1:-1;else for(c=d=0;c<s;c++)if(i[c]!=o[c]){d=i[c]>o[c]?1:-1;break}return d}function n(i,o,s){for(var u=0;s--;)i[s]-=u,u=i[s]<o[s]?1:0,i[s]=u*Bn+i[s]-o[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,o,s,u){var c,d,h,p,m,g,_,b,M,S,x,w,E,A,C,N,L,H,P=i.constructor,U=i.s==o.s?1:-1,I=i.d,Y=o.d;if(!i.s)return new P(i);if(!o.s)throw Error(nr+"Division by zero");for(d=i.e-o.e,L=Y.length,C=I.length,_=new P(U),b=_.d=[],h=0;Y[h]==(I[h]||0);)++h;if(Y[h]>(I[h]||0)&&--d,s==null?w=s=P.precision:u?w=s+(Sn(i)-Sn(o))+1:w=s,w<0)return new P(0);if(w=w/Qt+2|0,h=0,L==1)for(p=0,Y=Y[0],w++;(h<C||p)&&w--;h++)E=p*Bn+(I[h]||0),b[h]=E/Y|0,p=E%Y|0;else{for(p=Bn/(Y[0]+1)|0,p>1&&(Y=t(Y,p),I=t(I,p),L=Y.length,C=I.length),A=L,M=I.slice(0,L),S=M.length;S<L;)M[S++]=0;H=Y.slice(),H.unshift(0),N=Y[0],Y[1]>=Bn/2&&++N;do p=0,c=e(Y,M,L,S),c<0?(x=M[0],L!=S&&(x=x*Bn+(M[1]||0)),p=x/N|0,p>1?(p>=Bn&&(p=Bn-1),m=t(Y,p),g=m.length,S=M.length,c=e(m,M,g,S),c==1&&(p--,n(m,L<g?H:Y,g))):(p==0&&(c=p=1),m=Y.slice()),g=m.length,g<S&&m.unshift(0),n(M,m,S),c==-1&&(S=M.length,c=e(Y,M,L,S),c<1&&(p++,n(M,L<S?H:Y,S))),S=M.length):c===0&&(p++,M=[0]),b[h++]=p,c&&M[0]?M[S++]=I[A]||0:(M=[I[A]],S=1);while((A++<C||M[0]!==void 0)&&w--)}return b[0]||b.shift(),_.e=d,Kt(_,u?s+Sn(_)+1:s)}})();function PC(t,e){var n,i,o,s,u,c,d=0,h=0,p=t.constructor,m=p.precision;if(Sn(t)>16)throw Error(Xy+Sn(t));if(!t.s)return new p(Li);for(nn=!1,c=m,u=new p(.03125);t.abs().gte(.1);)t=t.times(u),h+=5;for(i=Math.log(jo(2,h))/Math.LN10*2+5|0,c+=i,n=o=s=new p(Li),p.precision=c;;){if(o=Kt(o.times(t),c),n=n.times(++d),u=s.plus(ca(o,n,c)),Pr(u.d).slice(0,c)===Pr(s.d).slice(0,c)){for(;h--;)s=Kt(s.times(s),c);return p.precision=m,e==null?(nn=!0,Kt(s,m)):s}s=u}}function Sn(t){for(var e=t.e*Qt,n=t.d[0];n>=10;n/=10)e++;return e}function mg(t,e,n){if(e>t.LN10.sd())throw nn=!0,n&&(t.precision=n),Error(nr+"LN10 precision limit exceeded");return Kt(new t(t.LN10),e)}function eo(t){for(var e="";t--;)e+="0";return e}function pc(t,e){var n,i,o,s,u,c,d,h,p,m=1,g=10,_=t,b=_.d,M=_.constructor,S=M.precision;if(_.s<1)throw Error(nr+(_.s?"NaN":"-Infinity"));if(_.eq(Li))return new M(0);if(e==null?(nn=!1,h=S):h=e,_.eq(10))return e==null&&(nn=!0),mg(M,h);if(h+=g,M.precision=h,n=Pr(b),i=n.charAt(0),s=Sn(_),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&n.charAt(1)>3;)_=_.times(t),n=Pr(_.d),i=n.charAt(0),m++;s=Sn(_),i>1?(_=new M("0."+n),s++):_=new M(i+"."+n.slice(1))}else return d=mg(M,h+2,S).times(s+""),_=pc(new M(i+"."+n.slice(1)),h-g).plus(d),M.precision=S,e==null?(nn=!0,Kt(_,S)):_;for(c=u=_=ca(_.minus(Li),_.plus(Li),h),p=Kt(_.times(_),h),o=3;;){if(u=Kt(u.times(p),h),d=c.plus(ca(u,new M(o),h)),Pr(d.d).slice(0,h)===Pr(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(mg(M,h+2,S).times(s+""))),c=ca(c,new M(m),h),M.precision=S,e==null?(nn=!0,Kt(c,S)):c;c=d,o+=2}}function rT(t,e){var n,i,o;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charCodeAt(i)===48;)++i;for(o=e.length;e.charCodeAt(o-1)===48;)--o;if(e=e.slice(i,o),e){if(o-=i,n=n-i-1,t.e=Fl(n/Qt),t.d=[],i=(n+1)%Qt,n<0&&(i+=Qt),i<o){for(i&&t.d.push(+e.slice(0,i)),o-=Qt;i<o;)t.d.push(+e.slice(i,i+=Qt));e=e.slice(i),i=Qt-e.length}else i-=o;for(;i--;)e+="0";if(t.d.push(+e),nn&&(t.e>rh||t.e<-rh))throw Error(Xy+n)}else t.s=0,t.e=0,t.d=[0];return t}function Kt(t,e,n){var i,o,s,u,c,d,h,p,m=t.d;for(u=1,s=m[0];s>=10;s/=10)u++;if(i=e-u,i<0)i+=Qt,o=e,h=m[p=0];else{if(p=Math.ceil((i+1)/Qt),s=m.length,p>=s)return t;for(h=s=m[p],u=1;s>=10;s/=10)u++;i%=Qt,o=i-Qt+u}if(n!==void 0&&(s=jo(10,u-o-1),c=h/s%10|0,d=e<0||m[p+1]!==void 0||h%s,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(i>0?o>0?h/jo(10,u-o):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return d?(s=Sn(t),m.length=1,e=e-s-1,m[0]=jo(10,(Qt-e%Qt)%Qt),t.e=Fl(-e/Qt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(i==0?(m.length=p,s=1,p--):(m.length=p+1,s=jo(10,Qt-i),m[p]=o>0?(h/jo(10,u-o)%jo(10,o)|0)*s:0),d)for(;;)if(p==0){(m[0]+=s)==Bn&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=Bn)break;m[p--]=0,s=1}for(i=m.length;m[--i]===0;)m.pop();if(nn&&(t.e>rh||t.e<-rh))throw Error(Xy+Sn(t));return t}function NC(t,e){var n,i,o,s,u,c,d,h,p,m,g=t.constructor,_=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),nn?Kt(e,_):e;if(d=t.d,m=e.d,i=e.e,h=t.e,d=d.slice(),u=h-i,u){for(p=u<0,p?(n=d,u=-u,c=m.length):(n=m,i=h,c=d.length),o=Math.max(Math.ceil(_/Qt),c)+2,u>o&&(u=o,n.length=1),n.reverse(),o=u;o--;)n.push(0);n.reverse()}else{for(o=d.length,c=m.length,p=o<c,p&&(c=o),o=0;o<c;o++)if(d[o]!=m[o]){p=d[o]<m[o];break}u=0}for(p&&(n=d,d=m,m=n,e.s=-e.s),c=d.length,o=m.length-c;o>0;--o)d[c++]=0;for(o=m.length;o>u;){if(d[--o]<m[o]){for(s=o;s&&d[--s]===0;)d[s]=Bn-1;--d[s],d[o]+=Bn}d[o]-=m[o]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--i;return d[0]?(e.d=d,e.e=i,nn?Kt(e,_):e):new g(0)}function fs(t,e,n){var i,o=Sn(t),s=Pr(t.d),u=s.length;return e?(n&&(i=n-u)>0?s=s.charAt(0)+"."+s.slice(1)+eo(i):u>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(o<0?"e":"e+")+o):o<0?(s="0."+eo(-o-1)+s,n&&(i=n-u)>0&&(s+=eo(i))):o>=u?(s+=eo(o+1-u),n&&(i=n-o-1)>0&&(s=s+"."+eo(i))):((i=o+1)<u&&(s=s.slice(0,i)+"."+s.slice(i)),n&&(i=n-u)>0&&(o+1===u&&(s+="."),s+=eo(i))),t.s<0?"-"+s:s}function aT(t,e){if(t.length>e)return t.length=e,!0}function UC(t){var e,n,i;function o(s){var u=this;if(!(u instanceof o))return new o(s);if(u.constructor=o,s instanceof o){u.s=s.s,u.e=s.e,u.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(rs+s);if(s>0)u.s=1;else if(s<0)s=-s,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(s===~~s&&s<1e7){u.e=0,u.d=[s];return}return rT(u,s.toString())}else if(typeof s!="string")throw Error(rs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),u.s=-1):u.s=1,NG.test(s))rT(u,s);else throw Error(rs+s)}if(o.prototype=We,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=UC,o.config=o.set=UG,t===void 0&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)t.hasOwnProperty(n=i[e++])||(t[n]=this[n]);return o.config(t),o}function UG(t){if(!t||typeof t!="object")throw Error(nr+"Object expected");var e,n,i,o=["precision",1,Bl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<o.length;e+=3)if((i=t[n=o[e]])!==void 0)if(Fl(i)===i&&i>=o[e+1]&&i<=o[e+2])this[n]=i;else throw Error(rs+n+": "+i);if((i=t[n="LN10"])!==void 0)if(i==Math.LN10)this[n]=new this(i);else throw Error(rs+n+": "+i);return this}var qy=UC(PG);Li=new qy(1);const Ft=qy;var LG=t=>t,LC={},IC=t=>t===LC,oT=t=>function e(){return arguments.length===0||arguments.length===1&&IC(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},zC=(t,e)=>t===1?e:oT(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(u=>u!==LC).length;return s>=t?e(...i):zC(t-s,oT(function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];var h=i.map(p=>IC(p)?c.shift():p);return e(...h,...c)}))}),Uh=t=>zC(t.length,t),G0=(t,e)=>{for(var n=[],i=t;i<e;++i)n[i-t]=i;return n},IG=Uh((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),zG=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if(!n.length)return LG;var o=n.reverse(),s=o[0],u=o.slice(1);return function(){return u.reduce((c,d)=>d(c),s(...arguments))}},V0=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),BC=t=>{var e=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e&&o.every((u,c)=>{var d;return u===((d=e)===null||d===void 0?void 0:d[c])})||(e=o,n=t(...o)),n}};function FC(t){var e;return t===0?e=1:e=Math.floor(new Ft(t).abs().log(10).toNumber())+1,e}function kC(t,e,n){for(var i=new Ft(t),o=0,s=[];i.lt(e)&&o<1e5;)s.push(i.toNumber()),i=i.add(n),o++;return s}Uh((t,e,n)=>{var i=+t,o=+e;return i+n*(o-i)});Uh((t,e,n)=>{var i=e-+t;return i=i||1/0,(n-t)/i});Uh((t,e,n)=>{var i=e-+t;return i=i||1/0,Math.max(0,Math.min(1,(n-t)/i))});var HC=t=>{var[e,n]=t,[i,o]=[e,n];return e>n&&([i,o]=[n,e]),[i,o]},GC=(t,e,n)=>{if(t.lte(0))return new Ft(0);var i=FC(t.toNumber()),o=new Ft(10).pow(i),s=t.div(o),u=i!==1?.05:.1,c=new Ft(Math.ceil(s.div(u).toNumber())).add(n).mul(u),d=c.mul(o);return e?new Ft(d.toNumber()):new Ft(Math.ceil(d.toNumber()))},BG=(t,e,n)=>{var i=new Ft(1),o=new Ft(t);if(!o.isint()&&n){var s=Math.abs(t);s<1?(i=new Ft(10).pow(FC(t)-1),o=new Ft(Math.floor(o.div(i).toNumber())).mul(i)):s>1&&(o=new Ft(Math.floor(t)))}else t===0?o=new Ft(Math.floor((e-1)/2)):n||(o=new Ft(Math.floor(t)));var u=Math.floor((e-1)/2),c=zG(IG(d=>o.add(new Ft(d-u).mul(i)).toNumber()),G0);return c(0,e)},VC=function(e,n,i,o){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(i-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var u=GC(new Ft(n).sub(e).div(i-1),o,s),c;e<=0&&n>=0?c=new Ft(0):(c=new Ft(e).add(n).div(2),c=c.sub(new Ft(c).mod(u)));var d=Math.ceil(c.sub(e).div(u).toNumber()),h=Math.ceil(new Ft(n).sub(c).div(u).toNumber()),p=d+h+1;return p>i?VC(e,n,i,o,s+1):(p<i&&(h=n>0?h+(i-p):h,d=n>0?d:d+(i-p)),{step:u,tickMin:c.sub(new Ft(d).mul(u)),tickMax:c.add(new Ft(h).mul(u))})};function FG(t){var[e,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=HC([e,n]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...G0(0,i-1).map(()=>1/0)]:[...G0(0,i-1).map(()=>-1/0),c];return e>n?V0(d):d}if(u===c)return BG(u,i,o);var{step:h,tickMin:p,tickMax:m}=VC(u,c,s,o,0),g=kC(p,m.add(new Ft(.1).mul(h)),h);return e>n?V0(g):g}function kG(t,e){var[n,i]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=HC([n,i]);if(s===-1/0||u===1/0)return[n,i];if(s===u)return[s];var c=Math.max(e,2),d=GC(new Ft(u).sub(s).div(c-1),o,0),h=[...kC(new Ft(s),new Ft(u),d),u];return o===!1&&(h=h.map(p=>Math.round(p))),n>i?V0(h):h}var HG=BC(FG),GG=BC(kG),VG=t=>t.rootProps.barCategoryGap,Lh=t=>t.rootProps.stackOffset,jC=t=>t.options.chartName,WC=t=>t.rootProps.syncId,jG=t=>t.rootProps.syncMethod,XC=t=>t.options.eventEmitter,na={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ni={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ih=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},WG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:na.type,unit:void 0},XG={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:Ni.type,unit:void 0},qG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YG={allowDataOverflow:Ni.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:Ni.tickCount,ticks:void 0,type:"category",unit:void 0},Yy=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?qG:WG,Ky=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?YG:XG,zh=t=>t.polarOptions,$y=pe([_a,xa,Yn],zF),qC=pe([zh,$y],(t,e)=>{if(t!=null)return ls(t.innerRadius,e,0)}),YC=pe([zh,$y],(t,e)=>{if(t!=null)return ls(t.outerRadius,e,e*.8)}),KG=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},KC=pe([zh],KG);pe([Yy,KC],Ih);var $C=pe([$y,qC,YC],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});pe([Ky,$C],Ih);var ZC=pe([Jt,zh,qC,YC,_a,xa],(t,e,n,i,o,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||i==null)){var{cx:u,cy:c,startAngle:d,endAngle:h}=e;return{cx:ls(u,o,o/2),cy:ls(c,s,s/2),innerRadius:n,outerRadius:i,startAngle:d,endAngle:h,clockWise:!1}}}),bn=(t,e)=>e,Bh=(t,e,n)=>n;function QC(t){return t?.id}var Pn=t=>{var e=Jt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},kl=t=>t.tooltip.settings.axisId,Hn=t=>{var e=Pn(t),n=kl(t);return Rc(t,e,n)};function JC(t,e,n){var{chartData:i=[]}=e,o=n?.dataKey,s=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:i;if(!(d==null||d.length===0)){var h=QC(u);d.forEach((p,m)=>{var g=o==null?m:String(li(p,o,null)),_=li(p,u.dataKey,0),b;s.has(g)?b=s.get(g):b={},Object.assign(b,{[h]:_}),s.set(g,b)})}}),Array.from(s.values())}function Zy(t){return t.stackId!=null&&t.dataKey!=null}function sT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ah(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sT(Object(n),!0).forEach(function(i){$G(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function $G(t,e,n){return(e=ZG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZG(t){var e=QG(t,"string");return typeof e=="symbol"?e:e+""}function QG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j0=[0,"auto"],Oi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ba=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??Oi},Pi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:j0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eh},po=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??Pi},JG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Qy=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??JG},Si=(t,e,n)=>{switch(e){case"xAxis":return ba(t,n);case"yAxis":return po(t,n);case"zAxis":return Qy(t,n);case"angleAxis":return Yy(t,n);case"radiusAxis":return Ky(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},e5=(t,e,n)=>{switch(e){case"xAxis":return ba(t,n);case"yAxis":return po(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Rc=(t,e,n)=>{switch(e){case"xAxis":return ba(t,n);case"yAxis":return po(t,n);case"angleAxis":return Yy(t,n);case"radiusAxis":return Ky(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},eR=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function tR(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var nR=t=>t.graphicalItems.cartesianItems,t5=pe([bn,Bh],tR),iR=(t,e,n)=>t.filter(n).filter(i=>e?.includeHidden===!0?!0:!i.hide),Dc=pe([nR,Si,t5],iR),rR=pe([Dc],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(Zy)),aR=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),oR=pe([Dc],aR),sR=t=>t.map(e=>e.data).filter(Boolean).flat(1),n5=pe([Dc],sR),lR=(t,e)=>{var{chartData:n=[],dataStartIndex:i,dataEndIndex:o}=e;return t.length>0?t:n.slice(i,o+1)},Jy=pe([n5,Wy],lR),uR=(t,e,n)=>e?.dataKey!=null?t.map(i=>({value:li(i,e.dataKey)})):n.length>0?n.map(i=>i.dataKey).flatMap(i=>t.map(o=>({value:li(o,i)}))):t.map(i=>({value:i})),Fh=pe([Jy,Si,Dc],uR);function cR(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ms(t){return t.filter(e=>El(e)||e instanceof Date).map(Number).filter(e=>er(e)===!1)}function i5(t,e,n){return!n||typeof e!="number"||er(e)?[]:n.length?ms(n.flatMap(i=>{var o=li(t,i.dataKey),s,u;if(Array.isArray(o)?[s,u]=o:s=u=o,!(!_r(s)||!_r(u)))return[e-s,e+u]})):[]}var r5=pe([rR,Wy,Hn],JC),fR=(t,e,n)=>{var i={},o=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,c]=s,d=c.map(QC);return[u,{stackedData:QF(t,d,n),graphicalItems:c}]}))},a5=pe([r5,rR,Lh],fR),dR=(t,e,n)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(n!=="zAxis"){var s=t4(t,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},o5=pe([a5,ho,bn],dR),hR=(t,e,n,i,o)=>n.length>0?t.flatMap(s=>n.flatMap(u=>{var c,d,h=(c=i[u.id])===null||c===void 0?void 0:c.filter(m=>cR(o,m)),p=li(s,(d=e.dataKey)!==null&&d!==void 0?d:u.dataKey);return{value:p,errorDomain:i5(s,p,h)}})).filter(Boolean):e?.dataKey!=null?t.map(s=>({value:li(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),kh=t=>t.errorBars,pR=(t,e,n)=>t.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>cR(n,i));pe([oR,kh,bn],pR);var s5=pe([Jy,Si,oR,kh,bn],hR);function l5(t){var{value:e}=t;if(El(e)||e instanceof Date)return e}var lT=t=>{var e=t.flatMap(i=>[i.value,i.errorDomain]).flat(1),n=ms(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},u5=(t,e,n)=>{var i=t.map(l5).filter(o=>o!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&FA(i))?Kw(0,t.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},e_=t=>{var e;if(t==null||!("domain"in t))return j0;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ms(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:j0},oh=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=n.filter(Boolean);if(o.length!==0){var s=o.flat(),u=Math.min(...s),c=Math.max(...s);return[u,c]}},mR=t=>t.referenceElements.dots,Hl=(t,e,n)=>t.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===n:i.yAxisId===n),c5=pe([mR,bn,Bh],Hl),vR=t=>t.referenceElements.areas,f5=pe([vR,bn,Bh],Hl),gR=t=>t.referenceElements.lines,d5=pe([gR,bn,Bh],Hl),yR=(t,e)=>{var n=ms(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},h5=pe(c5,bn,yR),_R=(t,e)=>{var n=ms(t.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},p5=pe([f5,bn],_R),xR=(t,e)=>{var n=ms(t.map(i=>e==="xAxis"?i.x:i.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},m5=pe(d5,bn,xR),v5=pe(h5,m5,p5,(t,e,n)=>oh(t,n,e)),g5=pe([Si],e_),SR=(t,e,n,i,o,s,u)=>{var c=DG(e,t.allowDataOverflow);if(c!=null)return c;var d=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",h=d?oh(n,o,lT(i)):oh(o,lT(i));return OG(e,h,t.allowDataOverflow)},y5=pe([Si,g5,o5,s5,v5,Jt,bn],SR),_5=[0,1],bR=(t,e,n,i,o,s,u)=>{if(!((t==null||n==null||n.length===0)&&u===void 0)){var{dataKey:c,type:d}=t,h=uo(e,s);return h&&c==null?Kw(0,n.length):d==="category"?u5(i,t,h):o==="expand"?_5:u}},t_=pe([Si,Jt,Jy,Fh,Lh,bn,y5],bR),MR=(t,e,n,i,o)=>{if(t!=null){var{scale:s,type:u}=t;if(s==="auto")return e==="radial"&&o==="radiusAxis"?"band":e==="radial"&&o==="angleAxis"?"linear":u==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!n)?"point":u==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(uy(s));return c in Ju?c:"point"}}},Oc=pe([Si,Jt,eR,jC,bn],MR);function x5(t){if(t!=null){if(t in Ju)return Ju[t]();var e="scale".concat(uy(t));if(e in Ju)return Ju[e]()}}function n_(t,e,n,i){if(!(n==null||i==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(i);var o=x5(e);if(o!=null){var s=o.domain(n).range(i);return YF(s),s}}}var ER=(t,e,n)=>{var i=e_(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&Pl(t))return HG(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Pl(t))return GG(t,e.tickCount,e.allowDecimals)}},i_=pe([t_,Rc,Oc],ER),TR=(t,e,n,i)=>{if(i!=="angleAxis"&&t?.type==="number"&&Pl(e)&&Array.isArray(n)&&n.length>0){var o=e[0],s=n[0],u=e[1],c=n[n.length-1];return[Math.min(o,s),Math.max(u,c)]}return e},S5=pe([Si,t_,i_,bn],TR),b5=pe(Fh,Si,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,i=Array.from(ms(t.map(c=>c.value))).sort((c,d)=>c-d);if(i.length<2)return 1/0;var o=i[i.length-1]-i[0];if(o===0)return 1/0;for(var s=0;s<i.length-1;s++){var u=i[s+1]-i[s];n=Math.min(n,u)}return n/o}}),AR=pe(b5,Jt,VG,Yn,(t,e,n,i)=>i,(t,e,n,i,o)=>{if(!_r(t))return 0;var s=e==="vertical"?i.height:i.width;if(o==="gap")return t*s/2;if(o==="no-gap"){var u=ls(n,t*s),c=t*s/2;return c-u-(c-u)/s*u}return 0}),M5=(t,e)=>{var n=ba(t,e);return n==null||typeof n.padding!="string"?0:AR(t,"xAxis",e,n.padding)},E5=(t,e)=>{var n=po(t,e);return n==null||typeof n.padding!="string"?0:AR(t,"yAxis",e,n.padding)},T5=pe(ba,M5,(t,e)=>{var n,i;if(t==null)return{left:0,right:0};var{padding:o}=t;return typeof o=="string"?{left:e,right:e}:{left:((n=o.left)!==null&&n!==void 0?n:0)+e,right:((i=o.right)!==null&&i!==void 0?i:0)+e}}),A5=pe(po,E5,(t,e)=>{var n,i;if(t==null)return{top:0,bottom:0};var{padding:o}=t;return typeof o=="string"?{top:e,bottom:e}:{top:((n=o.top)!==null&&n!==void 0?n:0)+e,bottom:((i=o.bottom)!==null&&i!==void 0?i:0)+e}}),w5=pe([Yn,T5,Ah,Th,(t,e,n)=>n],(t,e,n,i,o)=>{var{padding:s}=i;return o?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),C5=pe([Yn,Jt,A5,Ah,Th,(t,e,n)=>n],(t,e,n,i,o,s)=>{var{padding:u}=o;return s?[i.height-u.bottom,u.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Pc=(t,e,n,i)=>{var o;switch(e){case"xAxis":return w5(t,n,i);case"yAxis":return C5(t,n,i);case"zAxis":return(o=Qy(t,n))===null||o===void 0?void 0:o.range;case"angleAxis":return KC(t);case"radiusAxis":return $C(t,n);default:return}},wR=pe([Si,Pc],Ih),Gl=pe([Si,Oc,S5,wR],n_);pe([Dc,kh,bn],pR);function CR(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Hh=(t,e)=>e,Gh=(t,e,n)=>n,R5=pe(xy,Hh,Gh,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(CR)),D5=pe(Sy,Hh,Gh,(t,e,n)=>t.filter(i=>i.orientation===e).filter(i=>i.mirror===n).sort(CR)),RR=(t,e)=>({width:t.width,height:e.height}),O5=(t,e)=>{var n=typeof e.width=="number"?e.width:Eh;return{width:n,height:t.height}},P5=pe(Yn,ba,RR),N5=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},U5=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},L5=pe(xa,Yn,R5,Hh,Gh,(t,e,n,i,o)=>{var s={},u;return n.forEach(c=>{var d=RR(e,c);u==null&&(u=N5(e,i,t));var h=i==="top"&&!o||i==="bottom"&&o;s[c.id]=u-Number(h)*d.height,u+=(h?-1:1)*d.height}),s}),I5=pe(_a,Yn,D5,Hh,Gh,(t,e,n,i,o)=>{var s={},u;return n.forEach(c=>{var d=O5(e,c);u==null&&(u=U5(e,i,t));var h=i==="left"&&!o||i==="right"&&o;s[c.id]=u-Number(h)*d.width,u+=(h?-1:1)*d.width}),s}),z5=(t,e)=>{var n=Yn(t),i=ba(t,e);if(i!=null){var o=L5(t,i.orientation,i.mirror),s=o[e];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},B5=(t,e)=>{var n=Yn(t),i=po(t,e);if(i!=null){var o=I5(t,i.orientation,i.mirror),s=o[e];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},F5=pe(Yn,po,(t,e)=>{var n=typeof e.width=="number"?e.width:Eh;return{width:n,height:t.height}}),DR=(t,e,n,i)=>{if(n!=null){var{allowDuplicatedCategory:o,type:s,dataKey:u}=n,c=uo(t,i),d=e.map(h=>h.value);if(u&&c&&s==="category"&&o&&FA(d))return d}},r_=pe([Jt,Fh,Si,bn],DR),OR=(t,e,n,i)=>{if(!(n==null||n.dataKey==null)){var{type:o,scale:s}=n,u=uo(t,i);if(u&&(o==="number"||s!=="auto"))return e.map(c=>c.value)}},a_=pe([Jt,Fh,Rc,bn],OR),uT=pe([Jt,e5,Oc,Gl,r_,a_,Pc,i_,bn],(t,e,n,i,o,s,u,c,d)=>{if(e==null)return null;var h=uo(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:s,duplicateDomain:o,isCategorical:h,niceTicks:c,range:u,realScaleType:n,scale:i}}),k5=(t,e,n,i,o,s,u,c,d)=>{if(!(e==null||i==null)){var h=uo(t,d),{type:p,ticks:m,tickCount:g}=e,_=n==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,b=p==="category"&&i.bandwidth?i.bandwidth()/_:0;b=d==="angleAxis"&&s!=null&&s.length>=2?Or(s[0]-s[1])*2*b:b;var M=m||o;if(M){var S=M.map((x,w)=>{var E=u?u.indexOf(x):x;return{index:w,coordinate:i(E)+b,value:x,offset:b}});return S.filter(x=>!er(x.coordinate))}return h&&c?c.map((x,w)=>({coordinate:i(x)+b,value:x,index:w,offset:b})):i.ticks?i.ticks(g).map(x=>({coordinate:i(x)+b,value:x,offset:b})):i.domain().map((x,w)=>({coordinate:i(x)+b,value:u?u[x]:x,index:w,offset:b}))}},PR=pe([Jt,Rc,Oc,Gl,i_,Pc,r_,a_,bn],k5),H5=(t,e,n,i,o,s,u)=>{if(!(e==null||n==null||i==null||i[0]===i[1])){var c=uo(t,u),{tickCount:d}=e,h=0;return h=u==="angleAxis"&&i?.length>=2?Or(i[0]-i[1])*2*h:h,c&&s?s.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.ticks?n.ticks(d).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:o?o[p]:p,index:m,offset:h}))}},NR=pe([Jt,Rc,Gl,Pc,r_,a_,bn],H5),UR=pe(Si,Gl,(t,e)=>{if(!(t==null||e==null))return ah(ah({},t),{},{scale:e})}),G5=pe([Si,Oc,t_,wR],n_);pe((t,e,n)=>Qy(t,n),G5,(t,e)=>{if(!(t==null||e==null))return ah(ah({},t),{},{scale:e})});var V5=pe([Jt,xy,Sy],(t,e,n)=>{switch(t){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LR=t=>t.options.defaultTooltipEventType,IR=t=>t.options.validateTooltipEventTypes;function zR(t,e,n){if(t==null)return e;var i=t?"axis":"item";return n==null?e:n.includes(i)?i:e}function BR(t,e){var n=LR(t),i=IR(t);return zR(e,n,i)}var FR=(t,e)=>{var n,i=Number(e);if(!(er(i)||e==null))return i>=0?t==null||(n=t[i])===null||n===void 0?void 0:n.value:void 0},j5=t=>t.tooltip.settings,no={active:!1,index:null,dataKey:void 0,coordinate:void 0},W5={itemInteraction:{click:no,hover:no},axisInteraction:{click:no,hover:no},keyboardInteraction:no,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kR=ki({name:"tooltip",initialState:W5,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=ua(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:X5,removeTooltipEntrySettings:q5,setTooltipSettingsState:Ij,setActiveMouseOverItemIndex:Y5,mouseLeaveItem:zj,mouseLeaveChart:HR,setActiveClickItemIndex:Bj,setMouseOverAxisIndex:GR,setMouseClickAxisIndex:K5,setSyncInteraction:cT,setKeyboardInteraction:W0}=kR.actions,$5=kR.reducer;function fT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Td(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fT(Object(n),!0).forEach(function(i){Z5(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Z5(t,e,n){return(e=Q5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q5(t){var e=J5(t,"string");return typeof e=="symbol"?e:e+""}function J5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eV(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function tV(t){return t.index!=null}var VR=(t,e,n,i)=>{if(e==null)return no;var o=eV(t,e,n);if(o==null)return no;if(o.active)return o;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(tV(o)){if(s)return Td(Td({},o),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i};return Td(Td({},no),{},{coordinate:o.coordinate})},o_=(t,e)=>{var n=t?.index;if(n==null)return null;var i=Number(n);if(!_r(i))return n;var o=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(o,Math.min(i,s)))},jR=(t,e,n,i,o,s,u,c)=>{if(!(s==null||c==null)){var d=u[0],h=d==null?void 0:c(d.positions,s);if(h!=null)return h;var p=o?.[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(i.top+e)/2};default:return{x:(i.left+t)/2,y:p.coordinate}}}},WR=(t,e,n,i)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var o;return n==="hover"?o=t.itemInteraction.hover.dataKey:o=t.itemInteraction.click.dataKey,o==null&&i!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var u;return((u=s.settings)===null||u===void 0?void 0:u.dataKey)===o})},Nc=t=>t.options.tooltipPayloadSearcher,Uc=t=>t.tooltip;function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function hT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(i){nV(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function nV(t,e,n){return(e=iV(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iV(t){var e=rV(t,"string");return typeof e=="symbol"?e:e+""}function rV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aV(t,e){return t??e}var XR=(t,e,n,i,o,s,u)=>{if(!(e==null||s==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:p}=n,m=[];return t.reduce((g,_)=>{var b,{dataDefinedOnItem:M,settings:S}=_,x=aV(M,c),w=Array.isArray(x)?Lw(x,h,p):x,E=(b=S?.dataKey)!==null&&b!==void 0?b:i?.dataKey,A=S?.nameKey,C;if(i!=null&&i.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&u==="axis"?C=kA(w,i.dataKey,o):C=s(w,e,d,A),Array.isArray(C))C.forEach(L=>{var H=hT(hT({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});g.push(a1({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:li(L.payload,L.dataKey),name:L.name}))});else{var N;g.push(a1({tooltipEntrySettings:S,dataKey:E,payload:C,value:li(C,E),name:(N=li(C,A))!==null&&N!==void 0?N:S?.name}))}return g},m)}},s_=pe([Hn,Jt,eR,jC,Pn],MR),oV=pe([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),sV=pe([Pn,kl],tR),Lc=pe([oV,Hn,sV],iR),lV=pe([Lc],t=>t.filter(Zy)),uV=pe([Lc],sR),Vl=pe([uV,ho],lR),cV=pe([lV,ho,Hn],JC),l_=pe([Vl,Hn,Lc],uR),fV=pe([Hn],e_),dV=pe([Lc],t=>t.filter(Zy)),hV=pe([cV,dV,Lh],fR),pV=pe([hV,ho,Pn],dR),mV=pe([Lc],aR),vV=pe([Vl,Hn,mV,kh,Pn],hR),gV=pe([mR,Pn,kl],Hl),yV=pe([gV,Pn],yR),_V=pe([vR,Pn,kl],Hl),xV=pe([_V,Pn],_R),SV=pe([gR,Pn,kl],Hl),bV=pe([SV,Pn],xR),MV=pe([yV,bV,xV],oh),EV=pe([Hn,fV,pV,vV,MV,Jt,Pn],SR),qR=pe([Hn,Jt,Vl,l_,Lh,Pn,EV],bR),TV=pe([qR,Hn,s_],ER),AV=pe([Hn,qR,TV,Pn],TR),YR=t=>{var e=Pn(t),n=kl(t),i=!1;return Pc(t,e,n,i)},KR=pe([Hn,YR],Ih),wV=pe([Hn,s_,AV,KR],n_),CV=pe([Jt,l_,Hn,Pn],DR),RV=pe([Jt,l_,Hn,Pn],OR),DV=(t,e,n,i,o,s,u,c)=>{if(e){var{type:d}=e,h=uo(t,c);if(i){var p=n==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,m=d==="category"&&i.bandwidth?i.bandwidth()/p:0;return m=c==="angleAxis"&&o!=null&&o?.length>=2?Or(o[0]-o[1])*2*m:m,h&&u?u.map((g,_)=>({coordinate:i(g)+m,value:g,index:_,offset:m})):i.domain().map((g,_)=>({coordinate:i(g)+m,value:s?s[g]:g,index:_,offset:m}))}}},mo=pe([Jt,Hn,s_,wV,YR,CV,RV,Pn],DV),u_=pe([LR,IR,j5],(t,e,n)=>zR(n.shared,t,e)),$R=t=>t.tooltip.settings.trigger,c_=t=>t.tooltip.settings.defaultIndex,Vh=pe([Uc,u_,$R,c_],VR),mc=pe([Vh,Vl],o_),ZR=pe([mo,mc],FR),OV=pe([Vh],t=>{if(t)return t.dataKey}),QR=pe([Uc,u_,$R,c_],WR),PV=pe([_a,xa,Jt,Yn,mo,c_,QR,Nc],jR),NV=pe([Vh,PV],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),UV=pe([Vh],t=>t.active),LV=pe([QR,mc,ho,Hn,ZR,Nc,u_],XR),IV=pe([LV],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}}),f_=(t,e)=>e,JR=(t,e,n)=>n,d_=(t,e,n,i)=>i,zV=pe(mo,t=>py(t,e=>e.coordinate)),h_=pe([Uc,f_,JR,d_],VR),e2=pe([h_,Vl],o_),t2=pe([Uc,f_,JR,d_],WR),sh=pe([_a,xa,Jt,Yn,mo,d_,t2,Nc],jR);pe([h_,sh],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e});var BV=pe(mo,e2,FR);pe([t2,e2,ho,Hn,BV,Nc,f_],XR);pe([h_],t=>({isActive:t.active,activeIndex:t.index}));var FV=(t,e,n,i,o,s,u,c)=>{if(!(!t||!e||!i||!o||!s)){var d=n4(t.chartX,t.chartY,e,n,c);if(d){var h=r4(d,e),p=XF(h,u,s,i,o),m=i4(e,s,p,d);return{activeIndex:String(p),activeCoordinate:m}}}},kV=F.createContext(null),vg={exports:{}},pT;function HV(){return pT||(pT=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(d,h,p){this.fn=d,this.context=h,this.once=p||!1}function s(d,h,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new o(p,m||d,g),b=n?n+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],_]:d._events[b].push(_):(d._events[b]=_,d._eventsCount++),d}function u(d,h){--d._eventsCount===0?d._events=new i:delete d._events[h]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,_=m.length,b=new Array(_);g<_;g++)b[g]=m[g].fn;return b},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,g,_,b){var M=n?n+h:h;if(!this._events[M])return!1;var S=this._events[M],x=arguments.length,w,E;if(S.fn){switch(S.once&&this.removeListener(h,S.fn,void 0,!0),x){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,m),!0;case 4:return S.fn.call(S.context,p,m,g),!0;case 5:return S.fn.call(S.context,p,m,g,_),!0;case 6:return S.fn.call(S.context,p,m,g,_,b),!0}for(E=1,w=new Array(x-1);E<x;E++)w[E-1]=arguments[E];S.fn.apply(S.context,w)}else{var A=S.length,C;for(E=0;E<A;E++)switch(S[E].once&&this.removeListener(h,S[E].fn,void 0,!0),x){case 1:S[E].fn.call(S[E].context);break;case 2:S[E].fn.call(S[E].context,p);break;case 3:S[E].fn.call(S[E].context,p,m);break;case 4:S[E].fn.call(S[E].context,p,m,g);break;default:if(!w)for(C=1,w=new Array(x-1);C<x;C++)w[C-1]=arguments[C];S[E].fn.apply(S[E].context,w)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,g){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return u(this,_),this;var b=this._events[_];if(b.fn)b.fn===p&&(!g||b.once)&&(!m||b.context===m)&&u(this,_);else{for(var M=0,S=[],x=b.length;M<x;M++)(b[M].fn!==p||g&&!b[M].once||m&&b[M].context!==m)&&S.push(b[M]);S.length?this._events[_]=S.length===1?S[0]:S:u(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&u(this,p)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(vg)),vg.exports}var GV=HV();const VV=lo(GV);var lh=new VV,mT="recharts.syncEvent.tooltip",vT="recharts.syncEvent.brush";function jV(t,e){if(e){var n=Number.parseInt(e,10);if(!er(n))return t?.[n]}}var WV={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},n2=ki({name:"options",initialState:WV,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),XV=n2.reducer,{createEventEmitter:qV}=n2.actions,YV={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},i2=ki({name:"chartData",initialState:YV,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:i}=e.payload;n!=null&&(t.dataStartIndex=n),i!=null&&(t.dataEndIndex=i)}}}),{setChartData:gT,setDataStartEndIndexes:KV,setComputedData:Fj}=i2.actions,$V=i2.reducer,r2=()=>{};function ZV(){var t=Et(WC),e=Et(XC),n=xi(),i=Et(jG),o=Et(mo),s=jw(),u=Hw(),c=Et(d=>d.rootProps.className);F.useEffect(()=>{if(t==null)return r2;var d=(h,p,m)=>{if(e!==m&&t===h){if(i==="index"){n(p);return}if(o!=null){var g;if(typeof i=="function"){var _={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},b=i(o,_);g=o[b]}else i==="value"&&(g=o.find(N=>String(N.value)===p.payload.label));var{coordinate:M}=p.payload;if(g==null||p.payload.active===!1||M==null||u==null){n(cT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:x}=M,w=Math.min(S,u.x+u.width),E=Math.min(x,u.y+u.height),A={x:s==="horizontal"?g.coordinate:w,y:s==="horizontal"?E:g.coordinate},C=cT({active:p.payload.active,coordinate:A,dataKey:p.payload.dataKey,index:String(g.index),label:p.payload.label});n(C)}}};return lh.on(mT,d),()=>{lh.off(mT,d)}},[c,n,e,t,i,o,s,u])}function QV(){var t=Et(WC),e=Et(XC),n=xi();F.useEffect(()=>{if(t==null)return r2;var i=(o,s,u)=>{e!==u&&t===o&&n(KV(s))};return lh.on(vT,i),()=>{lh.off(vT,i)}},[n,e,t])}function JV(){var t=xi();F.useEffect(()=>{t(qV())},[t]),ZV(),QV()}var gg={},yg={},_g={},yT;function e6(){return yT||(yT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,i,{signal:o,edges:s}={}){let u,c=null;const d=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(u,c),u=void 0,c=null)},m=()=>{h&&p(),M()};let g=null;const _=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},i)},b=()=>{g!==null&&(clearTimeout(g),g=null)},M=()=>{b(),u=void 0,c=null},S=()=>{p()},x=function(...w){if(o?.aborted)return;u=this,c=w;const E=g==null;_(),d&&E&&p()};return x.schedule=_,x.cancel=M,x.flush=S,o?.addEventListener("abort",M,{once:!0}),x}t.debounce=e})(_g)),_g}var _T;function t6(){return _T||(_T=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e6();function n(i,o=0,s={}){typeof s!="object"&&(s={});const{leading:u=!1,trailing:c=!0,maxWait:d}=s,h=Array(2);u&&(h[0]="leading"),c&&(h[1]="trailing");let p,m=null;const g=e.debounce(function(...M){p=i.apply(this,M),m=null},o,{edges:h}),_=function(...M){return d!=null&&(m===null&&(m=Date.now()),Date.now()-m>=d)?(p=i.apply(this,M),m=Date.now(),g.cancel(),g.schedule(),p):(g.apply(this,M),p)},b=()=>(g.flush(),p);return _.cancel=g.cancel,_.flush=b,_}t.debounce=n})(yg)),yg}var xT;function n6(){return xT||(xT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t6();function n(i,o=0,s={}){const{leading:u=!0,trailing:c=!0}=s;return e.debounce(i,o,{leading:u,maxWait:o,trailing:c})}t.throttle=n})(gg)),gg}var xg,ST;function i6(){return ST||(ST=1,xg=n6().throttle),xg}var r6=i6();const a6=lo(r6);var ec=function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s]};function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(i){o6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function o6(t,e,n){return(e=s6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s6(t){var e=l6(t,"string");return typeof e=="symbol"?e:e+""}function l6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u6=F.forwardRef((t,e)=>{var{aspect:n,initialDimension:i={width:-1,height:-1},width:o="100%",height:s="100%",minWidth:u=0,minHeight:c,maxHeight:d,children:h,debounce:p=0,id:m,className:g,onResize:_,style:b={}}=t,M=F.useRef(null),S=F.useRef();S.current=_,F.useImperativeHandle(e,()=>M.current);var[x,w]=F.useState({containerWidth:i.width,containerHeight:i.height}),E=F.useCallback((C,N)=>{w(L=>{var H=Math.round(C),P=Math.round(N);return L.containerWidth===H&&L.containerHeight===P?L:{containerWidth:H,containerHeight:P}})},[]);F.useEffect(()=>{var C=P=>{var U,{width:I,height:Y}=P[0].contentRect;E(I,Y),(U=S.current)===null||U===void 0||U.call(S,I,Y)};p>0&&(C=a6(C,p,{trailing:!0,leading:!1}));var N=new ResizeObserver(C),{width:L,height:H}=M.current.getBoundingClientRect();return E(L,H),N.observe(M.current),()=>{N.disconnect()}},[E,p]);var A=F.useMemo(()=>{var{containerWidth:C,containerHeight:N}=x;if(C<0||N<0)return null;ec(Ko(o)||Ko(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,s),ec(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Ko(o)?C:o,H=Ko(s)?N:s;return n&&n>0&&(L?H=L/n:H&&(L=H*n),d&&H>d&&(H=d)),ec(L>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,H,o,s,u,c,n),F.Children.map(h,P=>F.cloneElement(P,{width:L,height:H,style:Sg({width:L,height:H},P.props.style)}))},[n,h,s,d,c,u,x,o]);return F.createElement("div",{id:m?"".concat(m):void 0,className:Fn("recharts-responsive-container",g),style:Sg(Sg({},b),{},{width:o,height:s,minWidth:u,minHeight:c,maxHeight:d}),ref:M},F.createElement("div",{style:{width:0,height:0,overflow:"visible"}},A))});function c6(t,e,n){return(e=f6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f6(t){var e=d6(t,"string");return typeof e=="symbol"?e:e+""}function d6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class h6{constructor(e){c6(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;this.cache.delete(i)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function p6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(i){m6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function m6(t,e,n){return(e=v6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=g6(t,"string");return typeof e=="symbol"?e:e+""}function g6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y6={cacheSize:2e3,enableCache:!0},a2=p6({},y6),ET=new h6(a2.cacheSize),_6={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},TT="recharts_measurement_span";function x6(t,e){var n=e.fontSize||"",i=e.fontFamily||"",o=e.fontWeight||"",s=e.fontStyle||"",u=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u,"|").concat(c)}var AT=(t,e)=>{try{var n=document.getElementById(TT);n||(n=document.createElement("span"),n.setAttribute("id",TT),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,_6,e),n.textContent="".concat(t);var i=n.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},tc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wh.isSsr)return{width:0,height:0};if(!a2.enableCache)return AT(e,n);var i=x6(e,n),o=ET.get(i);if(o)return o;var s=AT(e,n);return ET.set(i,s),s},wT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S6=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,b6=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,o2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},M6=Object.keys(o2),hl="NaN";function E6(t,e){return t*o2[e]}class mi{static parse(e){var n,[,i,o]=(n=b6.exec(e))!==null&&n!==void 0?n:[];return new mi(parseFloat(i),o??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,er(e)&&(this.unit=""),n!==""&&!S6.test(n)&&(this.num=NaN,this.unit=""),M6.includes(n)&&(this.num=E6(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new mi(NaN,""):new mi(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new mi(NaN,""):new mi(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return er(this.num)}}function s2(t){if(t.includes(hl))return hl;for(var e=t;e.includes("*")||e.includes("/");){var n,[,i,o,s]=(n=wT.exec(e))!==null&&n!==void 0?n:[],u=mi.parse(i??""),c=mi.parse(s??""),d=o==="*"?u.multiply(c):u.divide(c);if(d.isNaN())return hl;e=e.replace(wT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,p,m,g]=(h=CT.exec(e))!==null&&h!==void 0?h:[],_=mi.parse(p??""),b=mi.parse(g??""),M=m==="+"?_.add(b):_.subtract(b);if(M.isNaN())return hl;e=e.replace(CT,M.toString())}return e}var RT=/\(([^()]*)\)/;function T6(t){for(var e=t,n;(n=RT.exec(e))!=null;){var[,i]=n;e=e.replace(RT,s2(i))}return e}function A6(t){var e=t.replace(/\s+/g,"");return e=T6(e),e=s2(e),e}function w6(t){try{return A6(t)}catch{return hl}}function bg(t){var e=w6(t.slice(5,-1));return e===hl?"":e}var C6=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],R6=["dx","dy","angle","className","breakAll"];function X0(){return X0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},X0.apply(null,arguments)}function DT(t,e){if(t==null)return{};var n,i,o=D6(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function D6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var l2=/[ \f\n\r\t\v\u2028\u2029]+/,u2=t=>{var{children:e,breakAll:n,style:i}=t;try{var o=[];Cn(e)||(n?o=e.toString().split(""):o=e.toString().split(l2));var s=o.map(c=>({word:c,width:tc(c,i).width})),u=n?0:tc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:u}}catch{return null}},O6=(t,e,n,i,o)=>{var{maxLines:s,children:u,style:c,breakAll:d}=t,h=ht(s),p=u,m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return I.reduce((Y,te)=>{var{word:ce,width:oe}=te,B=Y[Y.length-1];if(B&&(i==null||o||B.width+oe+n<Number(i)))B.words.push(ce),B.width+=oe+n;else{var q={words:[ce],width:oe};Y.push(q)}return Y},[])},g=m(e),_=U=>U.reduce((I,Y)=>I.width>Y.width?I:Y);if(!h||o)return g;var b=g.length>s||_(g).width>Number(i);if(!b)return g;for(var M="",S=U=>{var I=p.slice(0,U),Y=u2({breakAll:d,style:c,children:I+M}).wordsWithComputedWidth,te=m(Y),ce=te.length>s||_(te).width>Number(i);return[ce,te]},x=0,w=p.length-1,E=0,A;x<=w&&E<=p.length-1;){var C=Math.floor((x+w)/2),N=C-1,[L,H]=S(N),[P]=S(C);if(!L&&!P&&(x=C+1),L&&P&&(w=C-1),!L&&P){A=H;break}E++}return A||g},OT=t=>{var e=Cn(t)?[]:t.toString().split(l2);return[{words:e}]},P6=t=>{var{width:e,scaleToFit:n,children:i,style:o,breakAll:s,maxLines:u}=t;if((e||n)&&!wh.isSsr){var c,d,h=u2({breakAll:s,children:i,style:o});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;c=p,d=m}else return OT(i);return O6({breakAll:s,children:i,maxLines:u,style:o},c,d,e,n)}return OT(i)},PT="#808080",p_=F.forwardRef((t,e)=>{var{x:n=0,y:i=0,lineHeight:o="1em",capHeight:s="0.71em",scaleToFit:u=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=PT}=t,p=DT(t,C6),m=F.useMemo(()=>P6({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:g,dy:_,angle:b,className:M,breakAll:S}=p,x=DT(p,R6);if(!El(n)||!El(i))return null;var w=n+(ht(g)?g:0),E=i+(ht(_)?_:0),A;switch(d){case"start":A=bg("calc(".concat(s,")"));break;case"middle":A=bg("calc(".concat((m.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:A=bg("calc(".concat(m.length-1," * -").concat(o,")"));break}var C=[];if(u){var N=m[0].width,{width:L}=p;C.push("scale(".concat(ht(L)?L/N:1,")"))}return b&&C.push("rotate(".concat(b,", ").concat(w,", ").concat(E,")")),C.length&&(x.transform=C.join(" ")),F.createElement("text",X0({},Ii(x,!0),{ref:e,x:w,y:E,className:Fn("recharts-text",M),textAnchor:c,fill:h.includes("url")?PT:h}),m.map((H,P)=>{var U=H.words.join(S?"":" ");return F.createElement("tspan",{x:w,dy:P===0?A:o,key:"".concat(U,"-").concat(P)},U)}))});p_.displayName="Text";var N6=["offset"],U6=["labelRef"];function NT(t,e){if(t==null)return{};var n,i,o=L6(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function L6(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function UT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(n),!0).forEach(function(i){I6(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function I6(t,e,n){return(e=z6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=B6(t,"string");return typeof e=="symbol"?e:e+""}function B6(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ia(){return ia=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ia.apply(null,arguments)}var F6=t=>{var{value:e,formatter:n}=t,i=Cn(t.children)?e:t.children;return typeof n=="function"?n(i):i},m_=t=>t!=null&&typeof t=="function",k6=(t,e)=>{var n=Or(e-t),i=Math.min(Math.abs(e-t),360);return n*i},H6=(t,e,n,i)=>{var{position:o,offset:s,className:u}=t,{cx:c,cy:d,innerRadius:h,outerRadius:p,startAngle:m,endAngle:g,clockWise:_}=i,b=(h+p)/2,M=k6(m,g),S=M>=0?1:-1,x,w;o==="insideStart"?(x=m+S*s,w=_):o==="insideEnd"?(x=g-S*s,w=!_):o==="end"&&(x=g+S*s,w=_),w=M<=0?w:!w;var E=Cl(c,d,b,x),A=Cl(c,d,b,x+(w?1:-1)*359),C="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(w?0:1,`,
    `).concat(A.x,",").concat(A.y),N=Cn(t.id)?oc("recharts-radial-line-"):t.id;return F.createElement("text",ia({},n,{dominantBaseline:"central",className:Fn("recharts-radial-bar-label",u)}),F.createElement("defs",null,F.createElement("path",{id:N,d:C})),F.createElement("textPath",{xlinkHref:"#".concat(N)},e))},G6=(t,e,n)=>{var{cx:i,cy:o,innerRadius:s,outerRadius:u,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:p,y:m}=Cl(i,o,u+e,h);return{x:p,y:m,textAnchor:p>=i?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:i,y:o,textAnchor:"middle",verticalAnchor:"end"};var g=(s+u)/2,{x:_,y:b}=Cl(i,o,g,h);return{x:_,y:b,textAnchor:"middle",verticalAnchor:"middle"}},V6=(t,e)=>{var{parentViewBox:n,offset:i,position:o}=t,{x:s,y:u,width:c,height:d}=e,h=d>=0?1:-1,p=h*i,m=h>0?"end":"start",g=h>0?"start":"end",_=c>=0?1:-1,b=_*i,M=_>0?"end":"start",S=_>0?"start":"end";if(o==="top"){var x={x:s+c/2,y:u-h*i,textAnchor:"middle",verticalAnchor:m};return fn(fn({},x),n?{height:Math.max(u-n.y,0),width:c}:{})}if(o==="bottom"){var w={x:s+c/2,y:u+d+p,textAnchor:"middle",verticalAnchor:g};return fn(fn({},w),n?{height:Math.max(n.y+n.height-(u+d),0),width:c}:{})}if(o==="left"){var E={x:s-b,y:u+d/2,textAnchor:M,verticalAnchor:"middle"};return fn(fn({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(o==="right"){var A={x:s+c+b,y:u+d/2,textAnchor:S,verticalAnchor:"middle"};return fn(fn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:d}:{})}var C=n?{width:c,height:d}:{};return o==="insideLeft"?fn({x:s+b,y:u+d/2,textAnchor:S,verticalAnchor:"middle"},C):o==="insideRight"?fn({x:s+c-b,y:u+d/2,textAnchor:M,verticalAnchor:"middle"},C):o==="insideTop"?fn({x:s+c/2,y:u+p,textAnchor:"middle",verticalAnchor:g},C):o==="insideBottom"?fn({x:s+c/2,y:u+d-p,textAnchor:"middle",verticalAnchor:m},C):o==="insideTopLeft"?fn({x:s+b,y:u+p,textAnchor:S,verticalAnchor:g},C):o==="insideTopRight"?fn({x:s+c-b,y:u+p,textAnchor:M,verticalAnchor:g},C):o==="insideBottomLeft"?fn({x:s+b,y:u+d-p,textAnchor:S,verticalAnchor:m},C):o==="insideBottomRight"?fn({x:s+c-b,y:u+d-p,textAnchor:M,verticalAnchor:m},C):o&&typeof o=="object"&&(ht(o.x)||Ko(o.x))&&(ht(o.y)||Ko(o.y))?fn({x:s+ls(o.x,c),y:u+ls(o.y,d),textAnchor:"end",verticalAnchor:"end"},C):fn({x:s+c/2,y:u+d/2,textAnchor:"middle",verticalAnchor:"middle"},C)},j6=t=>"cx"in t&&ht(t.cx);function Ui(t){var{offset:e=5}=t,n=NT(t,N6),i=fn({offset:e},n),{viewBox:o,position:s,value:u,children:c,content:d,className:h="",textBreakAll:p,labelRef:m}=i,g=Et(ZC),_=Hw(),b=s==="center"?_:g??_,M=o||b;if(!M||Cn(u)&&Cn(c)&&!F.isValidElement(d)&&typeof d!="function")return null;var S=fn(fn({},i),{},{viewBox:M});if(F.isValidElement(d)){var{labelRef:x}=S,w=NT(S,U6);return F.cloneElement(d,w)}var E;if(typeof d=="function"){if(E=F.createElement(d,S),F.isValidElement(E))return E}else E=F6(i);var A=j6(M),C=Ii(i,!0);if(A&&(s==="insideStart"||s==="insideEnd"||s==="end"))return H6(i,E,C,M);var N=A?G6(M,i.offset,i.position):V6(i,M);return F.createElement(p_,ia({ref:m,className:Fn("recharts-label",h)},C,N,{breakAll:p}),E)}Ui.displayName="Label";var c2=t=>{var{cx:e,cy:n,angle:i,startAngle:o,endAngle:s,r:u,radius:c,innerRadius:d,outerRadius:h,x:p,y:m,top:g,left:_,width:b,height:M,clockWise:S,labelViewBox:x}=t;if(x)return x;if(ht(b)&&ht(M)){if(ht(p)&&ht(m))return{x:p,y:m,width:b,height:M};if(ht(g)&&ht(_))return{x:g,y:_,width:b,height:M}}if(ht(p)&&ht(m))return{x:p,y:m,width:0,height:0};if(ht(e)&&ht(n))return{cx:e,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:d||0,outerRadius:h||c||u||0,clockWise:S};if(t.viewBox)return t.viewBox},W6=(t,e,n)=>{if(!t)return null;var i={viewBox:e,labelRef:n};return t===!0?F.createElement(Ui,ia({key:"label-implicit"},i)):El(t)?F.createElement(Ui,ia({key:"label-implicit",value:t},i)):F.isValidElement(t)?t.type===Ui?F.cloneElement(t,fn({key:"label-implicit"},i)):F.createElement(Ui,ia({key:"label-implicit",content:t},i)):m_(t)?F.createElement(Ui,ia({key:"label-implicit",content:t},i)):t&&typeof t=="object"?F.createElement(Ui,ia({},t,{key:"label-implicit"},i)):null},X6=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&i&&!e.label)return null;var{children:o,labelRef:s}=e,u=c2(e),c=VA(o,Ui).map((h,p)=>F.cloneElement(h,{viewBox:n||u,key:"label-".concat(p)}));if(!i)return c;var d=W6(e.label,n||u,s);return[d,...c]};Ui.parseViewBox=c2;Ui.renderCallByParent=X6;var Mg={},Eg={},LT;function q6(){return LT||(LT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Eg)),Eg}var Tg={},IT;function Y6(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Tg)),Tg}var zT;function K6(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=q6(),n=Y6(),i=ow();function o(s){if(i.isArrayLike(s))return e.last(n.toArray(s))}t.last=o})(Mg)),Mg}var Ag,BT;function $6(){return BT||(BT=1,Ag=K6().last),Ag}var Z6=$6();const Q6=lo(Z6);var J6=["valueAccessor"],e8=["data","dataKey","clockWise","id","textBreakAll"];function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uh.apply(null,arguments)}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function kT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(i){t8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function t8(t,e,n){return(e=n8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n8(t){var e=i8(t,"string");return typeof e=="symbol"?e:e+""}function i8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HT(t,e){if(t==null)return{};var n,i,o=r8(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function r8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var a8=t=>Array.isArray(t.value)?Q6(t.value):t.value;function oo(t){var{valueAccessor:e=a8}=t,n=HT(t,J6),{data:i,dataKey:o,clockWise:s,id:u,textBreakAll:c}=n,d=HT(n,e8);return!i||!i.length?null:F.createElement(Tl,{className:"recharts-label-list"},i.map((h,p)=>{var m=Cn(o)?e(h,p):li(h&&h.payload,o),g=Cn(u)?{}:{id:"".concat(u,"-").concat(p)};return F.createElement(Ui,uh({},Ii(h,!0),d,g,{parentViewBox:h.parentViewBox,value:m,textBreakAll:c,viewBox:Ui.parseViewBox(Cn(s)?h:kT(kT({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}oo.displayName="LabelList";function o8(t,e){return t?t===!0?F.createElement(oo,{key:"labelList-implicit",data:e}):F.isValidElement(t)||m_(t)?F.createElement(oo,{key:"labelList-implicit",data:e,content:t}):typeof t=="object"?F.createElement(oo,uh({data:e},t,{key:"labelList-implicit"})):null:null}function s8(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i}=t,o=VA(i,oo).map((u,c)=>F.cloneElement(u,{data:e,key:"labelList-".concat(c)}));if(!n)return o;var s=o8(t.label,e);return[s,...o]}oo.renderCallByParent=s8;function q0(){return q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},q0.apply(null,arguments)}var f2=t=>{var{cx:e,cy:n,r:i,className:o}=t,s=Fn("recharts-dot",o);return e===+e&&n===+n&&i===+i?F.createElement("circle",q0({},Il(t),fy(t),{className:s,cx:e,cy:n,r:i})):null},l8={radiusAxis:{},angleAxis:{}},d2=ki({name:"polarAxis",initialState:l8,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:kj,removeRadiusAxis:Hj,addAngleAxis:Gj,removeAngleAxis:Vj}=d2.actions,u8=d2.reducer;function c8(t){var{fn:e,args:n}=t,i=xi(),o=ir();return F.useEffect(()=>{if(!o){var s=e(n);return i(X5(s)),()=>{i(q5(s))}}},[e,n,i,o]),null}var f8=()=>{};function d8(t){var{legendPayload:e}=t,n=xi(),i=ir();return F.useEffect(()=>i?f8:(n(g4(e)),()=>{n(y4(e))}),[n,i,e]),null}function h8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=F.useRef(oc(e)),i=F.useRef(t);return i.current!==t&&(n.current=oc(e),i.current=t),n.current}var wg,p8=()=>{var[t]=F.useState(()=>oc("uid-"));return t},m8=(wg=YO.useId)!==null&&wg!==void 0?wg:p8;function v8(t,e){var n=m8();return e||(t?"".concat(t,"-").concat(n):n)}var g8=F.createContext(void 0),y8=t=>{var{id:e,type:n,children:i}=t,o=v8("recharts-".concat(n),e);return F.createElement(g8.Provider,{value:o},i(o))},_8={cartesianItems:[],polarItems:[]},h2=ki({name:"graphicalItems",initialState:_8,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:i}=e.payload,o=ua(t).cartesianItems.indexOf(n);o>-1&&(t.cartesianItems[o]=i)},removeCartesianGraphicalItem(t,e){var n=ua(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=ua(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:x8,replaceCartesianGraphicalItem:S8,removeCartesianGraphicalItem:b8,addPolarGraphicalItem:jj,removePolarGraphicalItem:Wj}=h2.actions,M8=h2.reducer;function E8(t){var e=xi(),n=F.useRef(null);return F.useEffect(()=>{n.current===null?e(x8(t)):n.current!==t&&e(S8({prev:n.current,next:t})),n.current=t},[e,t]),F.useEffect(()=>()=>{n.current&&(e(b8(n.current)),n.current=null)},[e]),null}function T8(){}var A8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},GT={t:0},Cg={t:1};function w8(t){var e=Ec(t,A8),{isActive:n,canBegin:i,duration:o,easing:s,begin:u,onAnimationEnd:c,onAnimationStart:d,children:h}=e,p=K4("JavascriptAnimate",e.animationManager),[m,g]=F.useState(n?GT:Cg),_=F.useRef(null);return F.useEffect(()=>{n||g(Cg)},[n]),F.useEffect(()=>{if(!n||!i)return T8;var b=j4(GT,Cg,U4(s),o,g,p.getTimeoutController()),M=()=>{_.current=b()};return p.start([d,u,M,o,c]),()=>{p.stop(),_.current&&_.current(),c()}},[n,i,o,s,u,d,c,p]),h(m.t)}var C8=pe([Yn],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),R8=pe([C8,_a,xa],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),v_=()=>Et(R8),D8=()=>Et(IV);function VT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function jT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(n),!0).forEach(function(i){O8(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function O8(t,e,n){return(e=P8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P8(t){var e=N8(t,"string");return typeof e=="symbol"?e:e+""}function N8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U8=t=>{var{point:e,childIndex:n,mainColor:i,activeDot:o,dataKey:s}=t;if(o===!1||e.x==null||e.y==null)return null;var u=jT(jT({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:i??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Ii(o,!1)),fy(o)),c;return F.isValidElement(o)?c=F.cloneElement(o,u):typeof o=="function"?c=o(u):c=F.createElement(f2,u),F.createElement(Tl,{className:"recharts-active-dot"},c)};function L8(t){var{points:e,mainColor:n,activeDot:i,itemDataKey:o}=t,s=Et(mc),u=D8();if(e==null||u==null)return null;var c=e.find(d=>u.includes(d.payload));return Cn(c)?null:U8({point:c,childIndex:Number(s),mainColor:n,dataKey:o,activeDot:i})}var I8={},p2=ki({name:"errorBars",initialState:I8,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]||(t[n]=[]),t[n].push(i)},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:i}=e.payload;t[n]&&(t[n]=t[n].filter(o=>o.dataKey!==i.dataKey||o.direction!==i.direction))}}}),{addErrorBar:Xj,removeErrorBar:qj}=p2.actions,z8=p2.reducer,B8=["children"];function F8(t,e){if(t==null)return{};var n,i,o=k8(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function k8(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var H8={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},G8=F.createContext(H8);function V8(t){var{children:e}=t,n=F8(t,B8);return F.createElement(G8.Provider,{value:n},e)}function m2(t,e){var n,i,o=Et(h=>ba(h,t)),s=Et(h=>po(h,e)),u=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:Oi.allowDataOverflow,c=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:Pi.allowDataOverflow,d=u||c;return{needClip:d,needClipX:u,needClipY:c}}function j8(t){var{xAxisId:e,yAxisId:n,clipPathId:i}=t,o=v_(),{needClipX:s,needClipY:u,needClip:c}=m2(e,n);if(!c)return null;var{x:d,y:h,width:p,height:m}=o;return F.createElement("clipPath",{id:"clipPath-".concat(i)},F.createElement("rect",{x:s?d:d-p/2,y:u?h:h-m/2,width:s?p:p*2,height:u?m:m*2}))}var W8=t=>{var{chartData:e}=t,n=xi(),i=ir();return F.useEffect(()=>i?()=>{}:(n(gT(e)),()=>{n(gT(void 0))}),[e,n,i]),null},WT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},v2=ki({name:"brush",initialState:WT,reducers:{setBrushSettings(t,e){return e.payload==null?WT:e.payload}}}),{setBrushSettings:Yj}=v2.actions,X8=v2.reducer;function q8(t,e,n){return(e=Y8(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8(t){var e=K8(t,"string");return typeof e=="symbol"?e:e+""}function K8(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class g_{static create(e){return new g_(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+u}return this.scale(e)}}isInRange(e){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?e>=i&&e<=o:e>=o&&e<=i}}q8(g_,"EPS",1e-4);function $8(t){return(t%180+180)%180}var Z8=function(e){var{width:n,height:i}=e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=$8(o),u=s*Math.PI/180,c=Math.atan(i/n),d=u>c&&u<Math.PI-c?i/Math.sin(u):n/Math.cos(u);return Math.abs(d)},Q8={dots:[],areas:[],lines:[]},g2=ki({name:"referenceElements",initialState:Q8,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=ua(t).dots.findIndex(i=>i===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=ua(t).areas.findIndex(i=>i===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=ua(t).lines.findIndex(i=>i===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Kj,removeDot:$j,addArea:Zj,removeArea:Qj,addLine:Jj,removeLine:eW}=g2.actions,J8=g2.reducer,e9=F.createContext(void 0),t9=t=>{var{children:e}=t,[n]=F.useState("".concat(oc("recharts"),"-clip")),i=v_();if(i==null)return null;var{x:o,y:s,width:u,height:c}=i;return F.createElement(e9.Provider,{value:n},F.createElement("defs",null,F.createElement("clipPath",{id:n},F.createElement("rect",{x:o,y:s,height:c,width:u}))),e)};function Rg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var i in e)if({}.hasOwnProperty.call(e,i)&&!{}.hasOwnProperty.call(t,i))return!1;return!0}function y2(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var i=[],o=0;o<t.length;o+=e)i.push(t[o]);return i}function n9(t,e,n){var i={width:t.width+e.width,height:t.height+e.height};return Z8(i,n)}function i9(t,e,n){var i=n==="width",{x:o,y:s,width:u,height:c}=t;return e===1?{start:i?o:s,end:i?o+u:s+c}:{start:i?o+u:s+c,end:i?o:s}}function ch(t,e,n,i,o){if(t*e<t*i||t*e>t*o)return!1;var s=n();return t*(e-t*s/2-i)>=0&&t*(e+t*s/2-o)<=0}function r9(t,e){return y2(t,e+1)}function a9(t,e,n,i,o){for(var s=(i||[]).slice(),{start:u,end:c}=e,d=0,h=1,p=u,m=function(){var b=i?.[d];if(b===void 0)return{v:y2(i,h)};var M=d,S,x=()=>(S===void 0&&(S=n(b,M)),S),w=b.coordinate,E=d===0||ch(t,w,x,p,c);E||(d=0,p=u,h+=1),E&&(p=w+t*(x()/2+o),d+=h)},g;h<=s.length;)if(g=m(),g)return g.v;return[]}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(i){o9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function o9(t,e,n){return(e=s9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s9(t){var e=l9(t,"string");return typeof e=="symbol"?e:e+""}function l9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u9(t,e,n,i,o){for(var s=(i||[]).slice(),u=s.length,{start:c}=e,{end:d}=e,h=function(g){var _=s[g],b,M=()=>(b===void 0&&(b=n(_,g)),b);if(g===u-1){var S=t*(_.coordinate+t*M()/2-d);s[g]=_=ti(ti({},_),{},{tickCoord:S>0?_.coordinate-S*t:_.coordinate})}else s[g]=_=ti(ti({},_),{},{tickCoord:_.coordinate});var x=ch(t,_.tickCoord,M,c,d);x&&(d=_.tickCoord-t*(M()/2+o),s[g]=ti(ti({},_),{},{isShow:!0}))},p=u-1;p>=0;p--)h(p);return s}function c9(t,e,n,i,o,s){var u=(i||[]).slice(),c=u.length,{start:d,end:h}=e;if(s){var p=i[c-1],m=n(p,c-1),g=t*(p.coordinate+t*m/2-h);u[c-1]=p=ti(ti({},p),{},{tickCoord:g>0?p.coordinate-g*t:p.coordinate});var _=ch(t,p.tickCoord,()=>m,d,h);_&&(h=p.tickCoord-t*(m/2+o),u[c-1]=ti(ti({},p),{},{isShow:!0}))}for(var b=s?c-1:c,M=function(w){var E=u[w],A,C=()=>(A===void 0&&(A=n(E,w)),A);if(w===0){var N=t*(E.coordinate-t*C()/2-d);u[w]=E=ti(ti({},E),{},{tickCoord:N<0?E.coordinate-N*t:E.coordinate})}else u[w]=E=ti(ti({},E),{},{tickCoord:E.coordinate});var L=ch(t,E.tickCoord,C,d,h);L&&(d=E.tickCoord+t*(C()/2+o),u[w]=ti(ti({},E),{},{isShow:!0}))},S=0;S<b;S++)M(S);return u}function y_(t,e,n){var{tick:i,ticks:o,viewBox:s,minTickGap:u,orientation:c,interval:d,tickFormatter:h,unit:p,angle:m}=t;if(!o||!o.length||!i)return[];if(ht(d)||wh.isSsr){var g;return(g=r9(o,ht(d)?d:0))!==null&&g!==void 0?g:[]}var _=[],b=c==="top"||c==="bottom"?"width":"height",M=p&&b==="width"?tc(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(E,A)=>{var C=typeof h=="function"?h(E.value,A):E.value;return b==="width"?n9(tc(C,{fontSize:e,letterSpacing:n}),M,m):tc(C,{fontSize:e,letterSpacing:n})[b]},x=o.length>=2?Or(o[1].coordinate-o[0].coordinate):1,w=i9(s,x,b);return d==="equidistantPreserveStart"?a9(x,w,S,o,u):(d==="preserveStart"||d==="preserveStartEnd"?_=c9(x,w,S,o,u,d==="preserveStartEnd"):_=u9(x,w,S,o,u),_.filter(E=>E.isShow))}var f9=["viewBox"],d9=["viewBox"];function pl(){return pl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pl.apply(null,arguments)}function qT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qT(Object(n),!0).forEach(function(i){__(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function YT(t,e){if(t==null)return{};var n,i,o=h9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function h9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function __(t,e,n){return(e=p9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=m9(t,"string");return typeof e=="symbol"?e:e+""}function m9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vo extends F.Component{constructor(e){super(e),this.tickRefs=F.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(e,n){var{viewBox:i}=e,o=YT(e,f9),s=this.props,{viewBox:u}=s,c=YT(s,d9);return!Rg(i,u)||!Rg(o,c)||!Rg(n,this.state)}getTickLineCoord(e){var{x:n,y:i,width:o,height:s,orientation:u,tickSize:c,mirror:d,tickMargin:h}=this.props,p,m,g,_,b,M,S=d?-1:1,x=e.tickSize||c,w=ht(e.tickCoord)?e.tickCoord:e.coordinate;switch(u){case"top":p=m=e.coordinate,_=i+ +!d*s,g=_-S*x,M=g-S*h,b=w;break;case"left":g=_=e.coordinate,m=n+ +!d*o,p=m-S*x,b=p-S*h,M=w;break;case"right":g=_=e.coordinate,m=n+ +d*o,p=m+S*x,b=p+S*h,M=w;break;default:p=m=e.coordinate,_=i+ +d*s,g=_+S*x,M=g+S*h,b=w;break}return{line:{x1:p,y1:g,x2:m,y2:_},tick:{x:b,y:M}}}getTickTextAnchor(){var{orientation:e,mirror:n}=this.props,i;switch(e){case"left":i=n?"start":"end";break;case"right":i=n?"end":"start";break;default:i="middle";break}return i}getTickVerticalAnchor(){var{orientation:e,mirror:n}=this.props;switch(e){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:e,y:n,width:i,height:o,orientation:s,mirror:u,axisLine:c}=this.props,d=wn(wn(wn({},Ii(this.props,!1)),Ii(c,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!u||s==="bottom"&&u);d=wn(wn({},d),{},{x1:e,y1:n+h*o,x2:e+i,y2:n+h*o})}else{var p=+(s==="left"&&!u||s==="right"&&u);d=wn(wn({},d),{},{x1:e+p*i,y1:n,x2:e+p*i,y2:n+o})}return F.createElement("line",pl({},d,{className:Fn("recharts-cartesian-axis-line",ss(c,"className"))}))}static renderTickItem(e,n,i){var o,s=Fn(n.className,"recharts-cartesian-axis-tick-value");if(F.isValidElement(e))o=F.cloneElement(e,wn(wn({},n),{},{className:s}));else if(typeof e=="function")o=e(wn(wn({},n),{},{className:s}));else{var u="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(u=Fn(u,e.className)),o=F.createElement(p_,pl({},n,{className:u}),i)}return o}renderTicks(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:o,stroke:s,tick:u,tickFormatter:c,unit:d,padding:h}=this.props,p=y_(wn(wn({},this.props),{},{ticks:i}),e,n),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),_=Il(this.props),b=Ii(u,!1),M=wn(wn({},_),{},{fill:"none"},Ii(o,!1)),S=p.map((x,w)=>{var{line:E,tick:A}=this.getTickLineCoord(x),C=wn(wn(wn(wn({textAnchor:m,verticalAnchor:g},_),{},{stroke:"none",fill:s},b),A),{},{index:w,payload:x,visibleTicksCount:p.length,tickFormatter:c,padding:h});return F.createElement(Tl,pl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(x.value,"-").concat(x.coordinate,"-").concat(x.tickCoord)},Cz(this.props,x,w)),o&&F.createElement("line",pl({},M,E,{className:Fn("recharts-cartesian-axis-tick-line",ss(o,"className"))})),u&&vo.renderTickItem(u,C,"".concat(typeof c=="function"?c(x.value,w):x.value).concat(d||"")))});return S.length>0?F.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:e,width:n,height:i,className:o,hide:s}=this.props;if(s)return null;var{ticks:u}=this.props;return n!=null&&n<=0||i!=null&&i<=0?null:F.createElement(Tl,{className:Fn("recharts-cartesian-axis",o),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var h=d[0];if(h){var p=window.getComputedStyle(h).fontSize,m=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},e&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),Ui.renderCallByParent(this.props))}}__(vo,"displayName","CartesianAxis");__(vo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var v9=["x1","y1","x2","y2","key"],g9=["offset"],y9=["xAxisId","yAxisId"],_9=["xAxisId","yAxisId"];function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(i){x9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function x9(t,e,n){return(e=S9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S9(t){var e=b9(t,"string");return typeof e=="symbol"?e:e+""}function b9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qo.apply(null,arguments)}function fh(t,e){if(t==null)return{};var n,i,o=M9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function M9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var E9=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:i,y:o,width:s,height:u,ry:c}=t;return F.createElement("rect",{x:i,y:o,ry:c,width:s,height:u,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _2(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:i,y1:o,x2:s,y2:u,key:c}=e,d=fh(e,v9),h=Il(d),{offset:p}=h,m=fh(h,g9);n=F.createElement("line",Qo({},m,{x1:i,y1:o,x2:s,y2:u,fill:"none",key:c}))}return n}function T9(t){var{x:e,width:n,horizontal:i=!0,horizontalPoints:o}=t;if(!i||!o||!o.length)return null;var{xAxisId:s,yAxisId:u}=t,c=fh(t,y9),d=o.map((h,p)=>{var m=ni(ni({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(p),index:p});return _2(i,m)});return F.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function A9(t){var{y:e,height:n,vertical:i=!0,verticalPoints:o}=t;if(!i||!o||!o.length)return null;var{xAxisId:s,yAxisId:u}=t,c=fh(t,_9),d=o.map((h,p)=>{var m=ni(ni({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(p),index:p});return _2(i,m)});return F.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function w9(t){var{horizontalFill:e,fillOpacity:n,x:i,y:o,width:s,height:u,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=c.map(m=>Math.round(m+o-o)).sort((m,g)=>m-g);o!==h[0]&&h.unshift(0);var p=h.map((m,g)=>{var _=!h[g+1],b=_?o+u-m:h[g+1]-m;if(b<=0)return null;var M=g%e.length;return F.createElement("rect",{key:"react-".concat(g),y:m,x:i,height:b,width:s,stroke:"none",fill:e[M],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function C9(t){var{vertical:e=!0,verticalFill:n,fillOpacity:i,x:o,y:s,width:u,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(m=>Math.round(m+o-o)).sort((m,g)=>m-g);o!==h[0]&&h.unshift(0);var p=h.map((m,g)=>{var _=!h[g+1],b=_?o+u-m:h[g+1]-m;if(b<=0)return null;var M=g%n.length;return F.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:b,height:c,stroke:"none",fill:n[M],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return F.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var R9=(t,e)=>{var{xAxis:n,width:i,height:o,offset:s}=t;return Iw(y_(ni(ni(ni({},vo.defaultProps),n),{},{ticks:zw(n),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,e)},D9=(t,e)=>{var{yAxis:n,width:i,height:o,offset:s}=t;return Iw(y_(ni(ni(ni({},vo.defaultProps),n),{},{ticks:zw(n),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,e)},O9={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function x2(t){var e=Gw(),n=Vw(),i=m4(),o=ni(ni({},Ec(t,O9)),{},{x:ht(t.x)?t.x:i.left,y:ht(t.y)?t.y:i.top,width:ht(t.width)?t.width:i.width,height:ht(t.height)?t.height:i.height}),{xAxisId:s,yAxisId:u,x:c,y:d,width:h,height:p,syncWithTicks:m,horizontalValues:g,verticalValues:_}=o,b=ir(),M=Et(P=>uT(P,"xAxis",s,b)),S=Et(P=>uT(P,"yAxis",u,b));if(!ht(h)||h<=0||!ht(p)||p<=0||!ht(c)||c!==+c||!ht(d)||d!==+d)return null;var x=o.verticalCoordinatesGenerator||R9,w=o.horizontalCoordinatesGenerator||D9,{horizontalPoints:E,verticalPoints:A}=o;if((!E||!E.length)&&typeof w=="function"){var C=g&&g.length,N=w({yAxis:S?ni(ni({},S),{},{ticks:C?g:S.ticks}):void 0,width:e,height:n,offset:i},C?!0:m);ec(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(E=N)}if((!A||!A.length)&&typeof x=="function"){var L=_&&_.length,H=x({xAxis:M?ni(ni({},M),{},{ticks:L?_:M.ticks}):void 0,width:e,height:n,offset:i},L?!0:m);ec(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof H,"]")),Array.isArray(H)&&(A=H)}return F.createElement("g",{className:"recharts-cartesian-grid"},F.createElement(E9,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),F.createElement(w9,Qo({},o,{horizontalPoints:E})),F.createElement(C9,Qo({},o,{verticalPoints:A})),F.createElement(T9,Qo({},o,{offset:i,horizontalPoints:E,xAxis:M,yAxis:S})),F.createElement(A9,Qo({},o,{offset:i,verticalPoints:A,xAxis:M,yAxis:S})))}x2.displayName="CartesianGrid";var S2=(t,e,n,i)=>UR(t,"xAxis",e,i),b2=(t,e,n,i)=>NR(t,"xAxis",e,i),M2=(t,e,n,i)=>UR(t,"yAxis",n,i),E2=(t,e,n,i)=>NR(t,"yAxis",n,i),P9=pe([Jt,S2,M2,b2,E2],(t,e,n,i,o)=>uo(t,"xAxis")?r1(e,i,!1):r1(n,o,!1)),N9=(t,e,n,i,o)=>o;function U9(t){return t.type==="line"}var L9=pe([nR,N9],(t,e)=>t.filter(U9).find(n=>n.id===e)),I9=pe([Jt,S2,M2,b2,E2,L9,P9,Wy],(t,e,n,i,o,s,u,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:p}=c;if(!(s==null||e==null||n==null||i==null||o==null||i.length===0||o.length===0||u==null)){var{dataKey:m,data:g}=s,_;if(g!=null&&g.length>0?_=g:_=d?.slice(h,p+1),_!=null)return i7({layout:t,xAxis:e,yAxis:n,xAxisTicks:i,yAxisTicks:o,dataKey:m,bandSize:u,displayedData:_})}}),z9=["id"],B9=["type","layout","connectNulls","needClip"],F9=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(i){k9(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function k9(t,e,n){return(e=H9(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=G9(t,"string");return typeof e=="symbol"?e:e+""}function G9(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x_(t,e){if(t==null)return{};var n,i,o=V9(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function V9(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ds.apply(null,arguments)}var j9=t=>{var{dataKey:e,name:n,stroke:i,legendType:o,hide:s}=t;return[{inactive:s,dataKey:e,type:o,color:i,value:Bw(n,e),payload:t}]};function W9(t){var{dataKey:e,data:n,stroke:i,strokeWidth:o,fill:s,name:u,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:void 0,name:Bw(u,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var T2=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function X9(t,e){for(var n=t.length%2!==0?[...t,0]:t,i=[],o=0;o<e;++o)i=[...i,...n];return i}var q9=(t,e,n)=>{var i=n.reduce((m,g)=>m+g);if(!i)return T2(e,t);for(var o=Math.floor(t/i),s=t%i,u=e-t,c=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>s){c=[...n.slice(0,d),s-h];break}var p=c.length%2===0?[0,u]:[u];return[...X9(n,o),...c,...p].map(m=>"".concat(m,"px")).join(", ")};function Y9(t,e){var n;if(F.isValidElement(t))n=F.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var i=Fn("recharts-line-dot",typeof t!="boolean"?t.className:"");n=F.createElement(f2,ds({},e,{className:i}))}return n}function K9(t,e){return t==null?!1:e?!0:t.length===1}function $9(t){var{clipPathId:e,points:n,props:i}=t,{dot:o,dataKey:s,needClip:u}=i;if(!K9(n,o))return null;var{id:c}=i,d=x_(i,z9),h=jA(o),p=Il(d),m=Ii(o,!0),g=n.map((b,M)=>{var S=hr(hr(hr({key:"dot-".concat(M),r:3},p),m),{},{index:M,cx:b.x,cy:b.y,dataKey:s,value:b.value,payload:b.payload,points:n});return Y9(o,S)}),_={clipPath:u?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return F.createElement(Tl,ds({className:"recharts-line-dots",key:"dots"},_),g)}function Y0(t){var{clipPathId:e,pathRef:n,points:i,strokeDasharray:o,props:s,showLabels:u}=t,{type:c,layout:d,connectNulls:h,needClip:p}=s,m=x_(s,B9),g=hr(hr({},Ii(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(e,")"):void 0,points:i,type:c,layout:d,connectNulls:h,strokeDasharray:o??s.strokeDasharray});return F.createElement(F.Fragment,null,i?.length>1&&F.createElement(w4,ds({},g,{pathRef:n})),F.createElement($9,{points:i,clipPathId:e,props:s}),u&&oo.renderCallByParent(s,i))}function Z9(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Q9(t){var{clipPathId:e,props:n,pathRef:i,previousPointsRef:o,longestAnimatedLengthRef:s}=t,{points:u,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:p,animationEasing:m,animateNewValues:g,width:_,height:b,onAnimationEnd:M,onAnimationStart:S}=n,x=o.current,w=h8(n,"recharts-line-"),[E,A]=F.useState(!1),C=F.useCallback(()=>{typeof M=="function"&&M(),A(!1)},[M]),N=F.useCallback(()=>{typeof S=="function"&&S(),A(!0)},[S]),L=Z9(i.current),H=s.current;return F.createElement(w8,{begin:h,duration:p,isActive:d,easing:m,onAnimationEnd:C,onAnimationStart:N,key:w},P=>{var U=ju(H,L+H,P),I=Math.min(U,L),Y;if(c){var te="".concat(c).split(/[,\s]+/gim).map(B=>parseFloat(B));Y=q9(I,L,te)}else Y=T2(L,I);if(x){var ce=x.length/u.length,oe=P===1?u:u.map((B,q)=>{var X=Math.floor(q*ce);if(x[X]){var ye=x[X];return hr(hr({},B),{},{x:ju(ye.x,B.x,P),y:ju(ye.y,B.y,P)})}return g?hr(hr({},B),{},{x:ju(_*2,B.x,P),y:ju(b/2,B.y,P)}):hr(hr({},B),{},{x:B.x,y:B.y})});return o.current=oe,F.createElement(Y0,{props:n,points:oe,clipPathId:e,pathRef:i,showLabels:!E,strokeDasharray:Y})}return P>0&&L>0&&(o.current=u,s.current=I),F.createElement(Y0,{props:n,points:u,clipPathId:e,pathRef:i,showLabels:!E,strokeDasharray:Y})})}function J9(t){var{clipPathId:e,props:n}=t,{points:i,isAnimationActive:o}=n,s=F.useRef(null),u=F.useRef(0),c=F.useRef(null),d=s.current;return o&&i&&i.length&&d!==i?F.createElement(Q9,{props:n,clipPathId:e,previousPointsRef:s,longestAnimatedLengthRef:u,pathRef:c}):F.createElement(Y0,{props:n,points:i,clipPathId:e,pathRef:c,showLabels:!0})}var e7=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:li(t.payload,e)});class t7 extends F.Component{render(){var e,{hide:n,dot:i,points:o,className:s,xAxisId:u,yAxisId:c,top:d,left:h,width:p,height:m,id:g,needClip:_}=this.props;if(n)return null;var b=Fn("recharts-line",s),M=g,{r:S=3,strokeWidth:x=2}=(e=Ii(i,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},w=jA(i),E=S*2+x;return F.createElement(F.Fragment,null,F.createElement(Tl,{className:b},_&&F.createElement("defs",null,F.createElement(j8,{clipPathId:M,xAxisId:u,yAxisId:c}),!w&&F.createElement("clipPath",{id:"clipPath-dots-".concat(M)},F.createElement("rect",{x:h-E/2,y:d-E/2,width:p+E,height:m+E}))),F.createElement(J9,{props:this.props,clipPathId:M}),F.createElement(V8,{xAxisId:u,yAxisId:c,data:o,dataPointFormatter:e7,errorBarOffset:0},this.props.children)),F.createElement(L8,{activeDot:this.props.activeDot,points:o,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var A2={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!wh.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function n7(t){var e=Ec(t,A2),{activeDot:n,animateNewValues:i,animationBegin:o,animationDuration:s,animationEasing:u,connectNulls:c,dot:d,hide:h,isAnimationActive:p,label:m,legendType:g,xAxisId:_,yAxisId:b,id:M}=e,S=x_(e,F9),{needClip:x}=m2(_,b),w=v_(),E=jw(),A=ir(),C=Et(U=>I9(U,_,b,A,M));if(E!=="horizontal"&&E!=="vertical"||C==null||w==null)return null;var{height:N,width:L,x:H,y:P}=w;return F.createElement(t7,ds({},S,{id:M,connectNulls:c,dot:d,activeDot:n,animateNewValues:i,animationBegin:o,animationDuration:s,animationEasing:u,isAnimationActive:p,hide:h,label:m,legendType:g,xAxisId:_,yAxisId:b,points:C,layout:E,height:N,width:L,left:H,top:P,needClip:x}))}function i7(t){var{layout:e,xAxis:n,yAxis:i,xAxisTicks:o,yAxisTicks:s,dataKey:u,bandSize:c,displayedData:d}=t;return d.map((h,p)=>{var m=li(h,u);if(e==="horizontal"){var g=t1({axis:n,ticks:o,bandSize:c,entry:h,index:p}),_=Cn(m)?null:i.scale(m);return{x:g,y:_,value:m,payload:h}}var b=Cn(m)?null:n.scale(m),M=t1({axis:i,ticks:s,bandSize:c,entry:h,index:p});return b==null||M==null?null:{x:b,y:M,value:m,payload:h}}).filter(Boolean)}function K0(t){var e=Ec(t,A2),n=ir();return F.createElement(y8,{id:e.id,type:"line"},i=>F.createElement(F.Fragment,null,F.createElement(d8,{legendPayload:j9(e)}),F.createElement(c8,{fn:W9,args:e}),F.createElement(E8,{type:"line",id:i,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),F.createElement(n7,ds({},e,{id:i}))))}K0.displayName="Line";function ZT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(n),!0).forEach(function(i){r7(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZT(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function r7(t,e,n){return(e=a7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a7(t){var e=o7(t,"string");return typeof e=="symbol"?e:e+""}function o7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s7={xAxis:{},yAxis:{},zAxis:{}},w2=ki({name:"cartesianAxis",initialState:s7,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:i}=e.payload;t.yAxis[n]&&(t.yAxis[n]=QT(QT({},t.yAxis[n]),{},{width:i}))}}}),{addXAxis:l7,removeXAxis:u7,addYAxis:c7,removeYAxis:f7,addZAxis:tW,removeZAxis:nW,updateYAxisWidth:d7}=w2.actions,h7=w2.reducer,p7=["children"],m7=["dangerouslySetInnerHTML","ticks"];function C2(t,e,n){return(e=v7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v7(t){var e=g7(t,"string");return typeof e=="symbol"?e:e+""}function g7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $0(){return $0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$0.apply(null,arguments)}function R2(t,e){if(t==null)return{};var n,i,o=y7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function y7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function _7(t){var e=xi(),n=F.useMemo(()=>{var{children:s}=t,u=R2(t,p7);return u},[t]),i=Et(s=>ba(s,n.id)),o=n===i;return F.useEffect(()=>(e(l7(n)),()=>{e(u7(n))}),[n,e]),o?t.children:null}var x7=t=>{var{xAxisId:e,className:n}=t,i=Et(kw),o=ir(),s="xAxis",u=Et(_=>Gl(_,s,e,o)),c=Et(_=>PR(_,s,e,o)),d=Et(_=>P5(_,e)),h=Et(_=>z5(_,e));if(d==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:m}=t,g=R2(t,m7);return F.createElement(vo,$0({},g,{scale:u,x:h.x,y:h.y,width:d.width,height:d.height,className:Fn("recharts-".concat(s," ").concat(s),n),viewBox:i,ticks:c}))},S7=t=>{var e,n,i,o,s;return F.createElement(_7,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.xAxisId,scale:t.scale,type:t.type,padding:t.padding,allowDataOverflow:t.allowDataOverflow,domain:t.domain,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,height:t.height,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(i=t.angle)!==null&&i!==void 0?i:0,minTickGap:(o=t.minTickGap)!==null&&o!==void 0?o:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter},F.createElement(x7,t))};class S_ extends F.Component{render(){return F.createElement(S7,this.props)}}C2(S_,"displayName","XAxis");C2(S_,"defaultProps",{allowDataOverflow:Oi.allowDataOverflow,allowDecimals:Oi.allowDecimals,allowDuplicatedCategory:Oi.allowDuplicatedCategory,height:Oi.height,hide:!1,mirror:Oi.mirror,orientation:Oi.orientation,padding:Oi.padding,reversed:Oi.reversed,scale:Oi.scale,tickCount:Oi.tickCount,type:Oi.type,xAxisId:0});var b7=t=>{var{ticks:e,label:n,labelGapWithTick:i=5,tickSize:o=0,tickMargin:s=0}=t,u=0;if(e){e.forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>u&&(u=m.width)}});var c=n?n.getBoundingClientRect().width:0,d=o+s,h=u+d+c+(n?i:0);return Math.round(h)}return 0},M7=["dangerouslySetInnerHTML","ticks"];function D2(t,e,n){return(e=E7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E7(t){var e=T7(t,"string");return typeof e=="symbol"?e:e+""}function T7(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z0(){return Z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z0.apply(null,arguments)}function A7(t,e){if(t==null)return{};var n,i,o=w7(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function w7(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function C7(t){var e=xi();return F.useEffect(()=>(e(c7(t)),()=>{e(f7(t))}),[t,e]),null}var R7=t=>{var e,{yAxisId:n,className:i,width:o,label:s}=t,u=F.useRef(null),c=F.useRef(null),d=Et(kw),h=ir(),p=xi(),m="yAxis",g=Et(E=>Gl(E,m,n,h)),_=Et(E=>F5(E,n)),b=Et(E=>B5(E,n)),M=Et(E=>PR(E,m,n,h));if(F.useLayoutEffect(()=>{var E;if(!(o!=="auto"||!_||m_(s)||F.isValidElement(s))){var A=u.current,C=A==null||(E=A.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:N,tickMargin:L}=A.props,H=b7({ticks:C,label:c.current,labelGapWithTick:5,tickSize:N,tickMargin:L});Math.round(_.width)!==Math.round(H)&&p(d7({id:n,width:H}))}},[u,u==null||(e=u.current)===null||e===void 0||(e=e.tickRefs)===null||e===void 0?void 0:e.current,_?.width,_,p,s,n,o]),_==null||b==null)return null;var{dangerouslySetInnerHTML:S,ticks:x}=t,w=A7(t,M7);return F.createElement(vo,Z0({},w,{ref:u,labelRef:c,scale:g,x:b.x,y:b.y,width:_.width,height:_.height,className:Fn("recharts-".concat(m," ").concat(m),i),viewBox:d,ticks:M}))},D7=t=>{var e,n,i,o,s;return F.createElement(F.Fragment,null,F.createElement(C7,{interval:(e=t.interval)!==null&&e!==void 0?e:"preserveEnd",id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:(n=t.includeHidden)!==null&&n!==void 0?n:!1,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:(i=t.angle)!==null&&i!==void 0?i:0,minTickGap:(o=t.minTickGap)!==null&&o!==void 0?o:5,tick:(s=t.tick)!==null&&s!==void 0?s:!0,tickFormatter:t.tickFormatter}),F.createElement(R7,t))},O7={allowDataOverflow:Pi.allowDataOverflow,allowDecimals:Pi.allowDecimals,allowDuplicatedCategory:Pi.allowDuplicatedCategory,hide:!1,mirror:Pi.mirror,orientation:Pi.orientation,padding:Pi.padding,reversed:Pi.reversed,scale:Pi.scale,tickCount:Pi.tickCount,type:Pi.type,width:Pi.width,yAxisId:0};class b_ extends F.Component{render(){return F.createElement(D7,this.props)}}D2(b_,"displayName","YAxis");D2(b_,"defaultProps",O7);var Dg={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function P7(){if(JT)return Og;JT=1;var t=Nl();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,i=t.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return Og.useSyncExternalStoreWithSelector=function(d,h,p,m,g){var _=o(null);if(_.current===null){var b={hasValue:!1,value:null};_.current=b}else b=_.current;_=u(function(){function S(C){if(!x){if(x=!0,w=C,C=m(C),g!==void 0&&b.hasValue){var N=b.value;if(g(N,C))return E=N}return E=C}if(N=E,n(w,C))return N;var L=m(C);return g!==void 0&&g(N,L)?(w=C,N):(w=C,E=L)}var x=!1,w,E,A=p===void 0?null:p;return[function(){return S(h())},A===null?void 0:function(){return S(A())}]},[h,p,m,g]);var M=i(d,_[0],_[1]);return s(function(){b.hasValue=!0,b.value=M},[M]),c(M),M},Og}var eA;function N7(){return eA||(eA=1,Dg.exports=P7()),Dg.exports}N7();function U7(t){t()}function L7(){let t=null,e=null;return{clear(){t=null,e=null},notify(){U7(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let i=t;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!i||t===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var tA={notify(){},get:()=>[]};function I7(t,e){let n,i=tA,o=0,s=!1;function u(M){p();const S=i.subscribe(M);let x=!1;return()=>{x||(x=!0,S(),m())}}function c(){i.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return s}function p(){o++,n||(n=t.subscribe(d),i=L7())}function m(){o--,n&&o===0&&(n(),n=void 0,i.clear(),i=tA)}function g(){s||(s=!0,p())}function _(){s&&(s=!1,m())}const b={addNestedSub:u,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:g,tryUnsubscribe:_,getListeners:()=>i};return b}var z7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B7=z7(),F7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",k7=F7(),H7=()=>B7||k7?F.useLayoutEffect:F.useEffect,G7=H7(),V7=Symbol.for("react-redux-context"),j7=typeof globalThis<"u"?globalThis:{};function W7(){if(!F.createContext)return{};const t=j7[V7]??=new Map;let e=t.get(F.createContext);return e||(e=F.createContext(null),t.set(F.createContext,e)),e}var X7=W7();function q7(t){const{children:e,context:n,serverState:i,store:o}=t,s=F.useMemo(()=>{const d=I7(o);return{store:o,subscription:d,getServerState:i?()=>i:void 0}},[o,i]),u=F.useMemo(()=>o.getState(),[o]);G7(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),u!==o.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,u]);const c=n||X7;return F.createElement(c.Provider,{value:s},e)}var Y7=q7,K7=(t,e)=>e,M_=pe([K7,Jt,ZC,Pn,KR,mo,zV,Yn],FV),E_=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,i=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/i)}},O2=tr("mouseClick"),P2=Mc();P2.startListening({actionCreator:O2,effect:(t,e)=>{var n=t.payload,i=M_(e.getState(),E_(n));i?.activeIndex!=null&&e.dispatch(K5({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var Q0=tr("mouseMove"),N2=Mc();N2.startListening({actionCreator:Q0,effect:(t,e)=>{var n=t.payload,i=e.getState(),o=BR(i,i.tooltip.settings.shared),s=M_(i,E_(n));o==="axis"&&(s?.activeIndex!=null?e.dispatch(GR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(HR()))}});function $7(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var nA={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},U2=ki({name:"rootProps",initialState:nA,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:nA.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),Z7=U2.reducer,{updateOptions:Q7}=U2.actions,L2=ki({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:iW}=L2.actions,J7=L2.reducer,I2=tr("keyDown"),z2=tr("focus"),T_=Mc();T_.startListening({actionCreator:I2,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var u=Number(o_(o,Vl(n))),c=mo(n);if(s==="Enter"){var d=sh(n,"axis","hover",String(o.index));e.dispatch(W0({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:d}));return}var h=V5(n),p=h==="left-to-right"?1:-1,m=s==="ArrowRight"?1:-1,g=u+m*p;if(!(c==null||g>=c.length||g<0)){var _=sh(n,"axis","hover",String(g));e.dispatch(W0({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});T_.startListening({actionCreator:z2,effect:(t,e)=>{var n=e.getState(),i=n.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:o}=n.tooltip;if(!o.active&&o.index==null){var s="0",u=sh(n,"axis","hover",String(s));e.dispatch(W0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:u}))}}}});var Ki=tr("externalEvent"),B2=Mc();B2.startListening({actionCreator:Ki,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),i={activeCoordinate:NV(n),activeDataKey:OV(n),activeIndex:mc(n),activeLabel:ZR(n),activeTooltipIndex:mc(n),isTooltipActive:UV(n)};t.payload.handler(i,t.payload.reactEvent)}}});var ej=pe([Uc],t=>t.tooltipItemPayloads),tj=pe([ej,Nc,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,i)=>{var o=t.find(c=>c.settings.dataKey===i);if(o!=null){var{positions:s}=o;if(s!=null){var u=e(s,n);return u}}}),F2=tr("touchMove"),k2=Mc();k2.startListening({actionCreator:F2,effect:(t,e)=>{var n=t.payload,i=e.getState(),o=BR(i,i.tooltip.settings.shared);if(o==="axis"){var s=M_(i,E_({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(GR({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(o==="item"){var u,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(o4),p=(u=d.getAttribute(s4))!==null&&u!==void 0?u:void 0,m=tj(e.getState(),h,p);e.dispatch(Y5({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}});var nj=dw({brush:X8,cartesianAxis:h7,chartData:$V,errorBars:z8,graphicalItems:M8,layout:PF,legend:_4,options:XV,polarAxis:u8,polarOptions:J7,referenceElements:J8,rootProps:Z7,tooltip:$5}),ij=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return iF({reducer:nj,preloadedState:e,middleware:i=>i({serializableCheck:!1}).concat([P2.middleware,N2.middleware,T_.middleware,B2.middleware,k2.middleware]),devTools:{serialize:{replacer:$7},name:"recharts-".concat(n)}})};function rj(t){var{preloadedState:e,children:n,reduxStoreName:i}=t,o=ir(),s=F.useRef(null);if(o)return n;s.current==null&&(s.current=ij(e,i));var u=hy;return F.createElement(Y7,{context:u,store:s.current},n)}function aj(t){var{layout:e,width:n,height:i,margin:o}=t,s=xi(),u=ir();return F.useEffect(()=>{u||(s(RF(e)),s(DF({width:n,height:i})),s(CF(o)))},[s,u,e,n,i,o]),null}function oj(t){var e=xi();return F.useEffect(()=>{e(Q7(t))},[e,t]),null}var sj=["children"];function lj(t,e){if(t==null)return{};var n,i,o=uj(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function uj(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dh.apply(null,arguments)}var cj={width:"100%",height:"100%"},fj=F.forwardRef((t,e)=>{var n=Gw(),i=Vw(),o=S4();if(!Xd(n)||!Xd(i))return null;var{children:s,otherAttributes:u,title:c,desc:d}=t,h,p;return typeof u.tabIndex=="number"?h=u.tabIndex:h=o?0:void 0,typeof u.role=="string"?p=u.role:p=o?"application":void 0,F.createElement(WA,dh({},u,{title:c,desc:d,role:p,tabIndex:h,width:n,height:i,style:cj,ref:e}),s)}),dj=t=>{var{children:e}=t,n=Et(Ah);if(!n)return null;var{width:i,height:o,y:s,x:u}=n;return F.createElement(WA,{width:i,height:o,x:u,y:s},e)},iA=F.forwardRef((t,e)=>{var{children:n}=t,i=lj(t,sj),o=ir();return o?F.createElement(dj,null,n):F.createElement(fj,dh({ref:e},i),n)});function hj(){var t=xi(),[e,n]=F.useState(null),i=Et(a4);return F.useEffect(()=>{if(e!=null){var o=e.getBoundingClientRect(),s=o.width/e.offsetWidth;_r(s)&&s!==i&&t(OF(s))}},[e,t,i]),n}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function pj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(i){mj(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function mj(t,e,n){return(e=vj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vj(t){var e=gj(t,"string");return typeof e=="symbol"?e:e+""}function gj(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yj=F.forwardRef((t,e)=>{var{children:n,className:i,height:o,onClick:s,onContextMenu:u,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:g,onTouchEnd:_,onTouchMove:b,onTouchStart:M,style:S,width:x}=t,w=xi(),[E,A]=F.useState(null),[C,N]=F.useState(null);JV();var L=hj(),H=F.useCallback(se=>{L(se),typeof e=="function"&&e(se),A(se),N(se)},[L,e,A,N]),P=F.useCallback(se=>{w(O2(se)),w(Ki({handler:s,reactEvent:se}))},[w,s]),U=F.useCallback(se=>{w(Q0(se)),w(Ki({handler:h,reactEvent:se}))},[w,h]),I=F.useCallback(se=>{w(HR()),w(Ki({handler:p,reactEvent:se}))},[w,p]),Y=F.useCallback(se=>{w(Q0(se)),w(Ki({handler:m,reactEvent:se}))},[w,m]),te=F.useCallback(()=>{w(z2())},[w]),ce=F.useCallback(se=>{w(I2(se.key))},[w]),oe=F.useCallback(se=>{w(Ki({handler:u,reactEvent:se}))},[w,u]),B=F.useCallback(se=>{w(Ki({handler:c,reactEvent:se}))},[w,c]),q=F.useCallback(se=>{w(Ki({handler:d,reactEvent:se}))},[w,d]),X=F.useCallback(se=>{w(Ki({handler:g,reactEvent:se}))},[w,g]),ye=F.useCallback(se=>{w(Ki({handler:M,reactEvent:se}))},[w,M]),z=F.useCallback(se=>{w(F2(se)),w(Ki({handler:b,reactEvent:se}))},[w,b]),J=F.useCallback(se=>{w(Ki({handler:_,reactEvent:se}))},[w,_]);return F.createElement(kV.Provider,{value:E},F.createElement(zz.Provider,{value:C},F.createElement("div",{className:Fn("recharts-wrapper",i),style:pj({position:"relative",cursor:"default",width:x,height:o},S),onClick:P,onContextMenu:oe,onDoubleClick:B,onFocus:te,onKeyDown:ce,onMouseDown:q,onMouseEnter:U,onMouseLeave:I,onMouseMove:Y,onMouseUp:X,onTouchEnd:J,onTouchMove:z,onTouchStart:ye,ref:H},n)))}),_j=["children","className","width","height","style","compact","title","desc"];function xj(t,e){if(t==null)return{};var n,i,o=Sj(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Sj(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var bj=F.forwardRef((t,e)=>{var{children:n,className:i,width:o,height:s,style:u,compact:c,title:d,desc:h}=t,p=xj(t,_j),m=Il(p);return c?F.createElement(iA,{otherAttributes:m,title:d,desc:h},n):F.createElement(yj,{className:i,style:u,width:o,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},F.createElement(iA,{otherAttributes:m,title:d,desc:h,ref:e},F.createElement(t9,null,n)))}),Mj=["width","height"];function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},J0.apply(null,arguments)}function Ej(t,e){if(t==null)return{};var n,i,o=Tj(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function Tj(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}var Aj={top:5,right:5,bottom:5,left:5},wj={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Aj,reverseStackOrder:!1,syncMethod:"index"},Cj=F.forwardRef(function(e,n){var i,o=Ec(e.categoricalChartProps,wj),{width:s,height:u}=o,c=Ej(o,Mj);if(!Xd(s)||!Xd(u))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,categoricalChartProps:g}=e,_={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return F.createElement(rj,{preloadedState:{options:_},reduxStoreName:(i=g.id)!==null&&i!==void 0?i:d},F.createElement(W8,{chartData:g.data}),F.createElement(aj,{width:s,height:u,layout:o.layout,margin:o.margin}),F.createElement(oj,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),F.createElement(bj,J0({},c,{width:s,height:u,ref:n})))}),Rj=["axis"],Dj=F.forwardRef((t,e)=>F.createElement(Cj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rj,tooltipPayloadSearcher:jV,categoricalChartProps:t,ref:e}));function Oj({rawValue:t,filteredValue:e,sampleRateHz:n=100}){const[i,o]=F.useState("filtered"),[s,u]=F.useState(1),[c,d]=F.useState(1),[h,p]=F.useState([]),m=F.useRef(Math.max(10,Math.floor(n*c))),[g,_]=F.useState(0);F.useEffect(()=>{t!=null&&(_(C=>C+1),p(C=>{const N=[...C,{i:g,t:g*(1e3/n),raw:t,filtered:e}];return N.length>m.current&&N.shift(),N}))},[t,e,n]),F.useEffect(()=>{p(C=>C.slice(-Math.max(10,Math.floor(n*c)))),m.current=Math.max(10,Math.floor(n*c))},[c,n]);const b=h.map(C=>({t:C.t,y:(C[i]??0)*s,peak:null,peakLabel:""}));function M(C,N){const L=[],H=C.length;if(H<3)return L;const P=Math.min(...C),U=Math.max(...C),I=Math.max(1e-6,U-P),Y=Math.max(.01,I*.12),te=250;let ce=-1/0;for(let oe=1;oe<H-1;oe++){const B=C[oe];if(!Number.isFinite(B)||B<=C[oe-1]||B<C[oe+1])continue;const q=Math.max(0,oe-6),X=Math.min(H-1,oe+6),ye=Math.min(...C.slice(q,oe+1)),z=Math.min(...C.slice(oe,X+1)),J=B-Math.max(ye,z),se=N[oe]??Date.now();J>=Y&&se-ce>te&&(L.push(oe),ce=se)}return L}if(b.length>2){const C=b.map(H=>-H.y),N=b.map(H=>H.t),L=M(C,N);for(let H=0;H<L.length;H++){const P=L[H];b[P]&&(b[P].peak=b[P].y,b[P].peakLabel=String(H+1))}}const S=F.useRef(null),[x,w]=F.useState({left:0,top:0}),E=F.useRef({active:!1,dx:0,dy:0});F.useLayoutEffect(()=>{const L=Math.max(12,(window.innerWidth-420)/2),H=Math.max(12,window.innerHeight-200-24);w({left:L,top:H})},[]),F.useEffect(()=>{const C=L=>{E.current.active&&w(H=>({left:L.clientX-E.current.dx,top:L.clientY-E.current.dy}))},N=()=>E.current.active=!1;return window.addEventListener("mousemove",C),window.addEventListener("mouseup",N),()=>{window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",N)}},[]);const A=C=>{const N=S.current?.getBoundingClientRect();E.current.dx=C.clientX-(N?.left??0),E.current.dy=C.clientY-(N?.top??0),E.current.active=!0};return Tt.jsxs("div",{ref:S,style:{position:"fixed",left:x.left,top:x.top,width:420,height:200,padding:"8px",borderRadius:12,background:"rgba(240,238,230,0.78)",backdropFilter:"blur(6px)",boxShadow:"0 6px 16px rgba(0,0,0,0.18)",zIndex:20,userSelect:"none"},children:[Tt.jsxs("div",{onMouseDown:A,style:{position:"absolute",right:4,bottom:4,width:16,height:16,background:"#555",borderRadius:3,cursor:"grab"},title:"Drag to move",children:[Tt.jsx("div",{style:{width:10,height:10,borderRadius:3,background:"#222",opacity:.6}}),Tt.jsx("strong",{style:{fontSize:13},children:"Signal"}),Tt.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8,alignItems:"center"},children:[Tt.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[Tt.jsx("span",{style:{fontSize:12},children:"View"}),Tt.jsxs("select",{value:i,onChange:C=>o(C.target.value),style:{fontSize:12,padding:"3px 6px",borderRadius:6},children:[Tt.jsx("option",{value:"filtered",children:"Filtered"}),Tt.jsx("option",{value:"raw",children:"Raw"})]})]}),Tt.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[Tt.jsx("span",{style:{fontSize:12},children:"Gain"}),Tt.jsx("input",{type:"range",min:"0.5",max:"6",step:"0.1",value:s,onChange:C=>u(parseFloat(C.target.value)),style:{width:90}})]}),Tt.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[Tt.jsx("span",{style:{fontSize:12},children:"Window"}),Tt.jsx("input",{type:"range",min:"1",max:"5",step:"0.1",value:c,onChange:C=>d(parseInt(C.target.value,10)),style:{width:90}}),Tt.jsxs("span",{style:{fontSize:12},children:[c,"s"]})]})]})]}),Tt.jsx("div",{style:{width:"100%",height:"calc(100% - 36px)"},children:b.length>1?Tt.jsx(u6,{width:"100%",height:"100%",children:Tt.jsxs(Dj,{data:b,margin:{top:6,right:6,left:0,bottom:6},children:[Tt.jsx(x2,{strokeDasharray:"3 3",stroke:"rgba(0,0,0,0.06)"}),Tt.jsx(S_,{dataKey:"t",tickFormatter:C=>{if(!b.length)return"";const N=b[0].t??C;return((C-N)/1e3).toFixed(1)+"s"},tick:{fontSize:10},minTickGap:20}),Tt.jsx(b_,{tick:{fontSize:10},domain:["auto","auto"]}),Tt.jsx(K0,{type:"monotone",dataKey:"y",stroke:"#200",dot:!1,isAnimationActive:!1,strokeWidth:4,connectNulls:!1}),Tt.jsx(K0,{type:"monotone",dataKey:"peak",stroke:"#100",dot:{r:3},strokeWidth:0,isAnimationActive:!1,connectNulls:!1,children:Tt.jsx(oo,{dataKey:"peakLabel",position:"top",style:{fontSize:10,fill:"#000",fontWeight:600}})})]})}):Tt.jsx("div",{style:{height:"100%",display:"grid",placeItems:"center",fontSize:12},children:"Waiting for data"})})]})}const Pj=()=>{const{connect:t,disconnect:e,isConnected:n,sendCommand:i}=iP(),[o,s]=F.useState(null),[u,c]=F.useState(null),[d,h]=F.useState(!1),p=100,m=1,g=2.5,_=new pz(m,g,p),b=async()=>{await t("0000180d-0000-1000-8000-00805f9b34fb","12345678-1234-5678-1234-46789fffffff",w=>{const E=w.getFloat32(0,!0),A=_.process(E);s(E),c(A)})},M=()=>{n&&(i(d?0:1),h(S=>!S))};return Tt.jsxs("div",{children:[Tt.jsxs("div",{style:{position:"absolute",top:20,left:20,zIndex:30},children:[Tt.jsx("button",{onClick:n?e:b,children:n?"Disconnect BLE":"Connect BLE"}),n&&Tt.jsx("button",{onClick:M,style:{marginLeft:8},children:d?"Stop":"Play"})]}),Tt.jsx(Oj,{rawValue:o,filteredValue:u,sampleRateHz:p}),Tt.jsx(hz,{sensorValue:o/100})]})};nP.createRoot(document.getElementById("three-root")).render(Tt.jsx(aA.StrictMode,{children:Tt.jsx(Pj,{})}));
